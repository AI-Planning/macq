<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 14.4.0"/>
    <title>macq.observation API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style><script>
    window.MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']]
        }
    };
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script>
    /* Re-invoke MathJax when DOM content changes, for example during search. */
    document.addEventListener("DOMContentLoaded", () => {
        new MutationObserver(() => MathJax.typeset()).observe(
            document.querySelector("main.pdoc").parentNode,
            {childList: true}
        );
    })
</script>
<style>
    mjx-container {
        overflow-x: auto;
    }
</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../macq.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;macq</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="class" href="#Observation">Observation</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Observation.__init__">Observation</a>
                        </li>
                        <li>
                                <a class="variable" href="#Observation.index">index</a>
                        </li>
                        <li>
                                <a class="variable" href="#Observation.state">state</a>
                        </li>
                        <li>
                                <a class="variable" href="#Observation.action">action</a>
                        </li>
                        <li>
                                <a class="function" href="#Observation.get_details">get_details</a>
                        </li>
                        <li>
                                <a class="function" href="#Observation.extract_fluent_subset">extract_fluent_subset</a>
                        </li>
                        <li>
                                <a class="function" href="#Observation.matches">matches</a>
                        </li>
                        <li>
                                <a class="function" href="#Observation.serialize">serialize</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ObservedTraceList">ObservedTraceList</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ObservedTraceList.__init__">ObservedTraceList</a>
                        </li>
                        <li>
                                <a class="variable" href="#ObservedTraceList.observations">observations</a>
                        </li>
                        <li>
                                <a class="variable" href="#ObservedTraceList.type">type</a>
                        </li>
                        <li>
                                <a class="function" href="#ObservedTraceList.insert">insert</a>
                        </li>
                        <li>
                                <a class="function" href="#ObservedTraceList.get_actions">get_actions</a>
                        </li>
                        <li>
                                <a class="function" href="#ObservedTraceList.get_fluents">get_fluents</a>
                        </li>
                        <li>
                                <a class="function" href="#ObservedTraceList.tokenize">tokenize</a>
                        </li>
                        <li>
                                <a class="function" href="#ObservedTraceList.fetch_observations">fetch_observations</a>
                        </li>
                        <li>
                                <a class="function" href="#ObservedTraceList.fetch_observation_windows">fetch_observation_windows</a>
                        </li>
                        <li>
                                <a class="function" href="#ObservedTraceList.get_transitions">get_transitions</a>
                        </li>
                        <li>
                                <a class="function" href="#ObservedTraceList.get_all_transitions">get_all_transitions</a>
                        </li>
                        <li>
                                <a class="function" href="#ObservedTraceList.print">print</a>
                        </li>
                        <li>
                                <a class="function" href="#ObservedTraceList.get_obs_fluents">get_obs_fluents</a>
                        </li>
                        <li>
                                <a class="function" href="#ObservedTraceList.get_obs_static_fluents">get_obs_static_fluents</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#InvalidQueryParameter">InvalidQueryParameter</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#InvalidQueryParameter.__init__">InvalidQueryParameter</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#IdentityObservation">IdentityObservation</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#IdentityObservation.__init__">IdentityObservation</a>
                        </li>
                        <li>
                                <a class="variable" href="#IdentityObservation.state">state</a>
                        </li>
                        <li>
                                <a class="class" href="#IdentityObservation.IdentityState">IdentityObservation.IdentityState</a>
                                        <ul class="memberlist">
                            </ul>

                        </li>
                        <li>
                                <a class="class" href="#IdentityObservation.IdentityAction">IdentityObservation.IdentityAction</a>
                                        <ul class="memberlist">
                                    <li>
                                            <a class="function" href="#IdentityObservation.IdentityAction.__init__">IdentityAction</a>
                                    </li>
                                    <li>
                                            <a class="variable" href="#IdentityObservation.IdentityAction.name">name</a>
                                    </li>
                                    <li>
                                            <a class="variable" href="#IdentityObservation.IdentityAction.obj_params">obj_params</a>
                                    </li>
                                    <li>
                                            <a class="variable" href="#IdentityObservation.IdentityAction.cost">cost</a>
                                    </li>
                            </ul>

                        </li>
                        <li>
                                <a class="variable" href="#IdentityObservation.action">action</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#PartialObservation">PartialObservation</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#PartialObservation.__init__">PartialObservation</a>
                        </li>
                        <li>
                                <a class="variable" href="#PartialObservation.state">state</a>
                        </li>
                        <li>
                                <a class="variable" href="#PartialObservation.action">action</a>
                        </li>
                        <li>
                                <a class="function" href="#PartialObservation.hide_random_subset">hide_random_subset</a>
                        </li>
                        <li>
                                <a class="function" href="#PartialObservation.hide_subset">hide_subset</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ActionObservation">ActionObservation</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ActionObservation.__init__">ActionObservation</a>
                        </li>
                        <li>
                                <a class="variable" href="#ActionObservation.state">state</a>
                        </li>
                        <li>
                                <a class="variable" href="#ActionObservation.action">action</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#AtomicPartialObservation">AtomicPartialObservation</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AtomicPartialObservation.__init__">AtomicPartialObservation</a>
                        </li>
                        <li>
                                <a class="variable" href="#AtomicPartialObservation.state">state</a>
                        </li>
                        <li>
                                <a class="variable" href="#AtomicPartialObservation.action">action</a>
                        </li>
                        <li>
                                <a class="function" href="#AtomicPartialObservation.details">details</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#NoisyObservation">NoisyObservation</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#NoisyObservation.__init__">NoisyObservation</a>
                        </li>
                        <li>
                                <a class="variable" href="#NoisyObservation.state">state</a>
                        </li>
                        <li>
                                <a class="variable" href="#NoisyObservation.action">action</a>
                        </li>
                        <li>
                                <a class="function" href="#NoisyObservation.random_noisy_subset">random_noisy_subset</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#NoisyPartialObservation">NoisyPartialObservation</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#NoisyPartialObservation.__init__">NoisyPartialObservation</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#NoisyPartialDisorderedParallelObservation">NoisyPartialDisorderedParallelObservation</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#NoisyPartialDisorderedParallelObservation.__init__">NoisyPartialDisorderedParallelObservation</a>
                        </li>
                        <li>
                                <a class="variable" href="#NoisyPartialDisorderedParallelObservation.par_act_set_ID">par_act_set_ID</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../macq.html">macq</a><wbr>.observation    </h1>

                
                        <input id="mod-observation-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-observation-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos"> 1</span></a><span class="kn">from</span> <span class="nn">.observation</span> <span class="kn">import</span> <span class="n">Observation</span><span class="p">,</span> <span class="n">InvalidQueryParameter</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos"> 2</span></a><span class="kn">from</span> <span class="nn">.observed_tracelist</span> <span class="kn">import</span> <span class="n">ObservedTraceList</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos"> 3</span></a><span class="kn">from</span> <span class="nn">.identity_observation</span> <span class="kn">import</span> <span class="n">IdentityObservation</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos"> 4</span></a><span class="kn">from</span> <span class="nn">.partial_observation</span> <span class="kn">import</span> <span class="n">PartialObservation</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos"> 5</span></a><span class="kn">from</span> <span class="nn">.atomic_partial_observation</span> <span class="kn">import</span> <span class="n">AtomicPartialObservation</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos"> 6</span></a><span class="kn">from</span> <span class="nn">.noisy_observation</span> <span class="kn">import</span> <span class="n">NoisyObservation</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos"> 7</span></a><span class="kn">from</span> <span class="nn">.action_observation</span> <span class="kn">import</span> <span class="n">ActionObservation</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos"> 8</span></a><span class="kn">from</span> <span class="nn">.noisy_partial_observation</span> <span class="kn">import</span> <span class="n">NoisyPartialObservation</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos"> 9</span></a><span class="kn">from</span> <span class="nn">.noisy_partial_disordered_parallel_observation</span> <span class="kn">import</span> <span class="p">(</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos">10</span></a>    <span class="n">NoisyPartialDisorderedParallelObservation</span><span class="p">,</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos">11</span></a><span class="p">)</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos">12</span></a>
</span><span id="L-13"><a href="#L-13"><span class="linenos">13</span></a>
</span><span id="L-14"><a href="#L-14"><span class="linenos">14</span></a><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos">15</span></a>    <span class="s2">&quot;Observation&quot;</span><span class="p">,</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos">16</span></a>    <span class="s2">&quot;ObservedTraceList&quot;</span><span class="p">,</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos">17</span></a>    <span class="s2">&quot;InvalidQueryParameter&quot;</span><span class="p">,</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos">18</span></a>    <span class="s2">&quot;IdentityObservation&quot;</span><span class="p">,</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos">19</span></a>    <span class="s2">&quot;PartialObservation&quot;</span><span class="p">,</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos">20</span></a>    <span class="s2">&quot;ActionObservation&quot;</span><span class="p">,</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos">21</span></a>    <span class="s2">&quot;AtomicPartialObservation&quot;</span><span class="p">,</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos">22</span></a>    <span class="s2">&quot;NoisyObservation&quot;</span><span class="p">,</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos">23</span></a>    <span class="s2">&quot;NoisyPartialObservation&quot;</span><span class="p">,</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos">24</span></a>    <span class="s2">&quot;NoisyPartialDisorderedParallelObservation&quot;</span><span class="p">,</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos">25</span></a><span class="p">]</span>
</span></pre></div>


            </section>
                <section id="Observation">
                            <input id="Observation-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Observation</span>:

                <label class="view-source-button" for="Observation-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Observation"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Observation-16"><a href="#Observation-16"><span class="linenos">16</span></a><span class="k">class</span> <span class="nc">Observation</span><span class="p">:</span>
</span><span id="Observation-17"><a href="#Observation-17"><span class="linenos">17</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Observation-18"><a href="#Observation-18"><span class="linenos">18</span></a><span class="sd">    An Observation object stores an observation token representation of a step.</span>
</span><span id="Observation-19"><a href="#Observation-19"><span class="linenos">19</span></a>
</span><span id="Observation-20"><a href="#Observation-20"><span class="linenos">20</span></a><span class="sd">    Attributes:</span>
</span><span id="Observation-21"><a href="#Observation-21"><span class="linenos">21</span></a><span class="sd">        step (Step):</span>
</span><span id="Observation-22"><a href="#Observation-22"><span class="linenos">22</span></a><span class="sd">            The step associated with this observation.</span>
</span><span id="Observation-23"><a href="#Observation-23"><span class="linenos">23</span></a><span class="sd">        index (int):</span>
</span><span id="Observation-24"><a href="#Observation-24"><span class="linenos">24</span></a><span class="sd">            The index of the associated step in the trace it is a part of.</span>
</span><span id="Observation-25"><a href="#Observation-25"><span class="linenos">25</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Observation-26"><a href="#Observation-26"><span class="linenos">26</span></a>
</span><span id="Observation-27"><a href="#Observation-27"><span class="linenos">27</span></a>    <span class="n">index</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="Observation-28"><a href="#Observation-28"><span class="linenos">28</span></a>    <span class="n">state</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">State</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="Observation-29"><a href="#Observation-29"><span class="linenos">29</span></a>    <span class="n">action</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Action</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="Observation-30"><a href="#Observation-30"><span class="linenos">30</span></a>
</span><span id="Observation-31"><a href="#Observation-31"><span class="linenos">31</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Observation-32"><a href="#Observation-32"><span class="linenos">32</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Observation-33"><a href="#Observation-33"><span class="linenos">33</span></a><span class="sd">        Creates an Observation object, storing the step as a token, as well as its index/&quot;place&quot;</span>
</span><span id="Observation-34"><a href="#Observation-34"><span class="linenos">34</span></a><span class="sd">        in the trace (which corresponds to that of the step).</span>
</span><span id="Observation-35"><a href="#Observation-35"><span class="linenos">35</span></a>
</span><span id="Observation-36"><a href="#Observation-36"><span class="linenos">36</span></a><span class="sd">        Args:</span>
</span><span id="Observation-37"><a href="#Observation-37"><span class="linenos">37</span></a><span class="sd">            step (Step):</span>
</span><span id="Observation-38"><a href="#Observation-38"><span class="linenos">38</span></a><span class="sd">                The step associated with this observation.</span>
</span><span id="Observation-39"><a href="#Observation-39"><span class="linenos">39</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Observation-40"><a href="#Observation-40"><span class="linenos">40</span></a>        <span class="k">if</span> <span class="s2">&quot;index&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Observation-41"><a href="#Observation-41"><span class="linenos">41</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;index&quot;</span><span class="p">]</span>
</span><span id="Observation-42"><a href="#Observation-42"><span class="linenos">42</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Observation-43"><a href="#Observation-43"><span class="linenos">43</span></a>            <span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Creating an Observation token without an index.&quot;</span><span class="p">)</span>
</span><span id="Observation-44"><a href="#Observation-44"><span class="linenos">44</span></a>
</span><span id="Observation-45"><a href="#Observation-45"><span class="linenos">45</span></a>    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Observation-46"><a href="#Observation-46"><span class="linenos">46</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Observation-47"><a href="#Observation-47"><span class="linenos">47</span></a>        <span class="k">if</span> <span class="n">string</span> <span class="o">==</span> <span class="s2">&quot;Observation</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">:</span>
</span><span id="Observation-48"><a href="#Observation-48"><span class="linenos">48</span></a>            <span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Observation has no unique information. Generating a generic hash.&quot;</span><span class="p">)</span>
</span><span id="Observation-49"><a href="#Observation-49"><span class="linenos">49</span></a>        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
</span><span id="Observation-50"><a href="#Observation-50"><span class="linenos">50</span></a>
</span><span id="Observation-51"><a href="#Observation-51"><span class="linenos">51</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Observation-52"><a href="#Observation-52"><span class="linenos">52</span></a>        <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;Observation</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="Observation-53"><a href="#Observation-53"><span class="linenos">53</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Observation-54"><a href="#Observation-54"><span class="linenos">54</span></a>            <span class="n">out</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;  Index: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="Observation-55"><a href="#Observation-55"><span class="linenos">55</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">:</span>
</span><span id="Observation-56"><a href="#Observation-56"><span class="linenos">56</span></a>            <span class="n">out</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;  State: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="Observation-57"><a href="#Observation-57"><span class="linenos">57</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span><span class="p">:</span>
</span><span id="Observation-58"><a href="#Observation-58"><span class="linenos">58</span></a>            <span class="n">out</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;  Action: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">action</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="Observation-59"><a href="#Observation-59"><span class="linenos">59</span></a>
</span><span id="Observation-60"><a href="#Observation-60"><span class="linenos">60</span></a>        <span class="k">return</span> <span class="n">out</span>
</span><span id="Observation-61"><a href="#Observation-61"><span class="linenos">61</span></a>
</span><span id="Observation-62"><a href="#Observation-62"><span class="linenos">62</span></a>    <span class="k">def</span> <span class="nf">get_details</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Observation-63"><a href="#Observation-63"><span class="linenos">63</span></a>        <span class="n">ind</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="k">else</span> <span class="s2">&quot;-&quot;</span>
</span><span id="Observation-64"><a href="#Observation-64"><span class="linenos">64</span></a>        <span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">details</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="k">else</span> <span class="s2">&quot;-&quot;</span>
</span><span id="Observation-65"><a href="#Observation-65"><span class="linenos">65</span></a>        <span class="n">action</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span><span class="o">.</span><span class="n">details</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
</span><span id="Observation-66"><a href="#Observation-66"><span class="linenos">66</span></a>        <span class="k">return</span> <span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">)</span>
</span><span id="Observation-67"><a href="#Observation-67"><span class="linenos">67</span></a>
</span><span id="Observation-68"><a href="#Observation-68"><span class="linenos">68</span></a>    <span class="k">def</span> <span class="nf">_matches</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">_</span><span class="p">):</span>
</span><span id="Observation-69"><a href="#Observation-69"><span class="linenos">69</span></a>        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</span><span id="Observation-70"><a href="#Observation-70"><span class="linenos">70</span></a>
</span><span id="Observation-71"><a href="#Observation-71"><span class="linenos">71</span></a>    <span class="k">def</span> <span class="nf">extract_fluent_subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="n">State</span><span class="p">,</span> <span class="n">percent</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
</span><span id="Observation-72"><a href="#Observation-72"><span class="linenos">72</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Randomly extracts a subset of fluents from a state, according to the percentage given.</span>
</span><span id="Observation-73"><a href="#Observation-73"><span class="linenos">73</span></a>
</span><span id="Observation-74"><a href="#Observation-74"><span class="linenos">74</span></a><span class="sd">        Args:</span>
</span><span id="Observation-75"><a href="#Observation-75"><span class="linenos">75</span></a><span class="sd">            fluents (State):</span>
</span><span id="Observation-76"><a href="#Observation-76"><span class="linenos">76</span></a><span class="sd">                The state to extract fluents from.</span>
</span><span id="Observation-77"><a href="#Observation-77"><span class="linenos">77</span></a><span class="sd">            percent (float):</span>
</span><span id="Observation-78"><a href="#Observation-78"><span class="linenos">78</span></a><span class="sd">                The percent of the state to be extracted.</span>
</span><span id="Observation-79"><a href="#Observation-79"><span class="linenos">79</span></a>
</span><span id="Observation-80"><a href="#Observation-80"><span class="linenos">80</span></a><span class="sd">        Returns:</span>
</span><span id="Observation-81"><a href="#Observation-81"><span class="linenos">81</span></a><span class="sd">            The random subset of fluents.</span>
</span><span id="Observation-82"><a href="#Observation-82"><span class="linenos">82</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Observation-83"><a href="#Observation-83"><span class="linenos">83</span></a>        <span class="n">num_new_f</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">percent</span><span class="p">))</span>
</span><span id="Observation-84"><a href="#Observation-84"><span class="linenos">84</span></a>
</span><span id="Observation-85"><a href="#Observation-85"><span class="linenos">85</span></a>        <span class="c1"># shuffle keys and take an appropriate subset of them</span>
</span><span id="Observation-86"><a href="#Observation-86"><span class="linenos">86</span></a>        <span class="n">extracted_f</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
</span><span id="Observation-87"><a href="#Observation-87"><span class="linenos">87</span></a>        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">extracted_f</span><span class="p">)</span>
</span><span id="Observation-88"><a href="#Observation-88"><span class="linenos">88</span></a>        <span class="k">return</span> <span class="n">extracted_f</span><span class="p">[:</span><span class="n">num_new_f</span><span class="p">]</span>
</span><span id="Observation-89"><a href="#Observation-89"><span class="linenos">89</span></a>
</span><span id="Observation-90"><a href="#Observation-90"><span class="linenos">90</span></a>    <span class="k">def</span> <span class="nf">matches</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="Observation-91"><a href="#Observation-91"><span class="linenos">91</span></a>        <span class="k">return</span> <span class="nb">all</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">_matches</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">query</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span>
</span><span id="Observation-92"><a href="#Observation-92"><span class="linenos">92</span></a>
</span><span id="Observation-93"><a href="#Observation-93"><span class="linenos">93</span></a>    <span class="k">def</span> <span class="nf">serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Observation-94"><a href="#Observation-94"><span class="linenos">94</span></a>        <span class="k">return</span> <span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="k">lambda</span> <span class="n">o</span><span class="p">:</span> <span class="n">o</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>An Observation object stores an observation token representation of a step.</p>

<p>Attributes:
    step (Step):
        The step associated with this observation.
    index (int):
        The index of the associated step in the trace it is a part of.</p>
</div>


                            <div id="Observation.__init__" class="classattr">
                                        <input id="Observation.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Observation</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">**</span><span class="n">kwargs</span></span>)</span>

                <label class="view-source-button" for="Observation.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Observation.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Observation.__init__-31"><a href="#Observation.__init__-31"><span class="linenos">31</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Observation.__init__-32"><a href="#Observation.__init__-32"><span class="linenos">32</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Observation.__init__-33"><a href="#Observation.__init__-33"><span class="linenos">33</span></a><span class="sd">        Creates an Observation object, storing the step as a token, as well as its index/&quot;place&quot;</span>
</span><span id="Observation.__init__-34"><a href="#Observation.__init__-34"><span class="linenos">34</span></a><span class="sd">        in the trace (which corresponds to that of the step).</span>
</span><span id="Observation.__init__-35"><a href="#Observation.__init__-35"><span class="linenos">35</span></a>
</span><span id="Observation.__init__-36"><a href="#Observation.__init__-36"><span class="linenos">36</span></a><span class="sd">        Args:</span>
</span><span id="Observation.__init__-37"><a href="#Observation.__init__-37"><span class="linenos">37</span></a><span class="sd">            step (Step):</span>
</span><span id="Observation.__init__-38"><a href="#Observation.__init__-38"><span class="linenos">38</span></a><span class="sd">                The step associated with this observation.</span>
</span><span id="Observation.__init__-39"><a href="#Observation.__init__-39"><span class="linenos">39</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Observation.__init__-40"><a href="#Observation.__init__-40"><span class="linenos">40</span></a>        <span class="k">if</span> <span class="s2">&quot;index&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Observation.__init__-41"><a href="#Observation.__init__-41"><span class="linenos">41</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;index&quot;</span><span class="p">]</span>
</span><span id="Observation.__init__-42"><a href="#Observation.__init__-42"><span class="linenos">42</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Observation.__init__-43"><a href="#Observation.__init__-43"><span class="linenos">43</span></a>            <span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Creating an Observation token without an index.&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Creates an Observation object, storing the step as a token, as well as its index/"place"
in the trace (which corresponds to that of the step).</p>

<p>Args:
    step (Step):
        The step associated with this observation.</p>
</div>


                            </div>
                            <div id="Observation.index" class="classattr">
                                <div class="attr variable">
            <span class="name">index</span><span class="annotation">: int</span>

        
    </div>
    <a class="headerlink" href="#Observation.index"></a>
    
    

                            </div>
                            <div id="Observation.state" class="classattr">
                                <div class="attr variable">
            <span class="name">state</span><span class="annotation">: Union[macq.trace.state.State, NoneType]</span>

        
    </div>
    <a class="headerlink" href="#Observation.state"></a>
    
    

                            </div>
                            <div id="Observation.action" class="classattr">
                                <div class="attr variable">
            <span class="name">action</span><span class="annotation">: Union[macq.trace.action.Action, NoneType]</span>

        
    </div>
    <a class="headerlink" href="#Observation.action"></a>
    
    

                            </div>
                            <div id="Observation.get_details" class="classattr">
                                        <input id="Observation.get_details-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_details</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Observation.get_details-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Observation.get_details"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Observation.get_details-62"><a href="#Observation.get_details-62"><span class="linenos">62</span></a>    <span class="k">def</span> <span class="nf">get_details</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Observation.get_details-63"><a href="#Observation.get_details-63"><span class="linenos">63</span></a>        <span class="n">ind</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="k">else</span> <span class="s2">&quot;-&quot;</span>
</span><span id="Observation.get_details-64"><a href="#Observation.get_details-64"><span class="linenos">64</span></a>        <span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">details</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="k">else</span> <span class="s2">&quot;-&quot;</span>
</span><span id="Observation.get_details-65"><a href="#Observation.get_details-65"><span class="linenos">65</span></a>        <span class="n">action</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span><span class="o">.</span><span class="n">details</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
</span><span id="Observation.get_details-66"><a href="#Observation.get_details-66"><span class="linenos">66</span></a>        <span class="k">return</span> <span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="Observation.extract_fluent_subset" class="classattr">
                                        <input id="Observation.extract_fluent_subset-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">extract_fluent_subset</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">state</span><span class="p">:</span> <span class="n">macq</span><span class="o">.</span><span class="n">trace</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">State</span>, </span><span class="param"><span class="n">percent</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Observation.extract_fluent_subset-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Observation.extract_fluent_subset"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Observation.extract_fluent_subset-71"><a href="#Observation.extract_fluent_subset-71"><span class="linenos">71</span></a>    <span class="k">def</span> <span class="nf">extract_fluent_subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="n">State</span><span class="p">,</span> <span class="n">percent</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
</span><span id="Observation.extract_fluent_subset-72"><a href="#Observation.extract_fluent_subset-72"><span class="linenos">72</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Randomly extracts a subset of fluents from a state, according to the percentage given.</span>
</span><span id="Observation.extract_fluent_subset-73"><a href="#Observation.extract_fluent_subset-73"><span class="linenos">73</span></a>
</span><span id="Observation.extract_fluent_subset-74"><a href="#Observation.extract_fluent_subset-74"><span class="linenos">74</span></a><span class="sd">        Args:</span>
</span><span id="Observation.extract_fluent_subset-75"><a href="#Observation.extract_fluent_subset-75"><span class="linenos">75</span></a><span class="sd">            fluents (State):</span>
</span><span id="Observation.extract_fluent_subset-76"><a href="#Observation.extract_fluent_subset-76"><span class="linenos">76</span></a><span class="sd">                The state to extract fluents from.</span>
</span><span id="Observation.extract_fluent_subset-77"><a href="#Observation.extract_fluent_subset-77"><span class="linenos">77</span></a><span class="sd">            percent (float):</span>
</span><span id="Observation.extract_fluent_subset-78"><a href="#Observation.extract_fluent_subset-78"><span class="linenos">78</span></a><span class="sd">                The percent of the state to be extracted.</span>
</span><span id="Observation.extract_fluent_subset-79"><a href="#Observation.extract_fluent_subset-79"><span class="linenos">79</span></a>
</span><span id="Observation.extract_fluent_subset-80"><a href="#Observation.extract_fluent_subset-80"><span class="linenos">80</span></a><span class="sd">        Returns:</span>
</span><span id="Observation.extract_fluent_subset-81"><a href="#Observation.extract_fluent_subset-81"><span class="linenos">81</span></a><span class="sd">            The random subset of fluents.</span>
</span><span id="Observation.extract_fluent_subset-82"><a href="#Observation.extract_fluent_subset-82"><span class="linenos">82</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Observation.extract_fluent_subset-83"><a href="#Observation.extract_fluent_subset-83"><span class="linenos">83</span></a>        <span class="n">num_new_f</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">percent</span><span class="p">))</span>
</span><span id="Observation.extract_fluent_subset-84"><a href="#Observation.extract_fluent_subset-84"><span class="linenos">84</span></a>
</span><span id="Observation.extract_fluent_subset-85"><a href="#Observation.extract_fluent_subset-85"><span class="linenos">85</span></a>        <span class="c1"># shuffle keys and take an appropriate subset of them</span>
</span><span id="Observation.extract_fluent_subset-86"><a href="#Observation.extract_fluent_subset-86"><span class="linenos">86</span></a>        <span class="n">extracted_f</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
</span><span id="Observation.extract_fluent_subset-87"><a href="#Observation.extract_fluent_subset-87"><span class="linenos">87</span></a>        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">extracted_f</span><span class="p">)</span>
</span><span id="Observation.extract_fluent_subset-88"><a href="#Observation.extract_fluent_subset-88"><span class="linenos">88</span></a>        <span class="k">return</span> <span class="n">extracted_f</span><span class="p">[:</span><span class="n">num_new_f</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Randomly extracts a subset of fluents from a state, according to the percentage given.</p>

<p>Args:
    fluents (State):
        The state to extract fluents from.
    percent (float):
        The percent of the state to be extracted.</p>

<p>Returns:
    The random subset of fluents.</p>
</div>


                            </div>
                            <div id="Observation.matches" class="classattr">
                                        <input id="Observation.matches-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">matches</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">query</span><span class="p">:</span> <span class="nb">dict</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Observation.matches-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Observation.matches"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Observation.matches-90"><a href="#Observation.matches-90"><span class="linenos">90</span></a>    <span class="k">def</span> <span class="nf">matches</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="Observation.matches-91"><a href="#Observation.matches-91"><span class="linenos">91</span></a>        <span class="k">return</span> <span class="nb">all</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">_matches</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">query</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span>
</span></pre></div>


    

                            </div>
                            <div id="Observation.serialize" class="classattr">
                                        <input id="Observation.serialize-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">serialize</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Observation.serialize-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Observation.serialize"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Observation.serialize-93"><a href="#Observation.serialize-93"><span class="linenos">93</span></a>    <span class="k">def</span> <span class="nf">serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Observation.serialize-94"><a href="#Observation.serialize-94"><span class="linenos">94</span></a>        <span class="k">return</span> <span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="k">lambda</span> <span class="n">o</span><span class="p">:</span> <span class="n">o</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                </section>
                <section id="ObservedTraceList">
                            <input id="ObservedTraceList-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ObservedTraceList</span><wbr>(<span class="base">collections.abc.MutableSequence</span>):

                <label class="view-source-button" for="ObservedTraceList-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObservedTraceList"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObservedTraceList-40"><a href="#ObservedTraceList-40"><span class="linenos"> 40</span></a><span class="k">class</span> <span class="nc">ObservedTraceList</span><span class="p">(</span><span class="n">MutableSequence</span><span class="p">):</span>
</span><span id="ObservedTraceList-41"><a href="#ObservedTraceList-41"><span class="linenos"> 41</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A sequence of observations.</span>
</span><span id="ObservedTraceList-42"><a href="#ObservedTraceList-42"><span class="linenos"> 42</span></a>
</span><span id="ObservedTraceList-43"><a href="#ObservedTraceList-43"><span class="linenos"> 43</span></a><span class="sd">    A `list`-like object, where each element is a list of `Observation`s.</span>
</span><span id="ObservedTraceList-44"><a href="#ObservedTraceList-44"><span class="linenos"> 44</span></a>
</span><span id="ObservedTraceList-45"><a href="#ObservedTraceList-45"><span class="linenos"> 45</span></a><span class="sd">    Attributes:</span>
</span><span id="ObservedTraceList-46"><a href="#ObservedTraceList-46"><span class="linenos"> 46</span></a><span class="sd">        observations (List[List[Observation]]):</span>
</span><span id="ObservedTraceList-47"><a href="#ObservedTraceList-47"><span class="linenos"> 47</span></a><span class="sd">            The internal list of lists of `Observation` objects.</span>
</span><span id="ObservedTraceList-48"><a href="#ObservedTraceList-48"><span class="linenos"> 48</span></a><span class="sd">        type (Type[Observation]):</span>
</span><span id="ObservedTraceList-49"><a href="#ObservedTraceList-49"><span class="linenos"> 49</span></a><span class="sd">            The type (class) of the observations.</span>
</span><span id="ObservedTraceList-50"><a href="#ObservedTraceList-50"><span class="linenos"> 50</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="ObservedTraceList-51"><a href="#ObservedTraceList-51"><span class="linenos"> 51</span></a>
</span><span id="ObservedTraceList-52"><a href="#ObservedTraceList-52"><span class="linenos"> 52</span></a>    <span class="n">observations</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Observation</span><span class="p">]]</span>
</span><span id="ObservedTraceList-53"><a href="#ObservedTraceList-53"><span class="linenos"> 53</span></a>    <span class="nb">type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Observation</span><span class="p">]</span>
</span><span id="ObservedTraceList-54"><a href="#ObservedTraceList-54"><span class="linenos"> 54</span></a>
</span><span id="ObservedTraceList-55"><a href="#ObservedTraceList-55"><span class="linenos"> 55</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="ObservedTraceList-56"><a href="#ObservedTraceList-56"><span class="linenos"> 56</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="ObservedTraceList-57"><a href="#ObservedTraceList-57"><span class="linenos"> 57</span></a>        <span class="n">trace_list</span><span class="p">:</span> <span class="n">TraceList</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="ObservedTraceList-58"><a href="#ObservedTraceList-58"><span class="linenos"> 58</span></a>        <span class="n">Token</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Observation</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="ObservedTraceList-59"><a href="#ObservedTraceList-59"><span class="linenos"> 59</span></a>        <span class="n">observations</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Observation</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="ObservedTraceList-60"><a href="#ObservedTraceList-60"><span class="linenos"> 60</span></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="ObservedTraceList-61"><a href="#ObservedTraceList-61"><span class="linenos"> 61</span></a>    <span class="p">):</span>
</span><span id="ObservedTraceList-62"><a href="#ObservedTraceList-62"><span class="linenos"> 62</span></a>        <span class="k">if</span> <span class="n">trace_list</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ObservedTraceList-63"><a href="#ObservedTraceList-63"><span class="linenos"> 63</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">Token</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">observations</span><span class="p">:</span>
</span><span id="ObservedTraceList-64"><a href="#ObservedTraceList-64"><span class="linenos"> 64</span></a>                <span class="k">raise</span> <span class="n">MissingToken</span><span class="p">()</span>
</span><span id="ObservedTraceList-65"><a href="#ObservedTraceList-65"><span class="linenos"> 65</span></a>
</span><span id="ObservedTraceList-66"><a href="#ObservedTraceList-66"><span class="linenos"> 66</span></a>            <span class="k">if</span> <span class="n">Token</span><span class="p">:</span>
</span><span id="ObservedTraceList-67"><a href="#ObservedTraceList-67"><span class="linenos"> 67</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">Token</span>
</span><span id="ObservedTraceList-68"><a href="#ObservedTraceList-68"><span class="linenos"> 68</span></a>
</span><span id="ObservedTraceList-69"><a href="#ObservedTraceList-69"><span class="linenos"> 69</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">observations</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ObservedTraceList-70"><a href="#ObservedTraceList-70"><span class="linenos"> 70</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">trace_list</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="ObservedTraceList-71"><a href="#ObservedTraceList-71"><span class="linenos"> 71</span></a>
</span><span id="ObservedTraceList-72"><a href="#ObservedTraceList-72"><span class="linenos"> 72</span></a>            <span class="k">if</span> <span class="n">observations</span><span class="p">:</span>
</span><span id="ObservedTraceList-73"><a href="#ObservedTraceList-73"><span class="linenos"> 73</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">observations</span><span class="p">)</span>
</span><span id="ObservedTraceList-74"><a href="#ObservedTraceList-74"><span class="linenos"> 74</span></a>                <span class="c1"># Check that the observations are of the specified token type</span>
</span><span id="ObservedTraceList-75"><a href="#ObservedTraceList-75"><span class="linenos"> 75</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">observations</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">:</span>
</span><span id="ObservedTraceList-76"><a href="#ObservedTraceList-76"><span class="linenos"> 76</span></a>                    <span class="k">raise</span> <span class="n">TokenTypeMismatch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">observations</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]))</span>
</span><span id="ObservedTraceList-77"><a href="#ObservedTraceList-77"><span class="linenos"> 77</span></a>                <span class="c1"># If token type was not provided, infer it from the observations</span>
</span><span id="ObservedTraceList-78"><a href="#ObservedTraceList-78"><span class="linenos"> 78</span></a>                <span class="k">elif</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">:</span>
</span><span id="ObservedTraceList-79"><a href="#ObservedTraceList-79"><span class="linenos"> 79</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">observations</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
</span><span id="ObservedTraceList-80"><a href="#ObservedTraceList-80"><span class="linenos"> 80</span></a>
</span><span id="ObservedTraceList-81"><a href="#ObservedTraceList-81"><span class="linenos"> 81</span></a>        <span class="k">elif</span> <span class="n">observations</span><span class="p">:</span>
</span><span id="ObservedTraceList-82"><a href="#ObservedTraceList-82"><span class="linenos"> 82</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">observations</span> <span class="o">=</span> <span class="n">observations</span>
</span><span id="ObservedTraceList-83"><a href="#ObservedTraceList-83"><span class="linenos"> 83</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">observations</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
</span><span id="ObservedTraceList-84"><a href="#ObservedTraceList-84"><span class="linenos"> 84</span></a>
</span><span id="ObservedTraceList-85"><a href="#ObservedTraceList-85"><span class="linenos"> 85</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ObservedTraceList-86"><a href="#ObservedTraceList-86"><span class="linenos"> 86</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">observations</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ObservedTraceList-87"><a href="#ObservedTraceList-87"><span class="linenos"> 87</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">Observation</span>
</span><span id="ObservedTraceList-88"><a href="#ObservedTraceList-88"><span class="linenos"> 88</span></a>
</span><span id="ObservedTraceList-89"><a href="#ObservedTraceList-89"><span class="linenos"> 89</span></a>    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="ObservedTraceList-90"><a href="#ObservedTraceList-90"><span class="linenos"> 90</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">observations</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="ObservedTraceList-91"><a href="#ObservedTraceList-91"><span class="linenos"> 91</span></a>
</span><span id="ObservedTraceList-92"><a href="#ObservedTraceList-92"><span class="linenos"> 92</span></a>    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Observation</span><span class="p">]):</span>
</span><span id="ObservedTraceList-93"><a href="#ObservedTraceList-93"><span class="linenos"> 93</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">observations</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="ObservedTraceList-94"><a href="#ObservedTraceList-94"><span class="linenos"> 94</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">Observation</span><span class="p">:</span>
</span><span id="ObservedTraceList-95"><a href="#ObservedTraceList-95"><span class="linenos"> 95</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="ObservedTraceList-96"><a href="#ObservedTraceList-96"><span class="linenos"> 96</span></a>        <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">:</span>
</span><span id="ObservedTraceList-97"><a href="#ObservedTraceList-97"><span class="linenos"> 97</span></a>            <span class="k">raise</span> <span class="n">TokenTypeMismatch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
</span><span id="ObservedTraceList-98"><a href="#ObservedTraceList-98"><span class="linenos"> 98</span></a>
</span><span id="ObservedTraceList-99"><a href="#ObservedTraceList-99"><span class="linenos"> 99</span></a>    <span class="k">def</span> <span class="fm">__delitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="ObservedTraceList-100"><a href="#ObservedTraceList-100"><span class="linenos">100</span></a>        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">observations</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="ObservedTraceList-101"><a href="#ObservedTraceList-101"><span class="linenos">101</span></a>
</span><span id="ObservedTraceList-102"><a href="#ObservedTraceList-102"><span class="linenos">102</span></a>    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ObservedTraceList-103"><a href="#ObservedTraceList-103"><span class="linenos">103</span></a>        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">observations</span><span class="p">)</span>
</span><span id="ObservedTraceList-104"><a href="#ObservedTraceList-104"><span class="linenos">104</span></a>
</span><span id="ObservedTraceList-105"><a href="#ObservedTraceList-105"><span class="linenos">105</span></a>    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ObservedTraceList-106"><a href="#ObservedTraceList-106"><span class="linenos">106</span></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">observations</span><span class="p">)</span>
</span><span id="ObservedTraceList-107"><a href="#ObservedTraceList-107"><span class="linenos">107</span></a>
</span><span id="ObservedTraceList-108"><a href="#ObservedTraceList-108"><span class="linenos">108</span></a>    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Observation</span><span class="p">]):</span>
</span><span id="ObservedTraceList-109"><a href="#ObservedTraceList-109"><span class="linenos">109</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">observations</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="ObservedTraceList-110"><a href="#ObservedTraceList-110"><span class="linenos">110</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">Observation</span><span class="p">:</span>
</span><span id="ObservedTraceList-111"><a href="#ObservedTraceList-111"><span class="linenos">111</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="ObservedTraceList-112"><a href="#ObservedTraceList-112"><span class="linenos">112</span></a>        <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">:</span>
</span><span id="ObservedTraceList-113"><a href="#ObservedTraceList-113"><span class="linenos">113</span></a>            <span class="k">raise</span> <span class="n">TokenTypeMismatch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
</span><span id="ObservedTraceList-114"><a href="#ObservedTraceList-114"><span class="linenos">114</span></a>
</span><span id="ObservedTraceList-115"><a href="#ObservedTraceList-115"><span class="linenos">115</span></a>    <span class="k">def</span> <span class="nf">get_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">Action</span><span class="p">]:</span>
</span><span id="ObservedTraceList-116"><a href="#ObservedTraceList-116"><span class="linenos">116</span></a>        <span class="n">actions</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">Action</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="ObservedTraceList-117"><a href="#ObservedTraceList-117"><span class="linenos">117</span></a>        <span class="k">for</span> <span class="n">obs_trace</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span id="ObservedTraceList-118"><a href="#ObservedTraceList-118"><span class="linenos">118</span></a>            <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">obs_trace</span><span class="p">:</span>
</span><span id="ObservedTraceList-119"><a href="#ObservedTraceList-119"><span class="linenos">119</span></a>                <span class="n">action</span> <span class="o">=</span> <span class="n">obs</span><span class="o">.</span><span class="n">action</span>
</span><span id="ObservedTraceList-120"><a href="#ObservedTraceList-120"><span class="linenos">120</span></a>                <span class="k">if</span> <span class="n">action</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ObservedTraceList-121"><a href="#ObservedTraceList-121"><span class="linenos">121</span></a>                    <span class="n">actions</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
</span><span id="ObservedTraceList-122"><a href="#ObservedTraceList-122"><span class="linenos">122</span></a>        <span class="k">return</span> <span class="n">actions</span>
</span><span id="ObservedTraceList-123"><a href="#ObservedTraceList-123"><span class="linenos">123</span></a>
</span><span id="ObservedTraceList-124"><a href="#ObservedTraceList-124"><span class="linenos">124</span></a>    <span class="k">def</span> <span class="nf">get_fluents</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">Fluent</span><span class="p">]:</span>
</span><span id="ObservedTraceList-125"><a href="#ObservedTraceList-125"><span class="linenos">125</span></a>        <span class="n">fluents</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">Fluent</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="ObservedTraceList-126"><a href="#ObservedTraceList-126"><span class="linenos">126</span></a>        <span class="k">for</span> <span class="n">obs_trace</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span id="ObservedTraceList-127"><a href="#ObservedTraceList-127"><span class="linenos">127</span></a>            <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">obs_trace</span><span class="p">:</span>
</span><span id="ObservedTraceList-128"><a href="#ObservedTraceList-128"><span class="linenos">128</span></a>                <span class="k">if</span> <span class="n">obs</span><span class="o">.</span><span class="n">state</span><span class="p">:</span>
</span><span id="ObservedTraceList-129"><a href="#ObservedTraceList-129"><span class="linenos">129</span></a>                    <span class="n">fluents</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">obs</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
</span><span id="ObservedTraceList-130"><a href="#ObservedTraceList-130"><span class="linenos">130</span></a>        <span class="k">return</span> <span class="n">fluents</span>
</span><span id="ObservedTraceList-131"><a href="#ObservedTraceList-131"><span class="linenos">131</span></a>
</span><span id="ObservedTraceList-132"><a href="#ObservedTraceList-132"><span class="linenos">132</span></a>    <span class="k">def</span> <span class="nf">tokenize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trace_list</span><span class="p">:</span> <span class="n">TraceList</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="ObservedTraceList-133"><a href="#ObservedTraceList-133"><span class="linenos">133</span></a>        <span class="k">for</span> <span class="n">trace</span> <span class="ow">in</span> <span class="n">trace_list</span><span class="p">:</span>
</span><span id="ObservedTraceList-134"><a href="#ObservedTraceList-134"><span class="linenos">134</span></a>            <span class="n">tokens</span> <span class="o">=</span> <span class="n">trace</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="ObservedTraceList-135"><a href="#ObservedTraceList-135"><span class="linenos">135</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>
</span><span id="ObservedTraceList-136"><a href="#ObservedTraceList-136"><span class="linenos">136</span></a>
</span><span id="ObservedTraceList-137"><a href="#ObservedTraceList-137"><span class="linenos">137</span></a>    <span class="k">def</span> <span class="nf">fetch_observations</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">Observation</span><span class="p">]]:</span>
</span><span id="ObservedTraceList-138"><a href="#ObservedTraceList-138"><span class="linenos">138</span></a>        <span class="n">matches</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">Observation</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ObservedTraceList-139"><a href="#ObservedTraceList-139"><span class="linenos">139</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">obs_trace</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">observations</span><span class="p">):</span>
</span><span id="ObservedTraceList-140"><a href="#ObservedTraceList-140"><span class="linenos">140</span></a>            <span class="n">matches</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">set</span><span class="p">())</span>
</span><span id="ObservedTraceList-141"><a href="#ObservedTraceList-141"><span class="linenos">141</span></a>            <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">obs_trace</span><span class="p">:</span>
</span><span id="ObservedTraceList-142"><a href="#ObservedTraceList-142"><span class="linenos">142</span></a>                <span class="k">if</span> <span class="n">obs</span><span class="o">.</span><span class="n">matches</span><span class="p">(</span><span class="n">query</span><span class="p">):</span>
</span><span id="ObservedTraceList-143"><a href="#ObservedTraceList-143"><span class="linenos">143</span></a>                    <span class="n">matches</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">obs</span><span class="p">)</span>
</span><span id="ObservedTraceList-144"><a href="#ObservedTraceList-144"><span class="linenos">144</span></a>        <span class="k">return</span> <span class="n">matches</span>
</span><span id="ObservedTraceList-145"><a href="#ObservedTraceList-145"><span class="linenos">145</span></a>
</span><span id="ObservedTraceList-146"><a href="#ObservedTraceList-146"><span class="linenos">146</span></a>    <span class="k">def</span> <span class="nf">fetch_observation_windows</span><span class="p">(</span>
</span><span id="ObservedTraceList-147"><a href="#ObservedTraceList-147"><span class="linenos">147</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="ObservedTraceList-148"><a href="#ObservedTraceList-148"><span class="linenos">148</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Observation</span><span class="p">]]:</span>
</span><span id="ObservedTraceList-149"><a href="#ObservedTraceList-149"><span class="linenos">149</span></a>        <span class="n">windows</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ObservedTraceList-150"><a href="#ObservedTraceList-150"><span class="linenos">150</span></a>        <span class="n">matches</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch_observations</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</span><span id="ObservedTraceList-151"><a href="#ObservedTraceList-151"><span class="linenos">151</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">obs_set</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">matches</span><span class="p">):</span>
</span><span id="ObservedTraceList-152"><a href="#ObservedTraceList-152"><span class="linenos">152</span></a>            <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">obs_set</span><span class="p">:</span>
</span><span id="ObservedTraceList-153"><a href="#ObservedTraceList-153"><span class="linenos">153</span></a>                <span class="c1"># NOTE: obs.index starts at 1</span>
</span><span id="ObservedTraceList-154"><a href="#ObservedTraceList-154"><span class="linenos">154</span></a>                <span class="n">start</span> <span class="o">=</span> <span class="n">obs</span><span class="o">.</span><span class="n">index</span> <span class="o">-</span> <span class="n">left</span> <span class="o">-</span> <span class="mi">1</span>
</span><span id="ObservedTraceList-155"><a href="#ObservedTraceList-155"><span class="linenos">155</span></a>                <span class="n">end</span> <span class="o">=</span> <span class="n">obs</span><span class="o">.</span><span class="n">index</span> <span class="o">+</span> <span class="n">right</span>
</span><span id="ObservedTraceList-156"><a href="#ObservedTraceList-156"><span class="linenos">156</span></a>                <span class="n">windows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">])</span>
</span><span id="ObservedTraceList-157"><a href="#ObservedTraceList-157"><span class="linenos">157</span></a>        <span class="k">return</span> <span class="n">windows</span>
</span><span id="ObservedTraceList-158"><a href="#ObservedTraceList-158"><span class="linenos">158</span></a>
</span><span id="ObservedTraceList-159"><a href="#ObservedTraceList-159"><span class="linenos">159</span></a>    <span class="k">def</span> <span class="nf">get_transitions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Observation</span><span class="p">]]:</span>
</span><span id="ObservedTraceList-160"><a href="#ObservedTraceList-160"><span class="linenos">160</span></a>        <span class="n">query</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="n">action</span><span class="p">}</span>
</span><span id="ObservedTraceList-161"><a href="#ObservedTraceList-161"><span class="linenos">161</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch_observation_windows</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="ObservedTraceList-162"><a href="#ObservedTraceList-162"><span class="linenos">162</span></a>
</span><span id="ObservedTraceList-163"><a href="#ObservedTraceList-163"><span class="linenos">163</span></a>    <span class="k">def</span> <span class="nf">get_all_transitions</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Action</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Observation</span><span class="p">]]]:</span>
</span><span id="ObservedTraceList-164"><a href="#ObservedTraceList-164"><span class="linenos">164</span></a>        <span class="n">actions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_actions</span><span class="p">()</span>
</span><span id="ObservedTraceList-165"><a href="#ObservedTraceList-165"><span class="linenos">165</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="ObservedTraceList-166"><a href="#ObservedTraceList-166"><span class="linenos">166</span></a>            <span class="k">return</span> <span class="p">{</span>
</span><span id="ObservedTraceList-167"><a href="#ObservedTraceList-167"><span class="linenos">167</span></a>                <span class="n">action</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_transitions</span><span class="p">(</span><span class="n">action</span><span class="o">.</span><span class="n">details</span><span class="p">())</span> <span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="n">actions</span>
</span><span id="ObservedTraceList-168"><a href="#ObservedTraceList-168"><span class="linenos">168</span></a>            <span class="p">}</span>
</span><span id="ObservedTraceList-169"><a href="#ObservedTraceList-169"><span class="linenos">169</span></a>        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
</span><span id="ObservedTraceList-170"><a href="#ObservedTraceList-170"><span class="linenos">170</span></a>            <span class="k">return</span> <span class="p">{</span><span class="n">action</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_transitions</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">action</span><span class="p">))</span> <span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">}</span>
</span><span id="ObservedTraceList-171"><a href="#ObservedTraceList-171"><span class="linenos">171</span></a>
</span><span id="ObservedTraceList-172"><a href="#ObservedTraceList-172"><span class="linenos">172</span></a>    <span class="k">def</span> <span class="nf">print</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">view</span><span class="o">=</span><span class="s2">&quot;details&quot;</span><span class="p">,</span> <span class="n">filter_func</span><span class="o">=</span><span class="k">lambda</span> <span class="n">_</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="n">wrap</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="ObservedTraceList-173"><a href="#ObservedTraceList-173"><span class="linenos">173</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Pretty prints the trace list in the specified view.</span>
</span><span id="ObservedTraceList-174"><a href="#ObservedTraceList-174"><span class="linenos">174</span></a>
</span><span id="ObservedTraceList-175"><a href="#ObservedTraceList-175"><span class="linenos">175</span></a><span class="sd">        Arguments:</span>
</span><span id="ObservedTraceList-176"><a href="#ObservedTraceList-176"><span class="linenos">176</span></a><span class="sd">            view (&quot;details&quot; | &quot;color&quot;):</span>
</span><span id="ObservedTraceList-177"><a href="#ObservedTraceList-177"><span class="linenos">177</span></a><span class="sd">                Specifies the view format to print in. &quot;details&quot; provides a</span>
</span><span id="ObservedTraceList-178"><a href="#ObservedTraceList-178"><span class="linenos">178</span></a><span class="sd">                detailed summary of each step in a trace. &quot;color&quot; provides a</span>
</span><span id="ObservedTraceList-179"><a href="#ObservedTraceList-179"><span class="linenos">179</span></a><span class="sd">                color grid, mapping fluents in a step to either red or green</span>
</span><span id="ObservedTraceList-180"><a href="#ObservedTraceList-180"><span class="linenos">180</span></a><span class="sd">                corresponding to the truth value.</span>
</span><span id="ObservedTraceList-181"><a href="#ObservedTraceList-181"><span class="linenos">181</span></a><span class="sd">            filter_func (function):</span>
</span><span id="ObservedTraceList-182"><a href="#ObservedTraceList-182"><span class="linenos">182</span></a><span class="sd">                Optional; Used to filter which fluents are printed in the</span>
</span><span id="ObservedTraceList-183"><a href="#ObservedTraceList-183"><span class="linenos">183</span></a><span class="sd">                colorgrid display.</span>
</span><span id="ObservedTraceList-184"><a href="#ObservedTraceList-184"><span class="linenos">184</span></a><span class="sd">            wrap (bool):</span>
</span><span id="ObservedTraceList-185"><a href="#ObservedTraceList-185"><span class="linenos">185</span></a><span class="sd">                Determines if the output is wrapped or cut off. Details defaults</span>
</span><span id="ObservedTraceList-186"><a href="#ObservedTraceList-186"><span class="linenos">186</span></a><span class="sd">                to cut off (wrap=False), color defaults to wrap (wrap=True).</span>
</span><span id="ObservedTraceList-187"><a href="#ObservedTraceList-187"><span class="linenos">187</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ObservedTraceList-188"><a href="#ObservedTraceList-188"><span class="linenos">188</span></a>        <span class="n">console</span> <span class="o">=</span> <span class="n">Console</span><span class="p">()</span>
</span><span id="ObservedTraceList-189"><a href="#ObservedTraceList-189"><span class="linenos">189</span></a>
</span><span id="ObservedTraceList-190"><a href="#ObservedTraceList-190"><span class="linenos">190</span></a>        <span class="n">views</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;details&quot;</span><span class="p">,</span> <span class="s2">&quot;color&quot;</span><span class="p">]</span>
</span><span id="ObservedTraceList-191"><a href="#ObservedTraceList-191"><span class="linenos">191</span></a>        <span class="k">if</span> <span class="n">view</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">views</span><span class="p">:</span>
</span><span id="ObservedTraceList-192"><a href="#ObservedTraceList-192"><span class="linenos">192</span></a>            <span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid view </span><span class="si">{</span><span class="n">view</span><span class="si">}</span><span class="s1">. Defaulting to &quot;details&quot;.&#39;</span><span class="p">)</span>
</span><span id="ObservedTraceList-193"><a href="#ObservedTraceList-193"><span class="linenos">193</span></a>            <span class="n">view</span> <span class="o">=</span> <span class="s2">&quot;details&quot;</span>
</span><span id="ObservedTraceList-194"><a href="#ObservedTraceList-194"><span class="linenos">194</span></a>
</span><span id="ObservedTraceList-195"><a href="#ObservedTraceList-195"><span class="linenos">195</span></a>        <span class="n">obs_tracelist</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ObservedTraceList-196"><a href="#ObservedTraceList-196"><span class="linenos">196</span></a>        <span class="k">if</span> <span class="n">view</span> <span class="o">==</span> <span class="s2">&quot;details&quot;</span><span class="p">:</span>
</span><span id="ObservedTraceList-197"><a href="#ObservedTraceList-197"><span class="linenos">197</span></a>            <span class="k">if</span> <span class="n">wrap</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ObservedTraceList-198"><a href="#ObservedTraceList-198"><span class="linenos">198</span></a>                <span class="n">wrap</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="ObservedTraceList-199"><a href="#ObservedTraceList-199"><span class="linenos">199</span></a>            <span class="n">obs_tracelist</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_details</span><span class="p">(</span><span class="n">obs_trace</span><span class="p">,</span> <span class="n">wrap</span><span class="o">=</span><span class="n">wrap</span><span class="p">)</span> <span class="k">for</span> <span class="n">obs_trace</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">]</span>
</span><span id="ObservedTraceList-200"><a href="#ObservedTraceList-200"><span class="linenos">200</span></a>
</span><span id="ObservedTraceList-201"><a href="#ObservedTraceList-201"><span class="linenos">201</span></a>        <span class="k">elif</span> <span class="n">view</span> <span class="o">==</span> <span class="s2">&quot;color&quot;</span><span class="p">:</span>
</span><span id="ObservedTraceList-202"><a href="#ObservedTraceList-202"><span class="linenos">202</span></a>            <span class="k">if</span> <span class="n">wrap</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ObservedTraceList-203"><a href="#ObservedTraceList-203"><span class="linenos">203</span></a>                <span class="n">wrap</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="ObservedTraceList-204"><a href="#ObservedTraceList-204"><span class="linenos">204</span></a>            <span class="n">obs_tracelist</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="ObservedTraceList-205"><a href="#ObservedTraceList-205"><span class="linenos">205</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_colorgrid</span><span class="p">(</span><span class="n">obs_trace</span><span class="p">,</span> <span class="n">filter_func</span><span class="o">=</span><span class="n">filter_func</span><span class="p">,</span> <span class="n">wrap</span><span class="o">=</span><span class="n">wrap</span><span class="p">)</span>
</span><span id="ObservedTraceList-206"><a href="#ObservedTraceList-206"><span class="linenos">206</span></a>                <span class="k">for</span> <span class="n">obs_trace</span> <span class="ow">in</span> <span class="bp">self</span>
</span><span id="ObservedTraceList-207"><a href="#ObservedTraceList-207"><span class="linenos">207</span></a>            <span class="p">]</span>
</span><span id="ObservedTraceList-208"><a href="#ObservedTraceList-208"><span class="linenos">208</span></a>
</span><span id="ObservedTraceList-209"><a href="#ObservedTraceList-209"><span class="linenos">209</span></a>        <span class="k">for</span> <span class="n">obs_trace</span> <span class="ow">in</span> <span class="n">obs_tracelist</span><span class="p">:</span>
</span><span id="ObservedTraceList-210"><a href="#ObservedTraceList-210"><span class="linenos">210</span></a>            <span class="n">console</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="n">obs_trace</span><span class="p">)</span>
</span><span id="ObservedTraceList-211"><a href="#ObservedTraceList-211"><span class="linenos">211</span></a>            <span class="nb">print</span><span class="p">()</span>
</span><span id="ObservedTraceList-212"><a href="#ObservedTraceList-212"><span class="linenos">212</span></a>
</span><span id="ObservedTraceList-213"><a href="#ObservedTraceList-213"><span class="linenos">213</span></a>    <span class="k">def</span> <span class="nf">_details</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obs_trace</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Observation</span><span class="p">],</span> <span class="n">wrap</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
</span><span id="ObservedTraceList-214"><a href="#ObservedTraceList-214"><span class="linenos">214</span></a>        <span class="n">indent</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="mi">2</span>
</span><span id="ObservedTraceList-215"><a href="#ObservedTraceList-215"><span class="linenos">215</span></a>        <span class="c1"># Summarize class attributes</span>
</span><span id="ObservedTraceList-216"><a href="#ObservedTraceList-216"><span class="linenos">216</span></a>        <span class="n">details</span> <span class="o">=</span> <span class="n">Table</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="ObservedTraceList-217"><a href="#ObservedTraceList-217"><span class="linenos">217</span></a>        <span class="n">details</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Trace&quot;</span>
</span><span id="ObservedTraceList-218"><a href="#ObservedTraceList-218"><span class="linenos">218</span></a>        <span class="n">details</span><span class="o">.</span><span class="n">add_column</span><span class="p">()</span>
</span><span id="ObservedTraceList-219"><a href="#ObservedTraceList-219"><span class="linenos">219</span></a>        <span class="n">details</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
</span><span id="ObservedTraceList-220"><a href="#ObservedTraceList-220"><span class="linenos">220</span></a>            <span class="n">cleandoc</span><span class="p">(</span>
</span><span id="ObservedTraceList-221"><a href="#ObservedTraceList-221"><span class="linenos">221</span></a>                <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="ObservedTraceList-222"><a href="#ObservedTraceList-222"><span class="linenos">222</span></a><span class="s2">            Attributes:</span>
</span><span id="ObservedTraceList-223"><a href="#ObservedTraceList-223"><span class="linenos">223</span></a><span class="s2">            </span><span class="si">{</span><span class="n">indent</span><span class="si">}{</span><span class="nb">len</span><span class="p">(</span><span class="n">obs_trace</span><span class="p">)</span><span class="si">}</span><span class="s2"> steps</span>
</span><span id="ObservedTraceList-224"><a href="#ObservedTraceList-224"><span class="linenos">224</span></a><span class="s2">            </span><span class="si">{</span><span class="n">indent</span><span class="si">}{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_fluents</span><span class="p">())</span><span class="si">}</span><span class="s2"> fluents</span>
</span><span id="ObservedTraceList-225"><a href="#ObservedTraceList-225"><span class="linenos">225</span></a><span class="s2">            &quot;&quot;&quot;</span>
</span><span id="ObservedTraceList-226"><a href="#ObservedTraceList-226"><span class="linenos">226</span></a>            <span class="p">)</span>
</span><span id="ObservedTraceList-227"><a href="#ObservedTraceList-227"><span class="linenos">227</span></a>        <span class="p">)</span>
</span><span id="ObservedTraceList-228"><a href="#ObservedTraceList-228"><span class="linenos">228</span></a>        <span class="n">steps</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
</span><span id="ObservedTraceList-229"><a href="#ObservedTraceList-229"><span class="linenos">229</span></a>            <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Steps&quot;</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">show_edge</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">pad_edge</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span>
</span><span id="ObservedTraceList-230"><a href="#ObservedTraceList-230"><span class="linenos">230</span></a>        <span class="p">)</span>
</span><span id="ObservedTraceList-231"><a href="#ObservedTraceList-231"><span class="linenos">231</span></a>        <span class="n">steps</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Step&quot;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
</span><span id="ObservedTraceList-232"><a href="#ObservedTraceList-232"><span class="linenos">232</span></a>        <span class="n">steps</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span>
</span><span id="ObservedTraceList-233"><a href="#ObservedTraceList-233"><span class="linenos">233</span></a>            <span class="s2">&quot;State&quot;</span><span class="p">,</span>
</span><span id="ObservedTraceList-234"><a href="#ObservedTraceList-234"><span class="linenos">234</span></a>            <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
</span><span id="ObservedTraceList-235"><a href="#ObservedTraceList-235"><span class="linenos">235</span></a>            <span class="n">overflow</span><span class="o">=</span><span class="s2">&quot;ellipsis&quot;</span><span class="p">,</span>
</span><span id="ObservedTraceList-236"><a href="#ObservedTraceList-236"><span class="linenos">236</span></a>            <span class="n">max_width</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
</span><span id="ObservedTraceList-237"><a href="#ObservedTraceList-237"><span class="linenos">237</span></a>            <span class="n">no_wrap</span><span class="o">=</span><span class="p">(</span><span class="ow">not</span> <span class="n">wrap</span><span class="p">),</span>
</span><span id="ObservedTraceList-238"><a href="#ObservedTraceList-238"><span class="linenos">238</span></a>        <span class="p">)</span>
</span><span id="ObservedTraceList-239"><a href="#ObservedTraceList-239"><span class="linenos">239</span></a>        <span class="n">steps</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Action&quot;</span><span class="p">,</span> <span class="n">overflow</span><span class="o">=</span><span class="s2">&quot;ellipsis&quot;</span><span class="p">,</span> <span class="n">no_wrap</span><span class="o">=</span><span class="p">(</span><span class="ow">not</span> <span class="n">wrap</span><span class="p">))</span>
</span><span id="ObservedTraceList-240"><a href="#ObservedTraceList-240"><span class="linenos">240</span></a>
</span><span id="ObservedTraceList-241"><a href="#ObservedTraceList-241"><span class="linenos">241</span></a>        <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">obs_trace</span><span class="p">:</span>
</span><span id="ObservedTraceList-242"><a href="#ObservedTraceList-242"><span class="linenos">242</span></a>            <span class="n">ind</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">action</span> <span class="o">=</span> <span class="n">obs</span><span class="o">.</span><span class="n">get_details</span><span class="p">()</span>
</span><span id="ObservedTraceList-243"><a href="#ObservedTraceList-243"><span class="linenos">243</span></a>            <span class="n">steps</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">)</span>
</span><span id="ObservedTraceList-244"><a href="#ObservedTraceList-244"><span class="linenos">244</span></a>
</span><span id="ObservedTraceList-245"><a href="#ObservedTraceList-245"><span class="linenos">245</span></a>        <span class="n">details</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">steps</span><span class="p">)</span>
</span><span id="ObservedTraceList-246"><a href="#ObservedTraceList-246"><span class="linenos">246</span></a>
</span><span id="ObservedTraceList-247"><a href="#ObservedTraceList-247"><span class="linenos">247</span></a>        <span class="k">return</span> <span class="n">details</span>
</span><span id="ObservedTraceList-248"><a href="#ObservedTraceList-248"><span class="linenos">248</span></a>
</span><span id="ObservedTraceList-249"><a href="#ObservedTraceList-249"><span class="linenos">249</span></a>    <span class="nd">@staticmethod</span>
</span><span id="ObservedTraceList-250"><a href="#ObservedTraceList-250"><span class="linenos">250</span></a>    <span class="k">def</span> <span class="nf">_colorgrid</span><span class="p">(</span><span class="n">obs_trace</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Observation</span><span class="p">],</span> <span class="n">filter_func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">wrap</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
</span><span id="ObservedTraceList-251"><a href="#ObservedTraceList-251"><span class="linenos">251</span></a>        <span class="n">colorgrid</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
</span><span id="ObservedTraceList-252"><a href="#ObservedTraceList-252"><span class="linenos">252</span></a>            <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Trace&quot;</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">show_edge</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">pad_edge</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">False</span>
</span><span id="ObservedTraceList-253"><a href="#ObservedTraceList-253"><span class="linenos">253</span></a>        <span class="p">)</span>
</span><span id="ObservedTraceList-254"><a href="#ObservedTraceList-254"><span class="linenos">254</span></a>        <span class="n">colorgrid</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Fluent&quot;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">)</span>
</span><span id="ObservedTraceList-255"><a href="#ObservedTraceList-255"><span class="linenos">255</span></a>        <span class="n">colorgrid</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span>
</span><span id="ObservedTraceList-256"><a href="#ObservedTraceList-256"><span class="linenos">256</span></a>            <span class="n">header</span><span class="o">=</span><span class="n">Text</span><span class="p">(</span><span class="s2">&quot;Step&quot;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">),</span> <span class="n">overflow</span><span class="o">=</span><span class="s2">&quot;fold&quot;</span><span class="p">,</span> <span class="n">no_wrap</span><span class="o">=</span><span class="p">(</span><span class="ow">not</span> <span class="n">wrap</span><span class="p">)</span>
</span><span id="ObservedTraceList-257"><a href="#ObservedTraceList-257"><span class="linenos">257</span></a>        <span class="p">)</span>
</span><span id="ObservedTraceList-258"><a href="#ObservedTraceList-258"><span class="linenos">258</span></a>        <span class="n">colorgrid</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
</span><span id="ObservedTraceList-259"><a href="#ObservedTraceList-259"><span class="linenos">259</span></a>            <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="ObservedTraceList-260"><a href="#ObservedTraceList-260"><span class="linenos">260</span></a>            <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
</span><span id="ObservedTraceList-261"><a href="#ObservedTraceList-261"><span class="linenos">261</span></a>                <span class="p">[</span>
</span><span id="ObservedTraceList-262"><a href="#ObservedTraceList-262"><span class="linenos">262</span></a>                    <span class="s2">&quot;|&quot;</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">obs_trace</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="s2">&quot; &quot;</span>
</span><span id="ObservedTraceList-263"><a href="#ObservedTraceList-263"><span class="linenos">263</span></a>                    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">obs_trace</span><span class="p">))</span>
</span><span id="ObservedTraceList-264"><a href="#ObservedTraceList-264"><span class="linenos">264</span></a>                <span class="p">]</span>
</span><span id="ObservedTraceList-265"><a href="#ObservedTraceList-265"><span class="linenos">265</span></a>            <span class="p">),</span>
</span><span id="ObservedTraceList-266"><a href="#ObservedTraceList-266"><span class="linenos">266</span></a>        <span class="p">)</span>
</span><span id="ObservedTraceList-267"><a href="#ObservedTraceList-267"><span class="linenos">267</span></a>
</span><span id="ObservedTraceList-268"><a href="#ObservedTraceList-268"><span class="linenos">268</span></a>        <span class="n">static</span> <span class="o">=</span> <span class="n">ObservedTraceList</span><span class="o">.</span><span class="n">get_obs_static_fluents</span><span class="p">(</span><span class="n">obs_trace</span><span class="p">)</span>
</span><span id="ObservedTraceList-269"><a href="#ObservedTraceList-269"><span class="linenos">269</span></a>        <span class="n">fluents</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span>
</span><span id="ObservedTraceList-270"><a href="#ObservedTraceList-270"><span class="linenos">270</span></a>            <span class="nb">filter</span><span class="p">(</span>
</span><span id="ObservedTraceList-271"><a href="#ObservedTraceList-271"><span class="linenos">271</span></a>                <span class="n">filter_func</span><span class="p">,</span>
</span><span id="ObservedTraceList-272"><a href="#ObservedTraceList-272"><span class="linenos">272</span></a>                <span class="nb">sorted</span><span class="p">(</span>
</span><span id="ObservedTraceList-273"><a href="#ObservedTraceList-273"><span class="linenos">273</span></a>                    <span class="n">ObservedTraceList</span><span class="o">.</span><span class="n">get_obs_fluents</span><span class="p">(</span><span class="n">obs_trace</span><span class="p">),</span>
</span><span id="ObservedTraceList-274"><a href="#ObservedTraceList-274"><span class="linenos">274</span></a>                    <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">f</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">static</span> <span class="k">else</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">f</span><span class="p">)),</span>
</span><span id="ObservedTraceList-275"><a href="#ObservedTraceList-275"><span class="linenos">275</span></a>                <span class="p">),</span>
</span><span id="ObservedTraceList-276"><a href="#ObservedTraceList-276"><span class="linenos">276</span></a>            <span class="p">)</span>
</span><span id="ObservedTraceList-277"><a href="#ObservedTraceList-277"><span class="linenos">277</span></a>        <span class="p">)</span>
</span><span id="ObservedTraceList-278"><a href="#ObservedTraceList-278"><span class="linenos">278</span></a>
</span><span id="ObservedTraceList-279"><a href="#ObservedTraceList-279"><span class="linenos">279</span></a>        <span class="k">for</span> <span class="n">fluent</span> <span class="ow">in</span> <span class="n">fluents</span><span class="p">:</span>
</span><span id="ObservedTraceList-280"><a href="#ObservedTraceList-280"><span class="linenos">280</span></a>            <span class="n">step_str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="ObservedTraceList-281"><a href="#ObservedTraceList-281"><span class="linenos">281</span></a>            <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">obs_trace</span><span class="p">:</span>
</span><span id="ObservedTraceList-282"><a href="#ObservedTraceList-282"><span class="linenos">282</span></a>                <span class="k">if</span> <span class="n">obs</span><span class="o">.</span><span class="n">state</span> <span class="ow">and</span> <span class="n">obs</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="n">fluent</span><span class="p">]:</span>
</span><span id="ObservedTraceList-283"><a href="#ObservedTraceList-283"><span class="linenos">283</span></a>                    <span class="n">step_str</span> <span class="o">+=</span> <span class="s2">&quot;[green]&quot;</span>
</span><span id="ObservedTraceList-284"><a href="#ObservedTraceList-284"><span class="linenos">284</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="ObservedTraceList-285"><a href="#ObservedTraceList-285"><span class="linenos">285</span></a>                    <span class="n">step_str</span> <span class="o">+=</span> <span class="s2">&quot;[red]&quot;</span>
</span><span id="ObservedTraceList-286"><a href="#ObservedTraceList-286"><span class="linenos">286</span></a>                <span class="n">step_str</span> <span class="o">+=</span> <span class="s2">&quot;■&quot;</span>
</span><span id="ObservedTraceList-287"><a href="#ObservedTraceList-287"><span class="linenos">287</span></a>
</span><span id="ObservedTraceList-288"><a href="#ObservedTraceList-288"><span class="linenos">288</span></a>            <span class="n">colorgrid</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">fluent</span><span class="p">),</span> <span class="n">step_str</span><span class="p">)</span>
</span><span id="ObservedTraceList-289"><a href="#ObservedTraceList-289"><span class="linenos">289</span></a>
</span><span id="ObservedTraceList-290"><a href="#ObservedTraceList-290"><span class="linenos">290</span></a>        <span class="k">return</span> <span class="n">colorgrid</span>
</span><span id="ObservedTraceList-291"><a href="#ObservedTraceList-291"><span class="linenos">291</span></a>
</span><span id="ObservedTraceList-292"><a href="#ObservedTraceList-292"><span class="linenos">292</span></a>    <span class="nd">@staticmethod</span>
</span><span id="ObservedTraceList-293"><a href="#ObservedTraceList-293"><span class="linenos">293</span></a>    <span class="k">def</span> <span class="nf">get_obs_fluents</span><span class="p">(</span><span class="n">obs_trace</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Observation</span><span class="p">]):</span>
</span><span id="ObservedTraceList-294"><a href="#ObservedTraceList-294"><span class="linenos">294</span></a>        <span class="n">fluents</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="ObservedTraceList-295"><a href="#ObservedTraceList-295"><span class="linenos">295</span></a>        <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">obs_trace</span><span class="p">:</span>
</span><span id="ObservedTraceList-296"><a href="#ObservedTraceList-296"><span class="linenos">296</span></a>            <span class="k">if</span> <span class="n">obs</span><span class="o">.</span><span class="n">state</span><span class="p">:</span>
</span><span id="ObservedTraceList-297"><a href="#ObservedTraceList-297"><span class="linenos">297</span></a>                <span class="n">fluents</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">obs</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
</span><span id="ObservedTraceList-298"><a href="#ObservedTraceList-298"><span class="linenos">298</span></a>        <span class="k">return</span> <span class="n">fluents</span>
</span><span id="ObservedTraceList-299"><a href="#ObservedTraceList-299"><span class="linenos">299</span></a>
</span><span id="ObservedTraceList-300"><a href="#ObservedTraceList-300"><span class="linenos">300</span></a>    <span class="nd">@staticmethod</span>
</span><span id="ObservedTraceList-301"><a href="#ObservedTraceList-301"><span class="linenos">301</span></a>    <span class="k">def</span> <span class="nf">get_obs_static_fluents</span><span class="p">(</span><span class="n">obs_trace</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Observation</span><span class="p">]):</span>
</span><span id="ObservedTraceList-302"><a href="#ObservedTraceList-302"><span class="linenos">302</span></a>        <span class="n">fstates</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
</span><span id="ObservedTraceList-303"><a href="#ObservedTraceList-303"><span class="linenos">303</span></a>        <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">obs_trace</span><span class="p">:</span>
</span><span id="ObservedTraceList-304"><a href="#ObservedTraceList-304"><span class="linenos">304</span></a>            <span class="k">if</span> <span class="n">obs</span><span class="o">.</span><span class="n">state</span><span class="p">:</span>
</span><span id="ObservedTraceList-305"><a href="#ObservedTraceList-305"><span class="linenos">305</span></a>                <span class="k">for</span> <span class="n">f</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">obs</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="ObservedTraceList-306"><a href="#ObservedTraceList-306"><span class="linenos">306</span></a>                    <span class="n">fstates</span><span class="p">[</span><span class="n">f</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</span><span id="ObservedTraceList-307"><a href="#ObservedTraceList-307"><span class="linenos">307</span></a>
</span><span id="ObservedTraceList-308"><a href="#ObservedTraceList-308"><span class="linenos">308</span></a>        <span class="n">static</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="ObservedTraceList-309"><a href="#ObservedTraceList-309"><span class="linenos">309</span></a>        <span class="k">for</span> <span class="n">f</span><span class="p">,</span> <span class="n">states</span> <span class="ow">in</span> <span class="n">fstates</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="ObservedTraceList-310"><a href="#ObservedTraceList-310"><span class="linenos">310</span></a>            <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">states</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">states</span><span class="p">):</span>
</span><span id="ObservedTraceList-311"><a href="#ObservedTraceList-311"><span class="linenos">311</span></a>                <span class="n">static</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</span><span id="ObservedTraceList-312"><a href="#ObservedTraceList-312"><span class="linenos">312</span></a>
</span><span id="ObservedTraceList-313"><a href="#ObservedTraceList-313"><span class="linenos">313</span></a>        <span class="k">return</span> <span class="n">static</span>
</span></pre></div>


            <div class="docstring"><p>A sequence of observations.</p>

<p>A <code>list</code>-like object, where each element is a list of <code><a href="#Observation">Observation</a></code>s.</p>

<p>Attributes:
    observations (List[List[Observation]]):
        The internal list of lists of <code><a href="#Observation">Observation</a></code> objects.
    type (Type[Observation]):
        The type (class) of the observations.</p>
</div>


                            <div id="ObservedTraceList.__init__" class="classattr">
                                        <input id="ObservedTraceList.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ObservedTraceList</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">trace_list</span><span class="p">:</span> <span class="n">macq</span><span class="o">.</span><span class="n">trace</span><span class="o">.</span><span class="n">trace_list</span><span class="o">.</span><span class="n">TraceList</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">Token</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n"><a href="#Observation">Observation</a></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">observations</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n"><a href="#Observation">Observation</a></span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span>)</span>

                <label class="view-source-button" for="ObservedTraceList.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObservedTraceList.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObservedTraceList.__init__-55"><a href="#ObservedTraceList.__init__-55"><span class="linenos">55</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="ObservedTraceList.__init__-56"><a href="#ObservedTraceList.__init__-56"><span class="linenos">56</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="ObservedTraceList.__init__-57"><a href="#ObservedTraceList.__init__-57"><span class="linenos">57</span></a>        <span class="n">trace_list</span><span class="p">:</span> <span class="n">TraceList</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="ObservedTraceList.__init__-58"><a href="#ObservedTraceList.__init__-58"><span class="linenos">58</span></a>        <span class="n">Token</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Observation</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="ObservedTraceList.__init__-59"><a href="#ObservedTraceList.__init__-59"><span class="linenos">59</span></a>        <span class="n">observations</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Observation</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="ObservedTraceList.__init__-60"><a href="#ObservedTraceList.__init__-60"><span class="linenos">60</span></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="ObservedTraceList.__init__-61"><a href="#ObservedTraceList.__init__-61"><span class="linenos">61</span></a>    <span class="p">):</span>
</span><span id="ObservedTraceList.__init__-62"><a href="#ObservedTraceList.__init__-62"><span class="linenos">62</span></a>        <span class="k">if</span> <span class="n">trace_list</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ObservedTraceList.__init__-63"><a href="#ObservedTraceList.__init__-63"><span class="linenos">63</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">Token</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">observations</span><span class="p">:</span>
</span><span id="ObservedTraceList.__init__-64"><a href="#ObservedTraceList.__init__-64"><span class="linenos">64</span></a>                <span class="k">raise</span> <span class="n">MissingToken</span><span class="p">()</span>
</span><span id="ObservedTraceList.__init__-65"><a href="#ObservedTraceList.__init__-65"><span class="linenos">65</span></a>
</span><span id="ObservedTraceList.__init__-66"><a href="#ObservedTraceList.__init__-66"><span class="linenos">66</span></a>            <span class="k">if</span> <span class="n">Token</span><span class="p">:</span>
</span><span id="ObservedTraceList.__init__-67"><a href="#ObservedTraceList.__init__-67"><span class="linenos">67</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">Token</span>
</span><span id="ObservedTraceList.__init__-68"><a href="#ObservedTraceList.__init__-68"><span class="linenos">68</span></a>
</span><span id="ObservedTraceList.__init__-69"><a href="#ObservedTraceList.__init__-69"><span class="linenos">69</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">observations</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ObservedTraceList.__init__-70"><a href="#ObservedTraceList.__init__-70"><span class="linenos">70</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">trace_list</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="ObservedTraceList.__init__-71"><a href="#ObservedTraceList.__init__-71"><span class="linenos">71</span></a>
</span><span id="ObservedTraceList.__init__-72"><a href="#ObservedTraceList.__init__-72"><span class="linenos">72</span></a>            <span class="k">if</span> <span class="n">observations</span><span class="p">:</span>
</span><span id="ObservedTraceList.__init__-73"><a href="#ObservedTraceList.__init__-73"><span class="linenos">73</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">observations</span><span class="p">)</span>
</span><span id="ObservedTraceList.__init__-74"><a href="#ObservedTraceList.__init__-74"><span class="linenos">74</span></a>                <span class="c1"># Check that the observations are of the specified token type</span>
</span><span id="ObservedTraceList.__init__-75"><a href="#ObservedTraceList.__init__-75"><span class="linenos">75</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">observations</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">:</span>
</span><span id="ObservedTraceList.__init__-76"><a href="#ObservedTraceList.__init__-76"><span class="linenos">76</span></a>                    <span class="k">raise</span> <span class="n">TokenTypeMismatch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">observations</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]))</span>
</span><span id="ObservedTraceList.__init__-77"><a href="#ObservedTraceList.__init__-77"><span class="linenos">77</span></a>                <span class="c1"># If token type was not provided, infer it from the observations</span>
</span><span id="ObservedTraceList.__init__-78"><a href="#ObservedTraceList.__init__-78"><span class="linenos">78</span></a>                <span class="k">elif</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">:</span>
</span><span id="ObservedTraceList.__init__-79"><a href="#ObservedTraceList.__init__-79"><span class="linenos">79</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">observations</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
</span><span id="ObservedTraceList.__init__-80"><a href="#ObservedTraceList.__init__-80"><span class="linenos">80</span></a>
</span><span id="ObservedTraceList.__init__-81"><a href="#ObservedTraceList.__init__-81"><span class="linenos">81</span></a>        <span class="k">elif</span> <span class="n">observations</span><span class="p">:</span>
</span><span id="ObservedTraceList.__init__-82"><a href="#ObservedTraceList.__init__-82"><span class="linenos">82</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">observations</span> <span class="o">=</span> <span class="n">observations</span>
</span><span id="ObservedTraceList.__init__-83"><a href="#ObservedTraceList.__init__-83"><span class="linenos">83</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">observations</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
</span><span id="ObservedTraceList.__init__-84"><a href="#ObservedTraceList.__init__-84"><span class="linenos">84</span></a>
</span><span id="ObservedTraceList.__init__-85"><a href="#ObservedTraceList.__init__-85"><span class="linenos">85</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ObservedTraceList.__init__-86"><a href="#ObservedTraceList.__init__-86"><span class="linenos">86</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">observations</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ObservedTraceList.__init__-87"><a href="#ObservedTraceList.__init__-87"><span class="linenos">87</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">Observation</span>
</span></pre></div>


    

                            </div>
                            <div id="ObservedTraceList.observations" class="classattr">
                                <div class="attr variable">
            <span class="name">observations</span><span class="annotation">: List[List[<a href="#Observation">Observation</a>]]</span>

        
    </div>
    <a class="headerlink" href="#ObservedTraceList.observations"></a>
    
    

                            </div>
                            <div id="ObservedTraceList.type" class="classattr">
                                <div class="attr variable">
            <span class="name">type</span><span class="annotation">: Type[<a href="#Observation">Observation</a>]</span>

        
    </div>
    <a class="headerlink" href="#ObservedTraceList.type"></a>
    
    

                            </div>
                            <div id="ObservedTraceList.insert" class="classattr">
                                        <input id="ObservedTraceList.insert-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">insert</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">key</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">value</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n"><a href="#Observation">Observation</a></span><span class="p">]</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ObservedTraceList.insert-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObservedTraceList.insert"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObservedTraceList.insert-108"><a href="#ObservedTraceList.insert-108"><span class="linenos">108</span></a>    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Observation</span><span class="p">]):</span>
</span><span id="ObservedTraceList.insert-109"><a href="#ObservedTraceList.insert-109"><span class="linenos">109</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">observations</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="ObservedTraceList.insert-110"><a href="#ObservedTraceList.insert-110"><span class="linenos">110</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">Observation</span><span class="p">:</span>
</span><span id="ObservedTraceList.insert-111"><a href="#ObservedTraceList.insert-111"><span class="linenos">111</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="ObservedTraceList.insert-112"><a href="#ObservedTraceList.insert-112"><span class="linenos">112</span></a>        <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">:</span>
</span><span id="ObservedTraceList.insert-113"><a href="#ObservedTraceList.insert-113"><span class="linenos">113</span></a>            <span class="k">raise</span> <span class="n">TokenTypeMismatch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
</span></pre></div>


            <div class="docstring"><p>S.insert(index, value) -- insert value before index</p>
</div>


                            </div>
                            <div id="ObservedTraceList.get_actions" class="classattr">
                                        <input id="ObservedTraceList.get_actions-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_actions</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">Set</span><span class="p">[</span><span class="n">macq</span><span class="o">.</span><span class="n">trace</span><span class="o">.</span><span class="n">action</span><span class="o">.</span><span class="n">Action</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="ObservedTraceList.get_actions-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObservedTraceList.get_actions"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObservedTraceList.get_actions-115"><a href="#ObservedTraceList.get_actions-115"><span class="linenos">115</span></a>    <span class="k">def</span> <span class="nf">get_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">Action</span><span class="p">]:</span>
</span><span id="ObservedTraceList.get_actions-116"><a href="#ObservedTraceList.get_actions-116"><span class="linenos">116</span></a>        <span class="n">actions</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">Action</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="ObservedTraceList.get_actions-117"><a href="#ObservedTraceList.get_actions-117"><span class="linenos">117</span></a>        <span class="k">for</span> <span class="n">obs_trace</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span id="ObservedTraceList.get_actions-118"><a href="#ObservedTraceList.get_actions-118"><span class="linenos">118</span></a>            <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">obs_trace</span><span class="p">:</span>
</span><span id="ObservedTraceList.get_actions-119"><a href="#ObservedTraceList.get_actions-119"><span class="linenos">119</span></a>                <span class="n">action</span> <span class="o">=</span> <span class="n">obs</span><span class="o">.</span><span class="n">action</span>
</span><span id="ObservedTraceList.get_actions-120"><a href="#ObservedTraceList.get_actions-120"><span class="linenos">120</span></a>                <span class="k">if</span> <span class="n">action</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ObservedTraceList.get_actions-121"><a href="#ObservedTraceList.get_actions-121"><span class="linenos">121</span></a>                    <span class="n">actions</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
</span><span id="ObservedTraceList.get_actions-122"><a href="#ObservedTraceList.get_actions-122"><span class="linenos">122</span></a>        <span class="k">return</span> <span class="n">actions</span>
</span></pre></div>


    

                            </div>
                            <div id="ObservedTraceList.get_fluents" class="classattr">
                                        <input id="ObservedTraceList.get_fluents-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_fluents</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">Set</span><span class="p">[</span><span class="n">macq</span><span class="o">.</span><span class="n">trace</span><span class="o">.</span><span class="n">fluent</span><span class="o">.</span><span class="n">Fluent</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="ObservedTraceList.get_fluents-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObservedTraceList.get_fluents"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObservedTraceList.get_fluents-124"><a href="#ObservedTraceList.get_fluents-124"><span class="linenos">124</span></a>    <span class="k">def</span> <span class="nf">get_fluents</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">Fluent</span><span class="p">]:</span>
</span><span id="ObservedTraceList.get_fluents-125"><a href="#ObservedTraceList.get_fluents-125"><span class="linenos">125</span></a>        <span class="n">fluents</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">Fluent</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="ObservedTraceList.get_fluents-126"><a href="#ObservedTraceList.get_fluents-126"><span class="linenos">126</span></a>        <span class="k">for</span> <span class="n">obs_trace</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span id="ObservedTraceList.get_fluents-127"><a href="#ObservedTraceList.get_fluents-127"><span class="linenos">127</span></a>            <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">obs_trace</span><span class="p">:</span>
</span><span id="ObservedTraceList.get_fluents-128"><a href="#ObservedTraceList.get_fluents-128"><span class="linenos">128</span></a>                <span class="k">if</span> <span class="n">obs</span><span class="o">.</span><span class="n">state</span><span class="p">:</span>
</span><span id="ObservedTraceList.get_fluents-129"><a href="#ObservedTraceList.get_fluents-129"><span class="linenos">129</span></a>                    <span class="n">fluents</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">obs</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
</span><span id="ObservedTraceList.get_fluents-130"><a href="#ObservedTraceList.get_fluents-130"><span class="linenos">130</span></a>        <span class="k">return</span> <span class="n">fluents</span>
</span></pre></div>


    

                            </div>
                            <div id="ObservedTraceList.tokenize" class="classattr">
                                        <input id="ObservedTraceList.tokenize-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">tokenize</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">trace_list</span><span class="p">:</span> <span class="n">macq</span><span class="o">.</span><span class="n">trace</span><span class="o">.</span><span class="n">trace_list</span><span class="o">.</span><span class="n">TraceList</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ObservedTraceList.tokenize-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObservedTraceList.tokenize"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObservedTraceList.tokenize-132"><a href="#ObservedTraceList.tokenize-132"><span class="linenos">132</span></a>    <span class="k">def</span> <span class="nf">tokenize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trace_list</span><span class="p">:</span> <span class="n">TraceList</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="ObservedTraceList.tokenize-133"><a href="#ObservedTraceList.tokenize-133"><span class="linenos">133</span></a>        <span class="k">for</span> <span class="n">trace</span> <span class="ow">in</span> <span class="n">trace_list</span><span class="p">:</span>
</span><span id="ObservedTraceList.tokenize-134"><a href="#ObservedTraceList.tokenize-134"><span class="linenos">134</span></a>            <span class="n">tokens</span> <span class="o">=</span> <span class="n">trace</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="ObservedTraceList.tokenize-135"><a href="#ObservedTraceList.tokenize-135"><span class="linenos">135</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="ObservedTraceList.fetch_observations" class="classattr">
                                        <input id="ObservedTraceList.fetch_observations-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">fetch_observations</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">query</span><span class="p">:</span> <span class="nb">dict</span></span><span class="return-annotation">) -> <span class="n">List</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n"><a href="#Observation">Observation</a></span><span class="p">]]</span>:</span></span>

                <label class="view-source-button" for="ObservedTraceList.fetch_observations-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObservedTraceList.fetch_observations"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObservedTraceList.fetch_observations-137"><a href="#ObservedTraceList.fetch_observations-137"><span class="linenos">137</span></a>    <span class="k">def</span> <span class="nf">fetch_observations</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">Observation</span><span class="p">]]:</span>
</span><span id="ObservedTraceList.fetch_observations-138"><a href="#ObservedTraceList.fetch_observations-138"><span class="linenos">138</span></a>        <span class="n">matches</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">Observation</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ObservedTraceList.fetch_observations-139"><a href="#ObservedTraceList.fetch_observations-139"><span class="linenos">139</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">obs_trace</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">observations</span><span class="p">):</span>
</span><span id="ObservedTraceList.fetch_observations-140"><a href="#ObservedTraceList.fetch_observations-140"><span class="linenos">140</span></a>            <span class="n">matches</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">set</span><span class="p">())</span>
</span><span id="ObservedTraceList.fetch_observations-141"><a href="#ObservedTraceList.fetch_observations-141"><span class="linenos">141</span></a>            <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">obs_trace</span><span class="p">:</span>
</span><span id="ObservedTraceList.fetch_observations-142"><a href="#ObservedTraceList.fetch_observations-142"><span class="linenos">142</span></a>                <span class="k">if</span> <span class="n">obs</span><span class="o">.</span><span class="n">matches</span><span class="p">(</span><span class="n">query</span><span class="p">):</span>
</span><span id="ObservedTraceList.fetch_observations-143"><a href="#ObservedTraceList.fetch_observations-143"><span class="linenos">143</span></a>                    <span class="n">matches</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">obs</span><span class="p">)</span>
</span><span id="ObservedTraceList.fetch_observations-144"><a href="#ObservedTraceList.fetch_observations-144"><span class="linenos">144</span></a>        <span class="k">return</span> <span class="n">matches</span>
</span></pre></div>


    

                            </div>
                            <div id="ObservedTraceList.fetch_observation_windows" class="classattr">
                                        <input id="ObservedTraceList.fetch_observation_windows-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">fetch_observation_windows</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">query</span><span class="p">:</span> <span class="nb">dict</span>,</span><span class="param">	<span class="n">left</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">right</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">) -> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n"><a href="#Observation">Observation</a></span><span class="p">]]</span>:</span></span>

                <label class="view-source-button" for="ObservedTraceList.fetch_observation_windows-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObservedTraceList.fetch_observation_windows"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObservedTraceList.fetch_observation_windows-146"><a href="#ObservedTraceList.fetch_observation_windows-146"><span class="linenos">146</span></a>    <span class="k">def</span> <span class="nf">fetch_observation_windows</span><span class="p">(</span>
</span><span id="ObservedTraceList.fetch_observation_windows-147"><a href="#ObservedTraceList.fetch_observation_windows-147"><span class="linenos">147</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="ObservedTraceList.fetch_observation_windows-148"><a href="#ObservedTraceList.fetch_observation_windows-148"><span class="linenos">148</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Observation</span><span class="p">]]:</span>
</span><span id="ObservedTraceList.fetch_observation_windows-149"><a href="#ObservedTraceList.fetch_observation_windows-149"><span class="linenos">149</span></a>        <span class="n">windows</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ObservedTraceList.fetch_observation_windows-150"><a href="#ObservedTraceList.fetch_observation_windows-150"><span class="linenos">150</span></a>        <span class="n">matches</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch_observations</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</span><span id="ObservedTraceList.fetch_observation_windows-151"><a href="#ObservedTraceList.fetch_observation_windows-151"><span class="linenos">151</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">obs_set</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">matches</span><span class="p">):</span>
</span><span id="ObservedTraceList.fetch_observation_windows-152"><a href="#ObservedTraceList.fetch_observation_windows-152"><span class="linenos">152</span></a>            <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">obs_set</span><span class="p">:</span>
</span><span id="ObservedTraceList.fetch_observation_windows-153"><a href="#ObservedTraceList.fetch_observation_windows-153"><span class="linenos">153</span></a>                <span class="c1"># NOTE: obs.index starts at 1</span>
</span><span id="ObservedTraceList.fetch_observation_windows-154"><a href="#ObservedTraceList.fetch_observation_windows-154"><span class="linenos">154</span></a>                <span class="n">start</span> <span class="o">=</span> <span class="n">obs</span><span class="o">.</span><span class="n">index</span> <span class="o">-</span> <span class="n">left</span> <span class="o">-</span> <span class="mi">1</span>
</span><span id="ObservedTraceList.fetch_observation_windows-155"><a href="#ObservedTraceList.fetch_observation_windows-155"><span class="linenos">155</span></a>                <span class="n">end</span> <span class="o">=</span> <span class="n">obs</span><span class="o">.</span><span class="n">index</span> <span class="o">+</span> <span class="n">right</span>
</span><span id="ObservedTraceList.fetch_observation_windows-156"><a href="#ObservedTraceList.fetch_observation_windows-156"><span class="linenos">156</span></a>                <span class="n">windows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">])</span>
</span><span id="ObservedTraceList.fetch_observation_windows-157"><a href="#ObservedTraceList.fetch_observation_windows-157"><span class="linenos">157</span></a>        <span class="k">return</span> <span class="n">windows</span>
</span></pre></div>


    

                            </div>
                            <div id="ObservedTraceList.get_transitions" class="classattr">
                                        <input id="ObservedTraceList.get_transitions-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_transitions</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">action</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n"><a href="#Observation">Observation</a></span><span class="p">]]</span>:</span></span>

                <label class="view-source-button" for="ObservedTraceList.get_transitions-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObservedTraceList.get_transitions"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObservedTraceList.get_transitions-159"><a href="#ObservedTraceList.get_transitions-159"><span class="linenos">159</span></a>    <span class="k">def</span> <span class="nf">get_transitions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Observation</span><span class="p">]]:</span>
</span><span id="ObservedTraceList.get_transitions-160"><a href="#ObservedTraceList.get_transitions-160"><span class="linenos">160</span></a>        <span class="n">query</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="n">action</span><span class="p">}</span>
</span><span id="ObservedTraceList.get_transitions-161"><a href="#ObservedTraceList.get_transitions-161"><span class="linenos">161</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch_observation_windows</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="ObservedTraceList.get_all_transitions" class="classattr">
                                        <input id="ObservedTraceList.get_all_transitions-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_all_transitions</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">Dict</span><span class="p">[</span><span class="n">macq</span><span class="o">.</span><span class="n">trace</span><span class="o">.</span><span class="n">action</span><span class="o">.</span><span class="n">Action</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n"><a href="#Observation">Observation</a></span><span class="p">]]]</span>:</span></span>

                <label class="view-source-button" for="ObservedTraceList.get_all_transitions-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObservedTraceList.get_all_transitions"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObservedTraceList.get_all_transitions-163"><a href="#ObservedTraceList.get_all_transitions-163"><span class="linenos">163</span></a>    <span class="k">def</span> <span class="nf">get_all_transitions</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Action</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Observation</span><span class="p">]]]:</span>
</span><span id="ObservedTraceList.get_all_transitions-164"><a href="#ObservedTraceList.get_all_transitions-164"><span class="linenos">164</span></a>        <span class="n">actions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_actions</span><span class="p">()</span>
</span><span id="ObservedTraceList.get_all_transitions-165"><a href="#ObservedTraceList.get_all_transitions-165"><span class="linenos">165</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="ObservedTraceList.get_all_transitions-166"><a href="#ObservedTraceList.get_all_transitions-166"><span class="linenos">166</span></a>            <span class="k">return</span> <span class="p">{</span>
</span><span id="ObservedTraceList.get_all_transitions-167"><a href="#ObservedTraceList.get_all_transitions-167"><span class="linenos">167</span></a>                <span class="n">action</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_transitions</span><span class="p">(</span><span class="n">action</span><span class="o">.</span><span class="n">details</span><span class="p">())</span> <span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="n">actions</span>
</span><span id="ObservedTraceList.get_all_transitions-168"><a href="#ObservedTraceList.get_all_transitions-168"><span class="linenos">168</span></a>            <span class="p">}</span>
</span><span id="ObservedTraceList.get_all_transitions-169"><a href="#ObservedTraceList.get_all_transitions-169"><span class="linenos">169</span></a>        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
</span><span id="ObservedTraceList.get_all_transitions-170"><a href="#ObservedTraceList.get_all_transitions-170"><span class="linenos">170</span></a>            <span class="k">return</span> <span class="p">{</span><span class="n">action</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_transitions</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">action</span><span class="p">))</span> <span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">}</span>
</span></pre></div>


    

                            </div>
                            <div id="ObservedTraceList.print" class="classattr">
                                        <input id="ObservedTraceList.print-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">print</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">view</span><span class="o">=</span><span class="s1">&#39;details&#39;</span>,</span><span class="param">	<span class="n">filter_func</span><span class="o">=&lt;</span><span class="n">function</span> <span class="n">ObservedTraceList</span><span class="o">.&lt;</span><span class="k">lambda</span><span class="o">&gt;&gt;</span>,</span><span class="param">	<span class="n">wrap</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ObservedTraceList.print-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObservedTraceList.print"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObservedTraceList.print-172"><a href="#ObservedTraceList.print-172"><span class="linenos">172</span></a>    <span class="k">def</span> <span class="nf">print</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">view</span><span class="o">=</span><span class="s2">&quot;details&quot;</span><span class="p">,</span> <span class="n">filter_func</span><span class="o">=</span><span class="k">lambda</span> <span class="n">_</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="n">wrap</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="ObservedTraceList.print-173"><a href="#ObservedTraceList.print-173"><span class="linenos">173</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Pretty prints the trace list in the specified view.</span>
</span><span id="ObservedTraceList.print-174"><a href="#ObservedTraceList.print-174"><span class="linenos">174</span></a>
</span><span id="ObservedTraceList.print-175"><a href="#ObservedTraceList.print-175"><span class="linenos">175</span></a><span class="sd">        Arguments:</span>
</span><span id="ObservedTraceList.print-176"><a href="#ObservedTraceList.print-176"><span class="linenos">176</span></a><span class="sd">            view (&quot;details&quot; | &quot;color&quot;):</span>
</span><span id="ObservedTraceList.print-177"><a href="#ObservedTraceList.print-177"><span class="linenos">177</span></a><span class="sd">                Specifies the view format to print in. &quot;details&quot; provides a</span>
</span><span id="ObservedTraceList.print-178"><a href="#ObservedTraceList.print-178"><span class="linenos">178</span></a><span class="sd">                detailed summary of each step in a trace. &quot;color&quot; provides a</span>
</span><span id="ObservedTraceList.print-179"><a href="#ObservedTraceList.print-179"><span class="linenos">179</span></a><span class="sd">                color grid, mapping fluents in a step to either red or green</span>
</span><span id="ObservedTraceList.print-180"><a href="#ObservedTraceList.print-180"><span class="linenos">180</span></a><span class="sd">                corresponding to the truth value.</span>
</span><span id="ObservedTraceList.print-181"><a href="#ObservedTraceList.print-181"><span class="linenos">181</span></a><span class="sd">            filter_func (function):</span>
</span><span id="ObservedTraceList.print-182"><a href="#ObservedTraceList.print-182"><span class="linenos">182</span></a><span class="sd">                Optional; Used to filter which fluents are printed in the</span>
</span><span id="ObservedTraceList.print-183"><a href="#ObservedTraceList.print-183"><span class="linenos">183</span></a><span class="sd">                colorgrid display.</span>
</span><span id="ObservedTraceList.print-184"><a href="#ObservedTraceList.print-184"><span class="linenos">184</span></a><span class="sd">            wrap (bool):</span>
</span><span id="ObservedTraceList.print-185"><a href="#ObservedTraceList.print-185"><span class="linenos">185</span></a><span class="sd">                Determines if the output is wrapped or cut off. Details defaults</span>
</span><span id="ObservedTraceList.print-186"><a href="#ObservedTraceList.print-186"><span class="linenos">186</span></a><span class="sd">                to cut off (wrap=False), color defaults to wrap (wrap=True).</span>
</span><span id="ObservedTraceList.print-187"><a href="#ObservedTraceList.print-187"><span class="linenos">187</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ObservedTraceList.print-188"><a href="#ObservedTraceList.print-188"><span class="linenos">188</span></a>        <span class="n">console</span> <span class="o">=</span> <span class="n">Console</span><span class="p">()</span>
</span><span id="ObservedTraceList.print-189"><a href="#ObservedTraceList.print-189"><span class="linenos">189</span></a>
</span><span id="ObservedTraceList.print-190"><a href="#ObservedTraceList.print-190"><span class="linenos">190</span></a>        <span class="n">views</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;details&quot;</span><span class="p">,</span> <span class="s2">&quot;color&quot;</span><span class="p">]</span>
</span><span id="ObservedTraceList.print-191"><a href="#ObservedTraceList.print-191"><span class="linenos">191</span></a>        <span class="k">if</span> <span class="n">view</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">views</span><span class="p">:</span>
</span><span id="ObservedTraceList.print-192"><a href="#ObservedTraceList.print-192"><span class="linenos">192</span></a>            <span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid view </span><span class="si">{</span><span class="n">view</span><span class="si">}</span><span class="s1">. Defaulting to &quot;details&quot;.&#39;</span><span class="p">)</span>
</span><span id="ObservedTraceList.print-193"><a href="#ObservedTraceList.print-193"><span class="linenos">193</span></a>            <span class="n">view</span> <span class="o">=</span> <span class="s2">&quot;details&quot;</span>
</span><span id="ObservedTraceList.print-194"><a href="#ObservedTraceList.print-194"><span class="linenos">194</span></a>
</span><span id="ObservedTraceList.print-195"><a href="#ObservedTraceList.print-195"><span class="linenos">195</span></a>        <span class="n">obs_tracelist</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ObservedTraceList.print-196"><a href="#ObservedTraceList.print-196"><span class="linenos">196</span></a>        <span class="k">if</span> <span class="n">view</span> <span class="o">==</span> <span class="s2">&quot;details&quot;</span><span class="p">:</span>
</span><span id="ObservedTraceList.print-197"><a href="#ObservedTraceList.print-197"><span class="linenos">197</span></a>            <span class="k">if</span> <span class="n">wrap</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ObservedTraceList.print-198"><a href="#ObservedTraceList.print-198"><span class="linenos">198</span></a>                <span class="n">wrap</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="ObservedTraceList.print-199"><a href="#ObservedTraceList.print-199"><span class="linenos">199</span></a>            <span class="n">obs_tracelist</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_details</span><span class="p">(</span><span class="n">obs_trace</span><span class="p">,</span> <span class="n">wrap</span><span class="o">=</span><span class="n">wrap</span><span class="p">)</span> <span class="k">for</span> <span class="n">obs_trace</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">]</span>
</span><span id="ObservedTraceList.print-200"><a href="#ObservedTraceList.print-200"><span class="linenos">200</span></a>
</span><span id="ObservedTraceList.print-201"><a href="#ObservedTraceList.print-201"><span class="linenos">201</span></a>        <span class="k">elif</span> <span class="n">view</span> <span class="o">==</span> <span class="s2">&quot;color&quot;</span><span class="p">:</span>
</span><span id="ObservedTraceList.print-202"><a href="#ObservedTraceList.print-202"><span class="linenos">202</span></a>            <span class="k">if</span> <span class="n">wrap</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ObservedTraceList.print-203"><a href="#ObservedTraceList.print-203"><span class="linenos">203</span></a>                <span class="n">wrap</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="ObservedTraceList.print-204"><a href="#ObservedTraceList.print-204"><span class="linenos">204</span></a>            <span class="n">obs_tracelist</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="ObservedTraceList.print-205"><a href="#ObservedTraceList.print-205"><span class="linenos">205</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_colorgrid</span><span class="p">(</span><span class="n">obs_trace</span><span class="p">,</span> <span class="n">filter_func</span><span class="o">=</span><span class="n">filter_func</span><span class="p">,</span> <span class="n">wrap</span><span class="o">=</span><span class="n">wrap</span><span class="p">)</span>
</span><span id="ObservedTraceList.print-206"><a href="#ObservedTraceList.print-206"><span class="linenos">206</span></a>                <span class="k">for</span> <span class="n">obs_trace</span> <span class="ow">in</span> <span class="bp">self</span>
</span><span id="ObservedTraceList.print-207"><a href="#ObservedTraceList.print-207"><span class="linenos">207</span></a>            <span class="p">]</span>
</span><span id="ObservedTraceList.print-208"><a href="#ObservedTraceList.print-208"><span class="linenos">208</span></a>
</span><span id="ObservedTraceList.print-209"><a href="#ObservedTraceList.print-209"><span class="linenos">209</span></a>        <span class="k">for</span> <span class="n">obs_trace</span> <span class="ow">in</span> <span class="n">obs_tracelist</span><span class="p">:</span>
</span><span id="ObservedTraceList.print-210"><a href="#ObservedTraceList.print-210"><span class="linenos">210</span></a>            <span class="n">console</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="n">obs_trace</span><span class="p">)</span>
</span><span id="ObservedTraceList.print-211"><a href="#ObservedTraceList.print-211"><span class="linenos">211</span></a>            <span class="nb">print</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Pretty prints the trace list in the specified view.</p>

<p>Arguments:
    view ("details" | "color"):
        Specifies the view format to print in. "details" provides a
        detailed summary of each step in a trace. "color" provides a
        color grid, mapping fluents in a step to either red or green
        corresponding to the truth value.
    filter_func (function):
        Optional; Used to filter which fluents are printed in the
        colorgrid display.
    wrap (bool):
        Determines if the output is wrapped or cut off. Details defaults
        to cut off (wrap=False), color defaults to wrap (wrap=True).</p>
</div>


                            </div>
                            <div id="ObservedTraceList.get_obs_fluents" class="classattr">
                                        <input id="ObservedTraceList.get_obs_fluents-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">get_obs_fluents</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">obs_trace</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n"><a href="#Observation">Observation</a></span><span class="p">]</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ObservedTraceList.get_obs_fluents-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObservedTraceList.get_obs_fluents"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObservedTraceList.get_obs_fluents-292"><a href="#ObservedTraceList.get_obs_fluents-292"><span class="linenos">292</span></a>    <span class="nd">@staticmethod</span>
</span><span id="ObservedTraceList.get_obs_fluents-293"><a href="#ObservedTraceList.get_obs_fluents-293"><span class="linenos">293</span></a>    <span class="k">def</span> <span class="nf">get_obs_fluents</span><span class="p">(</span><span class="n">obs_trace</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Observation</span><span class="p">]):</span>
</span><span id="ObservedTraceList.get_obs_fluents-294"><a href="#ObservedTraceList.get_obs_fluents-294"><span class="linenos">294</span></a>        <span class="n">fluents</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="ObservedTraceList.get_obs_fluents-295"><a href="#ObservedTraceList.get_obs_fluents-295"><span class="linenos">295</span></a>        <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">obs_trace</span><span class="p">:</span>
</span><span id="ObservedTraceList.get_obs_fluents-296"><a href="#ObservedTraceList.get_obs_fluents-296"><span class="linenos">296</span></a>            <span class="k">if</span> <span class="n">obs</span><span class="o">.</span><span class="n">state</span><span class="p">:</span>
</span><span id="ObservedTraceList.get_obs_fluents-297"><a href="#ObservedTraceList.get_obs_fluents-297"><span class="linenos">297</span></a>                <span class="n">fluents</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">obs</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
</span><span id="ObservedTraceList.get_obs_fluents-298"><a href="#ObservedTraceList.get_obs_fluents-298"><span class="linenos">298</span></a>        <span class="k">return</span> <span class="n">fluents</span>
</span></pre></div>


    

                            </div>
                            <div id="ObservedTraceList.get_obs_static_fluents" class="classattr">
                                        <input id="ObservedTraceList.get_obs_static_fluents-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">get_obs_static_fluents</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">obs_trace</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n"><a href="#Observation">Observation</a></span><span class="p">]</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ObservedTraceList.get_obs_static_fluents-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ObservedTraceList.get_obs_static_fluents"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ObservedTraceList.get_obs_static_fluents-300"><a href="#ObservedTraceList.get_obs_static_fluents-300"><span class="linenos">300</span></a>    <span class="nd">@staticmethod</span>
</span><span id="ObservedTraceList.get_obs_static_fluents-301"><a href="#ObservedTraceList.get_obs_static_fluents-301"><span class="linenos">301</span></a>    <span class="k">def</span> <span class="nf">get_obs_static_fluents</span><span class="p">(</span><span class="n">obs_trace</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Observation</span><span class="p">]):</span>
</span><span id="ObservedTraceList.get_obs_static_fluents-302"><a href="#ObservedTraceList.get_obs_static_fluents-302"><span class="linenos">302</span></a>        <span class="n">fstates</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
</span><span id="ObservedTraceList.get_obs_static_fluents-303"><a href="#ObservedTraceList.get_obs_static_fluents-303"><span class="linenos">303</span></a>        <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">obs_trace</span><span class="p">:</span>
</span><span id="ObservedTraceList.get_obs_static_fluents-304"><a href="#ObservedTraceList.get_obs_static_fluents-304"><span class="linenos">304</span></a>            <span class="k">if</span> <span class="n">obs</span><span class="o">.</span><span class="n">state</span><span class="p">:</span>
</span><span id="ObservedTraceList.get_obs_static_fluents-305"><a href="#ObservedTraceList.get_obs_static_fluents-305"><span class="linenos">305</span></a>                <span class="k">for</span> <span class="n">f</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">obs</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="ObservedTraceList.get_obs_static_fluents-306"><a href="#ObservedTraceList.get_obs_static_fluents-306"><span class="linenos">306</span></a>                    <span class="n">fstates</span><span class="p">[</span><span class="n">f</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</span><span id="ObservedTraceList.get_obs_static_fluents-307"><a href="#ObservedTraceList.get_obs_static_fluents-307"><span class="linenos">307</span></a>
</span><span id="ObservedTraceList.get_obs_static_fluents-308"><a href="#ObservedTraceList.get_obs_static_fluents-308"><span class="linenos">308</span></a>        <span class="n">static</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="ObservedTraceList.get_obs_static_fluents-309"><a href="#ObservedTraceList.get_obs_static_fluents-309"><span class="linenos">309</span></a>        <span class="k">for</span> <span class="n">f</span><span class="p">,</span> <span class="n">states</span> <span class="ow">in</span> <span class="n">fstates</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="ObservedTraceList.get_obs_static_fluents-310"><a href="#ObservedTraceList.get_obs_static_fluents-310"><span class="linenos">310</span></a>            <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">states</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">states</span><span class="p">):</span>
</span><span id="ObservedTraceList.get_obs_static_fluents-311"><a href="#ObservedTraceList.get_obs_static_fluents-311"><span class="linenos">311</span></a>                <span class="n">static</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</span><span id="ObservedTraceList.get_obs_static_fluents-312"><a href="#ObservedTraceList.get_obs_static_fluents-312"><span class="linenos">312</span></a>
</span><span id="ObservedTraceList.get_obs_static_fluents-313"><a href="#ObservedTraceList.get_obs_static_fluents-313"><span class="linenos">313</span></a>        <span class="k">return</span> <span class="n">static</span>
</span></pre></div>


    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>collections.abc.MutableSequence</dt>
                                <dd id="ObservedTraceList.append" class="function">append</dd>
                <dd id="ObservedTraceList.clear" class="function">clear</dd>
                <dd id="ObservedTraceList.reverse" class="function">reverse</dd>
                <dd id="ObservedTraceList.extend" class="function">extend</dd>
                <dd id="ObservedTraceList.pop" class="function">pop</dd>
                <dd id="ObservedTraceList.remove" class="function">remove</dd>

            </div>
            <div><dt>collections.abc.Sequence</dt>
                                <dd id="ObservedTraceList.index" class="function">index</dd>
                <dd id="ObservedTraceList.count" class="function">count</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="InvalidQueryParameter">
                            <input id="InvalidQueryParameter-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">InvalidQueryParameter</span><wbr>(<span class="base">builtins.Exception</span>):

                <label class="view-source-button" for="InvalidQueryParameter-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#InvalidQueryParameter"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="InvalidQueryParameter-9"><a href="#InvalidQueryParameter-9"><span class="linenos"> 9</span></a><span class="k">class</span> <span class="nc">InvalidQueryParameter</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
</span><span id="InvalidQueryParameter-10"><a href="#InvalidQueryParameter-10"><span class="linenos">10</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obs</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="InvalidQueryParameter-11"><a href="#InvalidQueryParameter-11"><span class="linenos">11</span></a>        <span class="k">if</span> <span class="n">message</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="InvalidQueryParameter-12"><a href="#InvalidQueryParameter-12"><span class="linenos">12</span></a>            <span class="n">message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">param</span><span class="si">}</span><span class="s2"> is not a valid query parameter for </span><span class="si">{</span><span class="n">obs</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="InvalidQueryParameter-13"><a href="#InvalidQueryParameter-13"><span class="linenos">13</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Common base class for all non-exit exceptions.</p>
</div>


                            <div id="InvalidQueryParameter.__init__" class="classattr">
                                        <input id="InvalidQueryParameter.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">InvalidQueryParameter</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">obs</span>, </span><span class="param"><span class="n">param</span>, </span><span class="param"><span class="n">message</span><span class="o">=</span><span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="InvalidQueryParameter.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#InvalidQueryParameter.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="InvalidQueryParameter.__init__-10"><a href="#InvalidQueryParameter.__init__-10"><span class="linenos">10</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obs</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="InvalidQueryParameter.__init__-11"><a href="#InvalidQueryParameter.__init__-11"><span class="linenos">11</span></a>        <span class="k">if</span> <span class="n">message</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="InvalidQueryParameter.__init__-12"><a href="#InvalidQueryParameter.__init__-12"><span class="linenos">12</span></a>            <span class="n">message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">param</span><span class="si">}</span><span class="s2"> is not a valid query parameter for </span><span class="si">{</span><span class="n">obs</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="InvalidQueryParameter.__init__-13"><a href="#InvalidQueryParameter.__init__-13"><span class="linenos">13</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>builtins.BaseException</dt>
                                <dd id="InvalidQueryParameter.with_traceback" class="function">with_traceback</dd>
                <dd id="InvalidQueryParameter.args" class="variable">args</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="IdentityObservation">
                            <input id="IdentityObservation-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">IdentityObservation</span><wbr>(<span class="base"><a href="#Observation">macq.observation.Observation</a></span>):

                <label class="view-source-button" for="IdentityObservation-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#IdentityObservation"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="IdentityObservation-8"><a href="#IdentityObservation-8"><span class="linenos"> 8</span></a><span class="k">class</span> <span class="nc">IdentityObservation</span><span class="p">(</span><span class="n">Observation</span><span class="p">):</span>
</span><span id="IdentityObservation-9"><a href="#IdentityObservation-9"><span class="linenos"> 9</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The Identity Observation Token.</span>
</span><span id="IdentityObservation-10"><a href="#IdentityObservation-10"><span class="linenos">10</span></a>
</span><span id="IdentityObservation-11"><a href="#IdentityObservation-11"><span class="linenos">11</span></a><span class="sd">    The identity observation stores the step unmodified. Inherits the base Observation</span>
</span><span id="IdentityObservation-12"><a href="#IdentityObservation-12"><span class="linenos">12</span></a><span class="sd">    class.</span>
</span><span id="IdentityObservation-13"><a href="#IdentityObservation-13"><span class="linenos">13</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="IdentityObservation-14"><a href="#IdentityObservation-14"><span class="linenos">14</span></a>
</span><span id="IdentityObservation-15"><a href="#IdentityObservation-15"><span class="linenos">15</span></a>    <span class="n">state</span><span class="p">:</span> <span class="n">State</span>
</span><span id="IdentityObservation-16"><a href="#IdentityObservation-16"><span class="linenos">16</span></a>
</span><span id="IdentityObservation-17"><a href="#IdentityObservation-17"><span class="linenos">17</span></a>    <span class="k">class</span> <span class="nc">IdentityState</span><span class="p">(</span><span class="nb">dict</span><span class="p">):</span>
</span><span id="IdentityObservation-18"><a href="#IdentityObservation-18"><span class="linenos">18</span></a>        <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="IdentityObservation-19"><a href="#IdentityObservation-19"><span class="linenos">19</span></a>            <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">())))</span>
</span><span id="IdentityObservation-20"><a href="#IdentityObservation-20"><span class="linenos">20</span></a>
</span><span id="IdentityObservation-21"><a href="#IdentityObservation-21"><span class="linenos">21</span></a>    <span class="nd">@dataclass</span>
</span><span id="IdentityObservation-22"><a href="#IdentityObservation-22"><span class="linenos">22</span></a>    <span class="k">class</span> <span class="nc">IdentityAction</span><span class="p">:</span>
</span><span id="IdentityObservation-23"><a href="#IdentityObservation-23"><span class="linenos">23</span></a>        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="IdentityObservation-24"><a href="#IdentityObservation-24"><span class="linenos">24</span></a>        <span class="n">obj_params</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="IdentityObservation-25"><a href="#IdentityObservation-25"><span class="linenos">25</span></a>        <span class="n">cost</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
</span><span id="IdentityObservation-26"><a href="#IdentityObservation-26"><span class="linenos">26</span></a>
</span><span id="IdentityObservation-27"><a href="#IdentityObservation-27"><span class="linenos">27</span></a>        <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="IdentityObservation-28"><a href="#IdentityObservation-28"><span class="linenos">28</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">obj_params</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cost</span><span class="p">)</span>
</span><span id="IdentityObservation-29"><a href="#IdentityObservation-29"><span class="linenos">29</span></a>
</span><span id="IdentityObservation-30"><a href="#IdentityObservation-30"><span class="linenos">30</span></a>        <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="IdentityObservation-31"><a href="#IdentityObservation-31"><span class="linenos">31</span></a>            <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
</span><span id="IdentityObservation-32"><a href="#IdentityObservation-32"><span class="linenos">32</span></a>
</span><span id="IdentityObservation-33"><a href="#IdentityObservation-33"><span class="linenos">33</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="n">Step</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="IdentityObservation-34"><a href="#IdentityObservation-34"><span class="linenos">34</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="IdentityObservation-35"><a href="#IdentityObservation-35"><span class="linenos">35</span></a><span class="sd">        Creates an IdentityObservation object, storing the step.</span>
</span><span id="IdentityObservation-36"><a href="#IdentityObservation-36"><span class="linenos">36</span></a>
</span><span id="IdentityObservation-37"><a href="#IdentityObservation-37"><span class="linenos">37</span></a>
</span><span id="IdentityObservation-38"><a href="#IdentityObservation-38"><span class="linenos">38</span></a><span class="sd">        Args:</span>
</span><span id="IdentityObservation-39"><a href="#IdentityObservation-39"><span class="linenos">39</span></a><span class="sd">            step (Step):</span>
</span><span id="IdentityObservation-40"><a href="#IdentityObservation-40"><span class="linenos">40</span></a><span class="sd">                The step associated with this observation.</span>
</span><span id="IdentityObservation-41"><a href="#IdentityObservation-41"><span class="linenos">41</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="IdentityObservation-42"><a href="#IdentityObservation-42"><span class="linenos">42</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="IdentityObservation-43"><a href="#IdentityObservation-43"><span class="linenos">43</span></a>
</span><span id="IdentityObservation-44"><a href="#IdentityObservation-44"><span class="linenos">44</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</span><span id="IdentityObservation-45"><a href="#IdentityObservation-45"><span class="linenos">45</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">action</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">step</span><span class="o">.</span><span class="n">action</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</span><span id="IdentityObservation-46"><a href="#IdentityObservation-46"><span class="linenos">46</span></a>
</span><span id="IdentityObservation-47"><a href="#IdentityObservation-47"><span class="linenos">47</span></a>    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="IdentityObservation-48"><a href="#IdentityObservation-48"><span class="linenos">48</span></a>        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__hash__</span><span class="p">()</span>
</span><span id="IdentityObservation-49"><a href="#IdentityObservation-49"><span class="linenos">49</span></a>
</span><span id="IdentityObservation-50"><a href="#IdentityObservation-50"><span class="linenos">50</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="IdentityObservation-51"><a href="#IdentityObservation-51"><span class="linenos">51</span></a>        <span class="k">return</span> <span class="p">(</span>
</span><span id="IdentityObservation-52"><a href="#IdentityObservation-52"><span class="linenos">52</span></a>            <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">IdentityObservation</span><span class="p">)</span>
</span><span id="IdentityObservation-53"><a href="#IdentityObservation-53"><span class="linenos">53</span></a>            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">state</span>
</span><span id="IdentityObservation-54"><a href="#IdentityObservation-54"><span class="linenos">54</span></a>            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">action</span>
</span><span id="IdentityObservation-55"><a href="#IdentityObservation-55"><span class="linenos">55</span></a>        <span class="p">)</span>
</span><span id="IdentityObservation-56"><a href="#IdentityObservation-56"><span class="linenos">56</span></a>
</span><span id="IdentityObservation-57"><a href="#IdentityObservation-57"><span class="linenos">57</span></a>    <span class="k">def</span> <span class="nf">_matches</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="IdentityObservation-58"><a href="#IdentityObservation-58"><span class="linenos">58</span></a>        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;action&quot;</span><span class="p">:</span>
</span><span id="IdentityObservation-59"><a href="#IdentityObservation-59"><span class="linenos">59</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="IdentityObservation-60"><a href="#IdentityObservation-60"><span class="linenos">60</span></a>                <span class="k">return</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span>
</span><span id="IdentityObservation-61"><a href="#IdentityObservation-61"><span class="linenos">61</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span><span class="o">.</span><span class="n">details</span><span class="p">()</span> <span class="o">==</span> <span class="n">value</span>
</span><span id="IdentityObservation-62"><a href="#IdentityObservation-62"><span class="linenos">62</span></a>        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;fluent_holds&quot;</span><span class="p">:</span>
</span><span id="IdentityObservation-63"><a href="#IdentityObservation-63"><span class="linenos">63</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">holds</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span><span id="IdentityObservation-64"><a href="#IdentityObservation-64"><span class="linenos">64</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="IdentityObservation-65"><a href="#IdentityObservation-65"><span class="linenos">65</span></a>            <span class="k">raise</span> <span class="n">InvalidQueryParameter</span><span class="p">(</span><span class="n">IdentityObservation</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>The Identity Observation Token.</p>

<p>The identity observation stores the step unmodified. Inherits the base Observation
class.</p>
</div>


                            <div id="IdentityObservation.__init__" class="classattr">
                                        <input id="IdentityObservation.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">IdentityObservation</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">step</span><span class="p">:</span> <span class="n">macq</span><span class="o">.</span><span class="n">trace</span><span class="o">.</span><span class="n">step</span><span class="o">.</span><span class="n">Step</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span>)</span>

                <label class="view-source-button" for="IdentityObservation.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#IdentityObservation.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="IdentityObservation.__init__-33"><a href="#IdentityObservation.__init__-33"><span class="linenos">33</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="n">Step</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="IdentityObservation.__init__-34"><a href="#IdentityObservation.__init__-34"><span class="linenos">34</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="IdentityObservation.__init__-35"><a href="#IdentityObservation.__init__-35"><span class="linenos">35</span></a><span class="sd">        Creates an IdentityObservation object, storing the step.</span>
</span><span id="IdentityObservation.__init__-36"><a href="#IdentityObservation.__init__-36"><span class="linenos">36</span></a>
</span><span id="IdentityObservation.__init__-37"><a href="#IdentityObservation.__init__-37"><span class="linenos">37</span></a>
</span><span id="IdentityObservation.__init__-38"><a href="#IdentityObservation.__init__-38"><span class="linenos">38</span></a><span class="sd">        Args:</span>
</span><span id="IdentityObservation.__init__-39"><a href="#IdentityObservation.__init__-39"><span class="linenos">39</span></a><span class="sd">            step (Step):</span>
</span><span id="IdentityObservation.__init__-40"><a href="#IdentityObservation.__init__-40"><span class="linenos">40</span></a><span class="sd">                The step associated with this observation.</span>
</span><span id="IdentityObservation.__init__-41"><a href="#IdentityObservation.__init__-41"><span class="linenos">41</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="IdentityObservation.__init__-42"><a href="#IdentityObservation.__init__-42"><span class="linenos">42</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="IdentityObservation.__init__-43"><a href="#IdentityObservation.__init__-43"><span class="linenos">43</span></a>
</span><span id="IdentityObservation.__init__-44"><a href="#IdentityObservation.__init__-44"><span class="linenos">44</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</span><span id="IdentityObservation.__init__-45"><a href="#IdentityObservation.__init__-45"><span class="linenos">45</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">action</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">step</span><span class="o">.</span><span class="n">action</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Creates an IdentityObservation object, storing the step.</p>

<p>Args:
    step (Step):
        The step associated with this observation.</p>
</div>


                            </div>
                            <div id="IdentityObservation.state" class="classattr">
                                <div class="attr variable">
            <span class="name">state</span><span class="annotation">: macq.trace.state.State</span>

        
    </div>
    <a class="headerlink" href="#IdentityObservation.state"></a>
    
    

                            </div>
                            <div id="IdentityObservation.action" class="classattr">
                                <div class="attr variable">
            <span class="name">action</span>

        
    </div>
    <a class="headerlink" href="#IdentityObservation.action"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#Observation">Observation</a></dt>
                                <dd id="IdentityObservation.index" class="variable"><a href="#Observation.index">index</a></dd>
                <dd id="IdentityObservation.get_details" class="function"><a href="#Observation.get_details">get_details</a></dd>
                <dd id="IdentityObservation.extract_fluent_subset" class="function"><a href="#Observation.extract_fluent_subset">extract_fluent_subset</a></dd>
                <dd id="IdentityObservation.matches" class="function"><a href="#Observation.matches">matches</a></dd>
                <dd id="IdentityObservation.serialize" class="function"><a href="#Observation.serialize">serialize</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="IdentityObservation.IdentityState">
                            <input id="IdentityObservation.IdentityState-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">IdentityObservation.IdentityState</span><wbr>(<span class="base">builtins.dict</span>):

                <label class="view-source-button" for="IdentityObservation.IdentityState-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#IdentityObservation.IdentityState"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="IdentityObservation.IdentityState-17"><a href="#IdentityObservation.IdentityState-17"><span class="linenos">17</span></a>    <span class="k">class</span> <span class="nc">IdentityState</span><span class="p">(</span><span class="nb">dict</span><span class="p">):</span>
</span><span id="IdentityObservation.IdentityState-18"><a href="#IdentityObservation.IdentityState-18"><span class="linenos">18</span></a>        <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="IdentityObservation.IdentityState-19"><a href="#IdentityObservation.IdentityState-19"><span class="linenos">19</span></a>            <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">())))</span>
</span></pre></div>


    

                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>builtins.dict</dt>
                                <dd id="IdentityObservation.IdentityState.get" class="function">get</dd>
                <dd id="IdentityObservation.IdentityState.setdefault" class="function">setdefault</dd>
                <dd id="IdentityObservation.IdentityState.pop" class="function">pop</dd>
                <dd id="IdentityObservation.IdentityState.popitem" class="function">popitem</dd>
                <dd id="IdentityObservation.IdentityState.keys" class="function">keys</dd>
                <dd id="IdentityObservation.IdentityState.items" class="function">items</dd>
                <dd id="IdentityObservation.IdentityState.values" class="function">values</dd>
                <dd id="IdentityObservation.IdentityState.update" class="function">update</dd>
                <dd id="IdentityObservation.IdentityState.fromkeys" class="function">fromkeys</dd>
                <dd id="IdentityObservation.IdentityState.clear" class="function">clear</dd>
                <dd id="IdentityObservation.IdentityState.copy" class="function">copy</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="IdentityObservation.IdentityAction">
                            <input id="IdentityObservation.IdentityAction-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">IdentityObservation.IdentityAction</span>:

                <label class="view-source-button" for="IdentityObservation.IdentityAction-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#IdentityObservation.IdentityAction"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="IdentityObservation.IdentityAction-22"><a href="#IdentityObservation.IdentityAction-22"><span class="linenos">22</span></a>    <span class="k">class</span> <span class="nc">IdentityAction</span><span class="p">:</span>
</span><span id="IdentityObservation.IdentityAction-23"><a href="#IdentityObservation.IdentityAction-23"><span class="linenos">23</span></a>        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="IdentityObservation.IdentityAction-24"><a href="#IdentityObservation.IdentityAction-24"><span class="linenos">24</span></a>        <span class="n">obj_params</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="IdentityObservation.IdentityAction-25"><a href="#IdentityObservation.IdentityAction-25"><span class="linenos">25</span></a>        <span class="n">cost</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
</span><span id="IdentityObservation.IdentityAction-26"><a href="#IdentityObservation.IdentityAction-26"><span class="linenos">26</span></a>
</span><span id="IdentityObservation.IdentityAction-27"><a href="#IdentityObservation.IdentityAction-27"><span class="linenos">27</span></a>        <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="IdentityObservation.IdentityAction-28"><a href="#IdentityObservation.IdentityAction-28"><span class="linenos">28</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">obj_params</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cost</span><span class="p">)</span>
</span><span id="IdentityObservation.IdentityAction-29"><a href="#IdentityObservation.IdentityAction-29"><span class="linenos">29</span></a>
</span><span id="IdentityObservation.IdentityAction-30"><a href="#IdentityObservation.IdentityAction-30"><span class="linenos">30</span></a>        <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="IdentityObservation.IdentityAction-31"><a href="#IdentityObservation.IdentityAction-31"><span class="linenos">31</span></a>            <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
</span></pre></div>


    

                            <div id="IdentityObservation.IdentityAction.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">IdentityObservation.IdentityAction</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">name</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">obj_params</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>, </span><span class="param"><span class="n">cost</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#IdentityObservation.IdentityAction.__init__"></a>
    
    

                            </div>
                            <div id="IdentityObservation.IdentityAction.name" class="classattr">
                                <div class="attr variable">
            <span class="name">name</span><span class="annotation">: str</span>

        
    </div>
    <a class="headerlink" href="#IdentityObservation.IdentityAction.name"></a>
    
    

                            </div>
                            <div id="IdentityObservation.IdentityAction.obj_params" class="classattr">
                                <div class="attr variable">
            <span class="name">obj_params</span><span class="annotation">: List[str]</span>

        
    </div>
    <a class="headerlink" href="#IdentityObservation.IdentityAction.obj_params"></a>
    
    

                            </div>
                            <div id="IdentityObservation.IdentityAction.cost" class="classattr">
                                <div class="attr variable">
            <span class="name">cost</span><span class="annotation">: Union[int, NoneType]</span>

        
    </div>
    <a class="headerlink" href="#IdentityObservation.IdentityAction.cost"></a>
    
    

                            </div>
                </section>
                <section id="PartialObservation">
                            <input id="PartialObservation-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">PartialObservation</span><wbr>(<span class="base"><a href="#Observation">macq.observation.Observation</a></span>):

                <label class="view-source-button" for="PartialObservation-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PartialObservation"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PartialObservation-10"><a href="#PartialObservation-10"><span class="linenos">10</span></a><span class="k">class</span> <span class="nc">PartialObservation</span><span class="p">(</span><span class="n">Observation</span><span class="p">):</span>
</span><span id="PartialObservation-11"><a href="#PartialObservation-11"><span class="linenos">11</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The Partial Observability Token.</span>
</span><span id="PartialObservation-12"><a href="#PartialObservation-12"><span class="linenos">12</span></a><span class="sd">    The partial observability token stores the step where some of the values of</span>
</span><span id="PartialObservation-13"><a href="#PartialObservation-13"><span class="linenos">13</span></a><span class="sd">    the fluents in the step&#39;s state are unknown. Inherits the base Observation</span>
</span><span id="PartialObservation-14"><a href="#PartialObservation-14"><span class="linenos">14</span></a><span class="sd">    class.</span>
</span><span id="PartialObservation-15"><a href="#PartialObservation-15"><span class="linenos">15</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="PartialObservation-16"><a href="#PartialObservation-16"><span class="linenos">16</span></a>
</span><span id="PartialObservation-17"><a href="#PartialObservation-17"><span class="linenos">17</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="PartialObservation-18"><a href="#PartialObservation-18"><span class="linenos">18</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="n">Step</span><span class="p">,</span> <span class="n">percent_missing</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">hide</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">Fluent</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="PartialObservation-19"><a href="#PartialObservation-19"><span class="linenos">19</span></a>    <span class="p">):</span>
</span><span id="PartialObservation-20"><a href="#PartialObservation-20"><span class="linenos">20</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="PartialObservation-21"><a href="#PartialObservation-21"><span class="linenos">21</span></a><span class="sd">        Creates a PartialObservation object, storing the step.</span>
</span><span id="PartialObservation-22"><a href="#PartialObservation-22"><span class="linenos">22</span></a><span class="sd">        Args:</span>
</span><span id="PartialObservation-23"><a href="#PartialObservation-23"><span class="linenos">23</span></a><span class="sd">            step (Step):</span>
</span><span id="PartialObservation-24"><a href="#PartialObservation-24"><span class="linenos">24</span></a><span class="sd">                The step associated with this observation.</span>
</span><span id="PartialObservation-25"><a href="#PartialObservation-25"><span class="linenos">25</span></a><span class="sd">            percent_missing (float):</span>
</span><span id="PartialObservation-26"><a href="#PartialObservation-26"><span class="linenos">26</span></a><span class="sd">                The percentage of fluents to randomly hide in the observation.</span>
</span><span id="PartialObservation-27"><a href="#PartialObservation-27"><span class="linenos">27</span></a><span class="sd">            hide (Set[Fluent]):</span>
</span><span id="PartialObservation-28"><a href="#PartialObservation-28"><span class="linenos">28</span></a><span class="sd">                The set of fluents to explicitly hide in the observation.</span>
</span><span id="PartialObservation-29"><a href="#PartialObservation-29"><span class="linenos">29</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PartialObservation-30"><a href="#PartialObservation-30"><span class="linenos">30</span></a>        <span class="k">if</span> <span class="n">percent_missing</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">percent_missing</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="PartialObservation-31"><a href="#PartialObservation-31"><span class="linenos">31</span></a>            <span class="k">raise</span> <span class="n">PercentError</span><span class="p">()</span>
</span><span id="PartialObservation-32"><a href="#PartialObservation-32"><span class="linenos">32</span></a>
</span><span id="PartialObservation-33"><a href="#PartialObservation-33"><span class="linenos">33</span></a>        <span class="k">if</span> <span class="n">percent_missing</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">hide</span><span class="p">:</span>
</span><span id="PartialObservation-34"><a href="#PartialObservation-34"><span class="linenos">34</span></a>            <span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Creating a PartialObseration with no missing information.&quot;</span><span class="p">)</span>
</span><span id="PartialObservation-35"><a href="#PartialObservation-35"><span class="linenos">35</span></a>
</span><span id="PartialObservation-36"><a href="#PartialObservation-36"><span class="linenos">36</span></a>        <span class="c1"># NOTE: Can&#39;t use super due to multiple inheritence (NoisyPartialObservation)</span>
</span><span id="PartialObservation-37"><a href="#PartialObservation-37"><span class="linenos">37</span></a>        <span class="n">Observation</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</span><span id="PartialObservation-38"><a href="#PartialObservation-38"><span class="linenos">38</span></a>
</span><span id="PartialObservation-39"><a href="#PartialObservation-39"><span class="linenos">39</span></a>        <span class="c1"># If percent_missing == 1 -&gt; self.state = None (below).</span>
</span><span id="PartialObservation-40"><a href="#PartialObservation-40"><span class="linenos">40</span></a>        <span class="c1"># This allows ARMS (and other algorithms) to skip steps when there is no</span>
</span><span id="PartialObservation-41"><a href="#PartialObservation-41"><span class="linenos">41</span></a>        <span class="c1"># state information available without having to check every mapping in</span>
</span><span id="PartialObservation-42"><a href="#PartialObservation-42"><span class="linenos">42</span></a>        <span class="c1"># the state (slow in large domains).</span>
</span><span id="PartialObservation-43"><a href="#PartialObservation-43"><span class="linenos">43</span></a>        <span class="k">if</span> <span class="n">percent_missing</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="PartialObservation-44"><a href="#PartialObservation-44"><span class="linenos">44</span></a>            <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hide_random_subset</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">percent_missing</span><span class="p">)</span>
</span><span id="PartialObservation-45"><a href="#PartialObservation-45"><span class="linenos">45</span></a>        <span class="k">if</span> <span class="n">hide</span><span class="p">:</span>
</span><span id="PartialObservation-46"><a href="#PartialObservation-46"><span class="linenos">46</span></a>            <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hide_subset</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">hide</span><span class="p">)</span>
</span><span id="PartialObservation-47"><a href="#PartialObservation-47"><span class="linenos">47</span></a>
</span><span id="PartialObservation-48"><a href="#PartialObservation-48"><span class="linenos">48</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">percent_missing</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">step</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</span><span id="PartialObservation-49"><a href="#PartialObservation-49"><span class="linenos">49</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">action</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">step</span><span class="o">.</span><span class="n">action</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</span><span id="PartialObservation-50"><a href="#PartialObservation-50"><span class="linenos">50</span></a>
</span><span id="PartialObservation-51"><a href="#PartialObservation-51"><span class="linenos">51</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="PartialObservation-52"><a href="#PartialObservation-52"><span class="linenos">52</span></a>        <span class="k">return</span> <span class="p">(</span>
</span><span id="PartialObservation-53"><a href="#PartialObservation-53"><span class="linenos">53</span></a>            <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">PartialObservation</span><span class="p">)</span>
</span><span id="PartialObservation-54"><a href="#PartialObservation-54"><span class="linenos">54</span></a>            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">state</span>
</span><span id="PartialObservation-55"><a href="#PartialObservation-55"><span class="linenos">55</span></a>            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">action</span>
</span><span id="PartialObservation-56"><a href="#PartialObservation-56"><span class="linenos">56</span></a>        <span class="p">)</span>
</span><span id="PartialObservation-57"><a href="#PartialObservation-57"><span class="linenos">57</span></a>
</span><span id="PartialObservation-58"><a href="#PartialObservation-58"><span class="linenos">58</span></a>    <span class="k">def</span> <span class="nf">hide_random_subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="n">Step</span><span class="p">,</span> <span class="n">percent_missing</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
</span><span id="PartialObservation-59"><a href="#PartialObservation-59"><span class="linenos">59</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Hides a random subset of the fluents in the step.</span>
</span><span id="PartialObservation-60"><a href="#PartialObservation-60"><span class="linenos">60</span></a><span class="sd">        Args:</span>
</span><span id="PartialObservation-61"><a href="#PartialObservation-61"><span class="linenos">61</span></a><span class="sd">            step (Step):</span>
</span><span id="PartialObservation-62"><a href="#PartialObservation-62"><span class="linenos">62</span></a><span class="sd">                The step to tokenize.</span>
</span><span id="PartialObservation-63"><a href="#PartialObservation-63"><span class="linenos">63</span></a><span class="sd">            percent_missing (float):</span>
</span><span id="PartialObservation-64"><a href="#PartialObservation-64"><span class="linenos">64</span></a><span class="sd">                The percentage of fluents to hide (0-1).</span>
</span><span id="PartialObservation-65"><a href="#PartialObservation-65"><span class="linenos">65</span></a><span class="sd">        Returns:</span>
</span><span id="PartialObservation-66"><a href="#PartialObservation-66"><span class="linenos">66</span></a><span class="sd">            A Step whose state is a PartialState with the random fluents hidden.</span>
</span><span id="PartialObservation-67"><a href="#PartialObservation-67"><span class="linenos">67</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PartialObservation-68"><a href="#PartialObservation-68"><span class="linenos">68</span></a>        <span class="n">new_fluents</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="PartialObservation-69"><a href="#PartialObservation-69"><span class="linenos">69</span></a>        <span class="n">hidden_f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extract_fluent_subset</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">state</span><span class="p">,</span> <span class="n">percent_missing</span><span class="p">)</span>
</span><span id="PartialObservation-70"><a href="#PartialObservation-70"><span class="linenos">70</span></a>        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">state</span><span class="p">:</span>
</span><span id="PartialObservation-71"><a href="#PartialObservation-71"><span class="linenos">71</span></a>            <span class="n">new_fluents</span><span class="p">[</span><span class="n">f</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">hidden_f</span> <span class="k">else</span> <span class="n">step</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="n">f</span><span class="p">]</span>
</span><span id="PartialObservation-72"><a href="#PartialObservation-72"><span class="linenos">72</span></a>        <span class="k">return</span> <span class="n">Step</span><span class="p">(</span><span class="n">PartialState</span><span class="p">(</span><span class="n">new_fluents</span><span class="p">),</span> <span class="n">step</span><span class="o">.</span><span class="n">action</span><span class="p">,</span> <span class="n">step</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</span><span id="PartialObservation-73"><a href="#PartialObservation-73"><span class="linenos">73</span></a>
</span><span id="PartialObservation-74"><a href="#PartialObservation-74"><span class="linenos">74</span></a>    <span class="k">def</span> <span class="nf">hide_subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="n">Step</span><span class="p">,</span> <span class="n">hide</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">Fluent</span><span class="p">]):</span>
</span><span id="PartialObservation-75"><a href="#PartialObservation-75"><span class="linenos">75</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Hides the specified set of fluents in the observation.</span>
</span><span id="PartialObservation-76"><a href="#PartialObservation-76"><span class="linenos">76</span></a><span class="sd">        Args:</span>
</span><span id="PartialObservation-77"><a href="#PartialObservation-77"><span class="linenos">77</span></a><span class="sd">            step (Step):</span>
</span><span id="PartialObservation-78"><a href="#PartialObservation-78"><span class="linenos">78</span></a><span class="sd">                The step to tokenize.</span>
</span><span id="PartialObservation-79"><a href="#PartialObservation-79"><span class="linenos">79</span></a><span class="sd">            hide (Set[Fluent]):</span>
</span><span id="PartialObservation-80"><a href="#PartialObservation-80"><span class="linenos">80</span></a><span class="sd">                The set of fluents that will be hidden.</span>
</span><span id="PartialObservation-81"><a href="#PartialObservation-81"><span class="linenos">81</span></a><span class="sd">        Returns:</span>
</span><span id="PartialObservation-82"><a href="#PartialObservation-82"><span class="linenos">82</span></a><span class="sd">            A Step whose state is a PartialState with the specified fluents hidden.</span>
</span><span id="PartialObservation-83"><a href="#PartialObservation-83"><span class="linenos">83</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PartialObservation-84"><a href="#PartialObservation-84"><span class="linenos">84</span></a>        <span class="n">new_fluents</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="PartialObservation-85"><a href="#PartialObservation-85"><span class="linenos">85</span></a>        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">fluents</span><span class="p">:</span>
</span><span id="PartialObservation-86"><a href="#PartialObservation-86"><span class="linenos">86</span></a>            <span class="n">new_fluents</span><span class="p">[</span><span class="n">f</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">hide</span> <span class="k">else</span> <span class="n">step</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="n">f</span><span class="p">]</span>
</span><span id="PartialObservation-87"><a href="#PartialObservation-87"><span class="linenos">87</span></a>        <span class="k">return</span> <span class="n">Step</span><span class="p">(</span><span class="n">PartialState</span><span class="p">(</span><span class="n">new_fluents</span><span class="p">),</span> <span class="n">step</span><span class="o">.</span><span class="n">action</span><span class="p">,</span> <span class="n">step</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</span><span id="PartialObservation-88"><a href="#PartialObservation-88"><span class="linenos">88</span></a>
</span><span id="PartialObservation-89"><a href="#PartialObservation-89"><span class="linenos">89</span></a>    <span class="k">def</span> <span class="nf">_matches</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="PartialObservation-90"><a href="#PartialObservation-90"><span class="linenos">90</span></a>        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;action&quot;</span><span class="p">:</span>
</span><span id="PartialObservation-91"><a href="#PartialObservation-91"><span class="linenos">91</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="PartialObservation-92"><a href="#PartialObservation-92"><span class="linenos">92</span></a>                <span class="k">return</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span>
</span><span id="PartialObservation-93"><a href="#PartialObservation-93"><span class="linenos">93</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span><span class="o">.</span><span class="n">details</span><span class="p">()</span> <span class="o">==</span> <span class="n">value</span>
</span><span id="PartialObservation-94"><a href="#PartialObservation-94"><span class="linenos">94</span></a>        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;fluent_holds&quot;</span><span class="p">:</span>
</span><span id="PartialObservation-95"><a href="#PartialObservation-95"><span class="linenos">95</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="PartialObservation-96"><a href="#PartialObservation-96"><span class="linenos">96</span></a>                <span class="k">return</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span>
</span><span id="PartialObservation-97"><a href="#PartialObservation-97"><span class="linenos">97</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">holds</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span><span id="PartialObservation-98"><a href="#PartialObservation-98"><span class="linenos">98</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="PartialObservation-99"><a href="#PartialObservation-99"><span class="linenos">99</span></a>            <span class="k">raise</span> <span class="n">InvalidQueryParameter</span><span class="p">(</span><span class="n">PartialObservation</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>The Partial Observability Token.
The partial observability token stores the step where some of the values of
the fluents in the step's state are unknown. Inherits the base Observation
class.</p>
</div>


                            <div id="PartialObservation.__init__" class="classattr">
                                        <input id="PartialObservation.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">PartialObservation</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">step</span><span class="p">:</span> <span class="n">macq</span><span class="o">.</span><span class="n">trace</span><span class="o">.</span><span class="n">step</span><span class="o">.</span><span class="n">Step</span>,</span><span class="param">	<span class="n">percent_missing</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span>,</span><span class="param">	<span class="n">hide</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">macq</span><span class="o">.</span><span class="n">trace</span><span class="o">.</span><span class="n">fluent</span><span class="o">.</span><span class="n">Fluent</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="PartialObservation.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PartialObservation.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PartialObservation.__init__-17"><a href="#PartialObservation.__init__-17"><span class="linenos">17</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="PartialObservation.__init__-18"><a href="#PartialObservation.__init__-18"><span class="linenos">18</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="n">Step</span><span class="p">,</span> <span class="n">percent_missing</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">hide</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">Fluent</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="PartialObservation.__init__-19"><a href="#PartialObservation.__init__-19"><span class="linenos">19</span></a>    <span class="p">):</span>
</span><span id="PartialObservation.__init__-20"><a href="#PartialObservation.__init__-20"><span class="linenos">20</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="PartialObservation.__init__-21"><a href="#PartialObservation.__init__-21"><span class="linenos">21</span></a><span class="sd">        Creates a PartialObservation object, storing the step.</span>
</span><span id="PartialObservation.__init__-22"><a href="#PartialObservation.__init__-22"><span class="linenos">22</span></a><span class="sd">        Args:</span>
</span><span id="PartialObservation.__init__-23"><a href="#PartialObservation.__init__-23"><span class="linenos">23</span></a><span class="sd">            step (Step):</span>
</span><span id="PartialObservation.__init__-24"><a href="#PartialObservation.__init__-24"><span class="linenos">24</span></a><span class="sd">                The step associated with this observation.</span>
</span><span id="PartialObservation.__init__-25"><a href="#PartialObservation.__init__-25"><span class="linenos">25</span></a><span class="sd">            percent_missing (float):</span>
</span><span id="PartialObservation.__init__-26"><a href="#PartialObservation.__init__-26"><span class="linenos">26</span></a><span class="sd">                The percentage of fluents to randomly hide in the observation.</span>
</span><span id="PartialObservation.__init__-27"><a href="#PartialObservation.__init__-27"><span class="linenos">27</span></a><span class="sd">            hide (Set[Fluent]):</span>
</span><span id="PartialObservation.__init__-28"><a href="#PartialObservation.__init__-28"><span class="linenos">28</span></a><span class="sd">                The set of fluents to explicitly hide in the observation.</span>
</span><span id="PartialObservation.__init__-29"><a href="#PartialObservation.__init__-29"><span class="linenos">29</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PartialObservation.__init__-30"><a href="#PartialObservation.__init__-30"><span class="linenos">30</span></a>        <span class="k">if</span> <span class="n">percent_missing</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">percent_missing</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="PartialObservation.__init__-31"><a href="#PartialObservation.__init__-31"><span class="linenos">31</span></a>            <span class="k">raise</span> <span class="n">PercentError</span><span class="p">()</span>
</span><span id="PartialObservation.__init__-32"><a href="#PartialObservation.__init__-32"><span class="linenos">32</span></a>
</span><span id="PartialObservation.__init__-33"><a href="#PartialObservation.__init__-33"><span class="linenos">33</span></a>        <span class="k">if</span> <span class="n">percent_missing</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">hide</span><span class="p">:</span>
</span><span id="PartialObservation.__init__-34"><a href="#PartialObservation.__init__-34"><span class="linenos">34</span></a>            <span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Creating a PartialObseration with no missing information.&quot;</span><span class="p">)</span>
</span><span id="PartialObservation.__init__-35"><a href="#PartialObservation.__init__-35"><span class="linenos">35</span></a>
</span><span id="PartialObservation.__init__-36"><a href="#PartialObservation.__init__-36"><span class="linenos">36</span></a>        <span class="c1"># NOTE: Can&#39;t use super due to multiple inheritence (NoisyPartialObservation)</span>
</span><span id="PartialObservation.__init__-37"><a href="#PartialObservation.__init__-37"><span class="linenos">37</span></a>        <span class="n">Observation</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</span><span id="PartialObservation.__init__-38"><a href="#PartialObservation.__init__-38"><span class="linenos">38</span></a>
</span><span id="PartialObservation.__init__-39"><a href="#PartialObservation.__init__-39"><span class="linenos">39</span></a>        <span class="c1"># If percent_missing == 1 -&gt; self.state = None (below).</span>
</span><span id="PartialObservation.__init__-40"><a href="#PartialObservation.__init__-40"><span class="linenos">40</span></a>        <span class="c1"># This allows ARMS (and other algorithms) to skip steps when there is no</span>
</span><span id="PartialObservation.__init__-41"><a href="#PartialObservation.__init__-41"><span class="linenos">41</span></a>        <span class="c1"># state information available without having to check every mapping in</span>
</span><span id="PartialObservation.__init__-42"><a href="#PartialObservation.__init__-42"><span class="linenos">42</span></a>        <span class="c1"># the state (slow in large domains).</span>
</span><span id="PartialObservation.__init__-43"><a href="#PartialObservation.__init__-43"><span class="linenos">43</span></a>        <span class="k">if</span> <span class="n">percent_missing</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="PartialObservation.__init__-44"><a href="#PartialObservation.__init__-44"><span class="linenos">44</span></a>            <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hide_random_subset</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">percent_missing</span><span class="p">)</span>
</span><span id="PartialObservation.__init__-45"><a href="#PartialObservation.__init__-45"><span class="linenos">45</span></a>        <span class="k">if</span> <span class="n">hide</span><span class="p">:</span>
</span><span id="PartialObservation.__init__-46"><a href="#PartialObservation.__init__-46"><span class="linenos">46</span></a>            <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hide_subset</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">hide</span><span class="p">)</span>
</span><span id="PartialObservation.__init__-47"><a href="#PartialObservation.__init__-47"><span class="linenos">47</span></a>
</span><span id="PartialObservation.__init__-48"><a href="#PartialObservation.__init__-48"><span class="linenos">48</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">percent_missing</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">step</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</span><span id="PartialObservation.__init__-49"><a href="#PartialObservation.__init__-49"><span class="linenos">49</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">action</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">step</span><span class="o">.</span><span class="n">action</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Creates a PartialObservation object, storing the step.
Args:
    step (Step):
        The step associated with this observation.
    percent_missing (float):
        The percentage of fluents to randomly hide in the observation.
    hide (Set[Fluent]):
        The set of fluents to explicitly hide in the observation.</p>
</div>


                            </div>
                            <div id="PartialObservation.state" class="classattr">
                                <div class="attr variable">
            <span class="name">state</span><span class="annotation">: Union[macq.trace.state.State, NoneType]</span>

        
    </div>
    <a class="headerlink" href="#PartialObservation.state"></a>
    
    

                            </div>
                            <div id="PartialObservation.action" class="classattr">
                                <div class="attr variable">
            <span class="name">action</span><span class="annotation">: Union[macq.trace.action.Action, NoneType]</span>

        
    </div>
    <a class="headerlink" href="#PartialObservation.action"></a>
    
    

                            </div>
                            <div id="PartialObservation.hide_random_subset" class="classattr">
                                        <input id="PartialObservation.hide_random_subset-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">hide_random_subset</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">step</span><span class="p">:</span> <span class="n">macq</span><span class="o">.</span><span class="n">trace</span><span class="o">.</span><span class="n">step</span><span class="o">.</span><span class="n">Step</span>, </span><span class="param"><span class="n">percent_missing</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="PartialObservation.hide_random_subset-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PartialObservation.hide_random_subset"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PartialObservation.hide_random_subset-58"><a href="#PartialObservation.hide_random_subset-58"><span class="linenos">58</span></a>    <span class="k">def</span> <span class="nf">hide_random_subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="n">Step</span><span class="p">,</span> <span class="n">percent_missing</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
</span><span id="PartialObservation.hide_random_subset-59"><a href="#PartialObservation.hide_random_subset-59"><span class="linenos">59</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Hides a random subset of the fluents in the step.</span>
</span><span id="PartialObservation.hide_random_subset-60"><a href="#PartialObservation.hide_random_subset-60"><span class="linenos">60</span></a><span class="sd">        Args:</span>
</span><span id="PartialObservation.hide_random_subset-61"><a href="#PartialObservation.hide_random_subset-61"><span class="linenos">61</span></a><span class="sd">            step (Step):</span>
</span><span id="PartialObservation.hide_random_subset-62"><a href="#PartialObservation.hide_random_subset-62"><span class="linenos">62</span></a><span class="sd">                The step to tokenize.</span>
</span><span id="PartialObservation.hide_random_subset-63"><a href="#PartialObservation.hide_random_subset-63"><span class="linenos">63</span></a><span class="sd">            percent_missing (float):</span>
</span><span id="PartialObservation.hide_random_subset-64"><a href="#PartialObservation.hide_random_subset-64"><span class="linenos">64</span></a><span class="sd">                The percentage of fluents to hide (0-1).</span>
</span><span id="PartialObservation.hide_random_subset-65"><a href="#PartialObservation.hide_random_subset-65"><span class="linenos">65</span></a><span class="sd">        Returns:</span>
</span><span id="PartialObservation.hide_random_subset-66"><a href="#PartialObservation.hide_random_subset-66"><span class="linenos">66</span></a><span class="sd">            A Step whose state is a PartialState with the random fluents hidden.</span>
</span><span id="PartialObservation.hide_random_subset-67"><a href="#PartialObservation.hide_random_subset-67"><span class="linenos">67</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PartialObservation.hide_random_subset-68"><a href="#PartialObservation.hide_random_subset-68"><span class="linenos">68</span></a>        <span class="n">new_fluents</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="PartialObservation.hide_random_subset-69"><a href="#PartialObservation.hide_random_subset-69"><span class="linenos">69</span></a>        <span class="n">hidden_f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extract_fluent_subset</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">state</span><span class="p">,</span> <span class="n">percent_missing</span><span class="p">)</span>
</span><span id="PartialObservation.hide_random_subset-70"><a href="#PartialObservation.hide_random_subset-70"><span class="linenos">70</span></a>        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">state</span><span class="p">:</span>
</span><span id="PartialObservation.hide_random_subset-71"><a href="#PartialObservation.hide_random_subset-71"><span class="linenos">71</span></a>            <span class="n">new_fluents</span><span class="p">[</span><span class="n">f</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">hidden_f</span> <span class="k">else</span> <span class="n">step</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="n">f</span><span class="p">]</span>
</span><span id="PartialObservation.hide_random_subset-72"><a href="#PartialObservation.hide_random_subset-72"><span class="linenos">72</span></a>        <span class="k">return</span> <span class="n">Step</span><span class="p">(</span><span class="n">PartialState</span><span class="p">(</span><span class="n">new_fluents</span><span class="p">),</span> <span class="n">step</span><span class="o">.</span><span class="n">action</span><span class="p">,</span> <span class="n">step</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Hides a random subset of the fluents in the step.
Args:
    step (Step):
        The step to tokenize.
    percent_missing (float):
        The percentage of fluents to hide (0-1).
Returns:
    A Step whose state is a PartialState with the random fluents hidden.</p>
</div>


                            </div>
                            <div id="PartialObservation.hide_subset" class="classattr">
                                        <input id="PartialObservation.hide_subset-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">hide_subset</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">step</span><span class="p">:</span> <span class="n">macq</span><span class="o">.</span><span class="n">trace</span><span class="o">.</span><span class="n">step</span><span class="o">.</span><span class="n">Step</span>,</span><span class="param">	<span class="n">hide</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">macq</span><span class="o">.</span><span class="n">trace</span><span class="o">.</span><span class="n">fluent</span><span class="o">.</span><span class="n">Fluent</span><span class="p">]</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="PartialObservation.hide_subset-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PartialObservation.hide_subset"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PartialObservation.hide_subset-74"><a href="#PartialObservation.hide_subset-74"><span class="linenos">74</span></a>    <span class="k">def</span> <span class="nf">hide_subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="n">Step</span><span class="p">,</span> <span class="n">hide</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">Fluent</span><span class="p">]):</span>
</span><span id="PartialObservation.hide_subset-75"><a href="#PartialObservation.hide_subset-75"><span class="linenos">75</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Hides the specified set of fluents in the observation.</span>
</span><span id="PartialObservation.hide_subset-76"><a href="#PartialObservation.hide_subset-76"><span class="linenos">76</span></a><span class="sd">        Args:</span>
</span><span id="PartialObservation.hide_subset-77"><a href="#PartialObservation.hide_subset-77"><span class="linenos">77</span></a><span class="sd">            step (Step):</span>
</span><span id="PartialObservation.hide_subset-78"><a href="#PartialObservation.hide_subset-78"><span class="linenos">78</span></a><span class="sd">                The step to tokenize.</span>
</span><span id="PartialObservation.hide_subset-79"><a href="#PartialObservation.hide_subset-79"><span class="linenos">79</span></a><span class="sd">            hide (Set[Fluent]):</span>
</span><span id="PartialObservation.hide_subset-80"><a href="#PartialObservation.hide_subset-80"><span class="linenos">80</span></a><span class="sd">                The set of fluents that will be hidden.</span>
</span><span id="PartialObservation.hide_subset-81"><a href="#PartialObservation.hide_subset-81"><span class="linenos">81</span></a><span class="sd">        Returns:</span>
</span><span id="PartialObservation.hide_subset-82"><a href="#PartialObservation.hide_subset-82"><span class="linenos">82</span></a><span class="sd">            A Step whose state is a PartialState with the specified fluents hidden.</span>
</span><span id="PartialObservation.hide_subset-83"><a href="#PartialObservation.hide_subset-83"><span class="linenos">83</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PartialObservation.hide_subset-84"><a href="#PartialObservation.hide_subset-84"><span class="linenos">84</span></a>        <span class="n">new_fluents</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="PartialObservation.hide_subset-85"><a href="#PartialObservation.hide_subset-85"><span class="linenos">85</span></a>        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">fluents</span><span class="p">:</span>
</span><span id="PartialObservation.hide_subset-86"><a href="#PartialObservation.hide_subset-86"><span class="linenos">86</span></a>            <span class="n">new_fluents</span><span class="p">[</span><span class="n">f</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">hide</span> <span class="k">else</span> <span class="n">step</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="n">f</span><span class="p">]</span>
</span><span id="PartialObservation.hide_subset-87"><a href="#PartialObservation.hide_subset-87"><span class="linenos">87</span></a>        <span class="k">return</span> <span class="n">Step</span><span class="p">(</span><span class="n">PartialState</span><span class="p">(</span><span class="n">new_fluents</span><span class="p">),</span> <span class="n">step</span><span class="o">.</span><span class="n">action</span><span class="p">,</span> <span class="n">step</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Hides the specified set of fluents in the observation.
Args:
    step (Step):
        The step to tokenize.
    hide (Set[Fluent]):
        The set of fluents that will be hidden.
Returns:
    A Step whose state is a PartialState with the specified fluents hidden.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#Observation">Observation</a></dt>
                                <dd id="PartialObservation.index" class="variable"><a href="#Observation.index">index</a></dd>
                <dd id="PartialObservation.get_details" class="function"><a href="#Observation.get_details">get_details</a></dd>
                <dd id="PartialObservation.extract_fluent_subset" class="function"><a href="#Observation.extract_fluent_subset">extract_fluent_subset</a></dd>
                <dd id="PartialObservation.matches" class="function"><a href="#Observation.matches">matches</a></dd>
                <dd id="PartialObservation.serialize" class="function"><a href="#Observation.serialize">serialize</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ActionObservation">
                            <input id="ActionObservation-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ActionObservation</span><wbr>(<span class="base"><a href="#Observation">macq.observation.Observation</a></span>):

                <label class="view-source-button" for="ActionObservation-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ActionObservation"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ActionObservation-6"><a href="#ActionObservation-6"><span class="linenos"> 6</span></a><span class="k">class</span> <span class="nc">ActionObservation</span><span class="p">(</span><span class="n">Observation</span><span class="p">):</span>
</span><span id="ActionObservation-7"><a href="#ActionObservation-7"><span class="linenos"> 7</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The Action Sequence Observability Token.</span>
</span><span id="ActionObservation-8"><a href="#ActionObservation-8"><span class="linenos"> 8</span></a><span class="sd">    Only stores the ordered action sequence, dropping all stateful information.</span>
</span><span id="ActionObservation-9"><a href="#ActionObservation-9"><span class="linenos"> 9</span></a><span class="sd">    For use in LOCM suite algorithms.</span>
</span><span id="ActionObservation-10"><a href="#ActionObservation-10"><span class="linenos">10</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="ActionObservation-11"><a href="#ActionObservation-11"><span class="linenos">11</span></a>
</span><span id="ActionObservation-12"><a href="#ActionObservation-12"><span class="linenos">12</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="ActionObservation-13"><a href="#ActionObservation-13"><span class="linenos">13</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="ActionObservation-14"><a href="#ActionObservation-14"><span class="linenos">14</span></a>        <span class="n">step</span><span class="p">:</span> <span class="n">Step</span><span class="p">,</span>
</span><span id="ActionObservation-15"><a href="#ActionObservation-15"><span class="linenos">15</span></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="ActionObservation-16"><a href="#ActionObservation-16"><span class="linenos">16</span></a>    <span class="p">):</span>
</span><span id="ActionObservation-17"><a href="#ActionObservation-17"><span class="linenos">17</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="ActionObservation-18"><a href="#ActionObservation-18"><span class="linenos">18</span></a><span class="sd">        Creates an ActionObservation object, storing the step.</span>
</span><span id="ActionObservation-19"><a href="#ActionObservation-19"><span class="linenos">19</span></a><span class="sd">        Args:</span>
</span><span id="ActionObservation-20"><a href="#ActionObservation-20"><span class="linenos">20</span></a><span class="sd">            step (Step):</span>
</span><span id="ActionObservation-21"><a href="#ActionObservation-21"><span class="linenos">21</span></a><span class="sd">                The step associated with this observation.</span>
</span><span id="ActionObservation-22"><a href="#ActionObservation-22"><span class="linenos">22</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ActionObservation-23"><a href="#ActionObservation-23"><span class="linenos">23</span></a>
</span><span id="ActionObservation-24"><a href="#ActionObservation-24"><span class="linenos">24</span></a>        <span class="n">Observation</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</span><span id="ActionObservation-25"><a href="#ActionObservation-25"><span class="linenos">25</span></a>
</span><span id="ActionObservation-26"><a href="#ActionObservation-26"><span class="linenos">26</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="kc">None</span> <span class="c1"># stateless representation</span>
</span><span id="ActionObservation-27"><a href="#ActionObservation-27"><span class="linenos">27</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">action</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">step</span><span class="o">.</span><span class="n">action</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</span><span id="ActionObservation-28"><a href="#ActionObservation-28"><span class="linenos">28</span></a>
</span><span id="ActionObservation-29"><a href="#ActionObservation-29"><span class="linenos">29</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="ActionObservation-30"><a href="#ActionObservation-30"><span class="linenos">30</span></a>        <span class="k">return</span> <span class="p">(</span>
</span><span id="ActionObservation-31"><a href="#ActionObservation-31"><span class="linenos">31</span></a>            <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">ActionObservation</span><span class="p">)</span>
</span><span id="ActionObservation-32"><a href="#ActionObservation-32"><span class="linenos">32</span></a>            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="kc">None</span>  <span class="c1">#</span>
</span><span id="ActionObservation-33"><a href="#ActionObservation-33"><span class="linenos">33</span></a>            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">action</span>
</span><span id="ActionObservation-34"><a href="#ActionObservation-34"><span class="linenos">34</span></a>        <span class="p">)</span>
</span><span id="ActionObservation-35"><a href="#ActionObservation-35"><span class="linenos">35</span></a>
</span><span id="ActionObservation-36"><a href="#ActionObservation-36"><span class="linenos">36</span></a>    <span class="k">def</span> <span class="nf">_matches</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="ActionObservation-37"><a href="#ActionObservation-37"><span class="linenos">37</span></a>        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;action&quot;</span><span class="p">:</span>
</span><span id="ActionObservation-38"><a href="#ActionObservation-38"><span class="linenos">38</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ActionObservation-39"><a href="#ActionObservation-39"><span class="linenos">39</span></a>                <span class="k">return</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span>
</span><span id="ActionObservation-40"><a href="#ActionObservation-40"><span class="linenos">40</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span><span class="o">.</span><span class="n">details</span><span class="p">()</span> <span class="o">==</span> <span class="n">value</span>
</span><span id="ActionObservation-41"><a href="#ActionObservation-41"><span class="linenos">41</span></a>        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;fluent_holds&quot;</span><span class="p">:</span>
</span><span id="ActionObservation-42"><a href="#ActionObservation-42"><span class="linenos">42</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ActionObservation-43"><a href="#ActionObservation-43"><span class="linenos">43</span></a>                <span class="k">return</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span>
</span><span id="ActionObservation-44"><a href="#ActionObservation-44"><span class="linenos">44</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">holds</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span><span id="ActionObservation-45"><a href="#ActionObservation-45"><span class="linenos">45</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ActionObservation-46"><a href="#ActionObservation-46"><span class="linenos">46</span></a>            <span class="k">raise</span> <span class="n">InvalidQueryParameter</span><span class="p">(</span><span class="n">ActionObservation</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>The Action Sequence Observability Token.
Only stores the ordered action sequence, dropping all stateful information.
For use in LOCM suite algorithms.</p>
</div>


                            <div id="ActionObservation.__init__" class="classattr">
                                        <input id="ActionObservation.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ActionObservation</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">step</span><span class="p">:</span> <span class="n">macq</span><span class="o">.</span><span class="n">trace</span><span class="o">.</span><span class="n">step</span><span class="o">.</span><span class="n">Step</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span>)</span>

                <label class="view-source-button" for="ActionObservation.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ActionObservation.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ActionObservation.__init__-12"><a href="#ActionObservation.__init__-12"><span class="linenos">12</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="ActionObservation.__init__-13"><a href="#ActionObservation.__init__-13"><span class="linenos">13</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="ActionObservation.__init__-14"><a href="#ActionObservation.__init__-14"><span class="linenos">14</span></a>        <span class="n">step</span><span class="p">:</span> <span class="n">Step</span><span class="p">,</span>
</span><span id="ActionObservation.__init__-15"><a href="#ActionObservation.__init__-15"><span class="linenos">15</span></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="ActionObservation.__init__-16"><a href="#ActionObservation.__init__-16"><span class="linenos">16</span></a>    <span class="p">):</span>
</span><span id="ActionObservation.__init__-17"><a href="#ActionObservation.__init__-17"><span class="linenos">17</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="ActionObservation.__init__-18"><a href="#ActionObservation.__init__-18"><span class="linenos">18</span></a><span class="sd">        Creates an ActionObservation object, storing the step.</span>
</span><span id="ActionObservation.__init__-19"><a href="#ActionObservation.__init__-19"><span class="linenos">19</span></a><span class="sd">        Args:</span>
</span><span id="ActionObservation.__init__-20"><a href="#ActionObservation.__init__-20"><span class="linenos">20</span></a><span class="sd">            step (Step):</span>
</span><span id="ActionObservation.__init__-21"><a href="#ActionObservation.__init__-21"><span class="linenos">21</span></a><span class="sd">                The step associated with this observation.</span>
</span><span id="ActionObservation.__init__-22"><a href="#ActionObservation.__init__-22"><span class="linenos">22</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ActionObservation.__init__-23"><a href="#ActionObservation.__init__-23"><span class="linenos">23</span></a>
</span><span id="ActionObservation.__init__-24"><a href="#ActionObservation.__init__-24"><span class="linenos">24</span></a>        <span class="n">Observation</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</span><span id="ActionObservation.__init__-25"><a href="#ActionObservation.__init__-25"><span class="linenos">25</span></a>
</span><span id="ActionObservation.__init__-26"><a href="#ActionObservation.__init__-26"><span class="linenos">26</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="kc">None</span> <span class="c1"># stateless representation</span>
</span><span id="ActionObservation.__init__-27"><a href="#ActionObservation.__init__-27"><span class="linenos">27</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">action</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">step</span><span class="o">.</span><span class="n">action</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Creates an ActionObservation object, storing the step.
Args:
    step (Step):
        The step associated with this observation.</p>
</div>


                            </div>
                            <div id="ActionObservation.state" class="classattr">
                                <div class="attr variable">
            <span class="name">state</span><span class="annotation">: Union[macq.trace.state.State, NoneType]</span>

        
    </div>
    <a class="headerlink" href="#ActionObservation.state"></a>
    
    

                            </div>
                            <div id="ActionObservation.action" class="classattr">
                                <div class="attr variable">
            <span class="name">action</span><span class="annotation">: Union[macq.trace.action.Action, NoneType]</span>

        
    </div>
    <a class="headerlink" href="#ActionObservation.action"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#Observation">Observation</a></dt>
                                <dd id="ActionObservation.index" class="variable"><a href="#Observation.index">index</a></dd>
                <dd id="ActionObservation.get_details" class="function"><a href="#Observation.get_details">get_details</a></dd>
                <dd id="ActionObservation.extract_fluent_subset" class="function"><a href="#Observation.extract_fluent_subset">extract_fluent_subset</a></dd>
                <dd id="ActionObservation.matches" class="function"><a href="#Observation.matches">matches</a></dd>
                <dd id="ActionObservation.serialize" class="function"><a href="#Observation.serialize">serialize</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="AtomicPartialObservation">
                            <input id="AtomicPartialObservation-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">AtomicPartialObservation</span><wbr>(<span class="base"><a href="#PartialObservation">macq.observation.PartialObservation</a></span>):

                <label class="view-source-button" for="AtomicPartialObservation-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AtomicPartialObservation"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AtomicPartialObservation-18"><a href="#AtomicPartialObservation-18"><span class="linenos">18</span></a><span class="k">class</span> <span class="nc">AtomicPartialObservation</span><span class="p">(</span><span class="n">PartialObservation</span><span class="p">):</span>
</span><span id="AtomicPartialObservation-19"><a href="#AtomicPartialObservation-19"><span class="linenos">19</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The Atomic Partial Observability Token.</span>
</span><span id="AtomicPartialObservation-20"><a href="#AtomicPartialObservation-20"><span class="linenos">20</span></a><span class="sd">    The atomic partial observability token stores the step where some of the values of</span>
</span><span id="AtomicPartialObservation-21"><a href="#AtomicPartialObservation-21"><span class="linenos">21</span></a><span class="sd">    the fluents in the step&#39;s state are unknown. Inherits the base Observation</span>
</span><span id="AtomicPartialObservation-22"><a href="#AtomicPartialObservation-22"><span class="linenos">22</span></a><span class="sd">    class. Unlike the partial observability token, the atomic partial observability token</span>
</span><span id="AtomicPartialObservation-23"><a href="#AtomicPartialObservation-23"><span class="linenos">23</span></a><span class="sd">    stores everything in strings.</span>
</span><span id="AtomicPartialObservation-24"><a href="#AtomicPartialObservation-24"><span class="linenos">24</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="AtomicPartialObservation-25"><a href="#AtomicPartialObservation-25"><span class="linenos">25</span></a>
</span><span id="AtomicPartialObservation-26"><a href="#AtomicPartialObservation-26"><span class="linenos">26</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="AtomicPartialObservation-27"><a href="#AtomicPartialObservation-27"><span class="linenos">27</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="n">Step</span><span class="p">,</span> <span class="n">percent_missing</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">hide</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">Fluent</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="AtomicPartialObservation-28"><a href="#AtomicPartialObservation-28"><span class="linenos">28</span></a>    <span class="p">):</span>
</span><span id="AtomicPartialObservation-29"><a href="#AtomicPartialObservation-29"><span class="linenos">29</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="AtomicPartialObservation-30"><a href="#AtomicPartialObservation-30"><span class="linenos">30</span></a><span class="sd">        Creates an AtomicPartialObservation object, storing the step.</span>
</span><span id="AtomicPartialObservation-31"><a href="#AtomicPartialObservation-31"><span class="linenos">31</span></a>
</span><span id="AtomicPartialObservation-32"><a href="#AtomicPartialObservation-32"><span class="linenos">32</span></a><span class="sd">        Args:</span>
</span><span id="AtomicPartialObservation-33"><a href="#AtomicPartialObservation-33"><span class="linenos">33</span></a><span class="sd">            step (Step):</span>
</span><span id="AtomicPartialObservation-34"><a href="#AtomicPartialObservation-34"><span class="linenos">34</span></a><span class="sd">                The step associated with this observation.</span>
</span><span id="AtomicPartialObservation-35"><a href="#AtomicPartialObservation-35"><span class="linenos">35</span></a><span class="sd">            percent_missing (float):</span>
</span><span id="AtomicPartialObservation-36"><a href="#AtomicPartialObservation-36"><span class="linenos">36</span></a><span class="sd">                The percentage of fluents to randomly hide in the observation.</span>
</span><span id="AtomicPartialObservation-37"><a href="#AtomicPartialObservation-37"><span class="linenos">37</span></a><span class="sd">            hide (Set[Fluent]):</span>
</span><span id="AtomicPartialObservation-38"><a href="#AtomicPartialObservation-38"><span class="linenos">38</span></a><span class="sd">                The set of fluents to explicitly hide in the observation.</span>
</span><span id="AtomicPartialObservation-39"><a href="#AtomicPartialObservation-39"><span class="linenos">39</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AtomicPartialObservation-40"><a href="#AtomicPartialObservation-40"><span class="linenos">40</span></a>        <span class="k">if</span> <span class="n">percent_missing</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">percent_missing</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="AtomicPartialObservation-41"><a href="#AtomicPartialObservation-41"><span class="linenos">41</span></a>            <span class="k">raise</span> <span class="n">PercentError</span><span class="p">()</span>
</span><span id="AtomicPartialObservation-42"><a href="#AtomicPartialObservation-42"><span class="linenos">42</span></a>
</span><span id="AtomicPartialObservation-43"><a href="#AtomicPartialObservation-43"><span class="linenos">43</span></a>        <span class="k">if</span> <span class="n">percent_missing</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">hide</span><span class="p">:</span>
</span><span id="AtomicPartialObservation-44"><a href="#AtomicPartialObservation-44"><span class="linenos">44</span></a>            <span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Creating a PartialObseration with no missing information.&quot;</span><span class="p">)</span>
</span><span id="AtomicPartialObservation-45"><a href="#AtomicPartialObservation-45"><span class="linenos">45</span></a>
</span><span id="AtomicPartialObservation-46"><a href="#AtomicPartialObservation-46"><span class="linenos">46</span></a>        <span class="n">Observation</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</span><span id="AtomicPartialObservation-47"><a href="#AtomicPartialObservation-47"><span class="linenos">47</span></a>
</span><span id="AtomicPartialObservation-48"><a href="#AtomicPartialObservation-48"><span class="linenos">48</span></a>        <span class="k">if</span> <span class="n">percent_missing</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="AtomicPartialObservation-49"><a href="#AtomicPartialObservation-49"><span class="linenos">49</span></a>            <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hide_random_subset</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">percent_missing</span><span class="p">)</span>
</span><span id="AtomicPartialObservation-50"><a href="#AtomicPartialObservation-50"><span class="linenos">50</span></a>        <span class="k">if</span> <span class="n">hide</span><span class="p">:</span>
</span><span id="AtomicPartialObservation-51"><a href="#AtomicPartialObservation-51"><span class="linenos">51</span></a>            <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hide_subset</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">hide</span><span class="p">)</span>
</span><span id="AtomicPartialObservation-52"><a href="#AtomicPartialObservation-52"><span class="linenos">52</span></a>
</span><span id="AtomicPartialObservation-53"><a href="#AtomicPartialObservation-53"><span class="linenos">53</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">percent_missing</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">step</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">clone</span><span class="p">(</span><span class="n">atomic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="AtomicPartialObservation-54"><a href="#AtomicPartialObservation-54"><span class="linenos">54</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">action</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">step</span><span class="o">.</span><span class="n">action</span><span class="o">.</span><span class="n">clone</span><span class="p">(</span><span class="n">atomic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="AtomicPartialObservation-55"><a href="#AtomicPartialObservation-55"><span class="linenos">55</span></a>
</span><span id="AtomicPartialObservation-56"><a href="#AtomicPartialObservation-56"><span class="linenos">56</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="AtomicPartialObservation-57"><a href="#AtomicPartialObservation-57"><span class="linenos">57</span></a>        <span class="k">return</span> <span class="p">(</span>
</span><span id="AtomicPartialObservation-58"><a href="#AtomicPartialObservation-58"><span class="linenos">58</span></a>            <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">AtomicPartialObservation</span><span class="p">)</span>
</span><span id="AtomicPartialObservation-59"><a href="#AtomicPartialObservation-59"><span class="linenos">59</span></a>            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">state</span>
</span><span id="AtomicPartialObservation-60"><a href="#AtomicPartialObservation-60"><span class="linenos">60</span></a>            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">action</span>
</span><span id="AtomicPartialObservation-61"><a href="#AtomicPartialObservation-61"><span class="linenos">61</span></a>        <span class="p">)</span>
</span><span id="AtomicPartialObservation-62"><a href="#AtomicPartialObservation-62"><span class="linenos">62</span></a>
</span><span id="AtomicPartialObservation-63"><a href="#AtomicPartialObservation-63"><span class="linenos">63</span></a>    <span class="k">def</span> <span class="nf">details</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="AtomicPartialObservation-64"><a href="#AtomicPartialObservation-64"><span class="linenos">64</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Obs </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">)</span><span class="si">}</span><span class="s2">.</span><span class="se">\n</span><span class="s2">  State: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s2">  Action: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">action</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</span></pre></div>


            <div class="docstring"><p>The Atomic Partial Observability Token.
The atomic partial observability token stores the step where some of the values of
the fluents in the step's state are unknown. Inherits the base Observation
class. Unlike the partial observability token, the atomic partial observability token
stores everything in strings.</p>
</div>


                            <div id="AtomicPartialObservation.__init__" class="classattr">
                                        <input id="AtomicPartialObservation.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">AtomicPartialObservation</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">step</span><span class="p">:</span> <span class="n">macq</span><span class="o">.</span><span class="n">trace</span><span class="o">.</span><span class="n">step</span><span class="o">.</span><span class="n">Step</span>,</span><span class="param">	<span class="n">percent_missing</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span>,</span><span class="param">	<span class="n">hide</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">macq</span><span class="o">.</span><span class="n">trace</span><span class="o">.</span><span class="n">fluent</span><span class="o">.</span><span class="n">Fluent</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="AtomicPartialObservation.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AtomicPartialObservation.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AtomicPartialObservation.__init__-26"><a href="#AtomicPartialObservation.__init__-26"><span class="linenos">26</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="AtomicPartialObservation.__init__-27"><a href="#AtomicPartialObservation.__init__-27"><span class="linenos">27</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="n">Step</span><span class="p">,</span> <span class="n">percent_missing</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">hide</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">Fluent</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="AtomicPartialObservation.__init__-28"><a href="#AtomicPartialObservation.__init__-28"><span class="linenos">28</span></a>    <span class="p">):</span>
</span><span id="AtomicPartialObservation.__init__-29"><a href="#AtomicPartialObservation.__init__-29"><span class="linenos">29</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="AtomicPartialObservation.__init__-30"><a href="#AtomicPartialObservation.__init__-30"><span class="linenos">30</span></a><span class="sd">        Creates an AtomicPartialObservation object, storing the step.</span>
</span><span id="AtomicPartialObservation.__init__-31"><a href="#AtomicPartialObservation.__init__-31"><span class="linenos">31</span></a>
</span><span id="AtomicPartialObservation.__init__-32"><a href="#AtomicPartialObservation.__init__-32"><span class="linenos">32</span></a><span class="sd">        Args:</span>
</span><span id="AtomicPartialObservation.__init__-33"><a href="#AtomicPartialObservation.__init__-33"><span class="linenos">33</span></a><span class="sd">            step (Step):</span>
</span><span id="AtomicPartialObservation.__init__-34"><a href="#AtomicPartialObservation.__init__-34"><span class="linenos">34</span></a><span class="sd">                The step associated with this observation.</span>
</span><span id="AtomicPartialObservation.__init__-35"><a href="#AtomicPartialObservation.__init__-35"><span class="linenos">35</span></a><span class="sd">            percent_missing (float):</span>
</span><span id="AtomicPartialObservation.__init__-36"><a href="#AtomicPartialObservation.__init__-36"><span class="linenos">36</span></a><span class="sd">                The percentage of fluents to randomly hide in the observation.</span>
</span><span id="AtomicPartialObservation.__init__-37"><a href="#AtomicPartialObservation.__init__-37"><span class="linenos">37</span></a><span class="sd">            hide (Set[Fluent]):</span>
</span><span id="AtomicPartialObservation.__init__-38"><a href="#AtomicPartialObservation.__init__-38"><span class="linenos">38</span></a><span class="sd">                The set of fluents to explicitly hide in the observation.</span>
</span><span id="AtomicPartialObservation.__init__-39"><a href="#AtomicPartialObservation.__init__-39"><span class="linenos">39</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AtomicPartialObservation.__init__-40"><a href="#AtomicPartialObservation.__init__-40"><span class="linenos">40</span></a>        <span class="k">if</span> <span class="n">percent_missing</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">percent_missing</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="AtomicPartialObservation.__init__-41"><a href="#AtomicPartialObservation.__init__-41"><span class="linenos">41</span></a>            <span class="k">raise</span> <span class="n">PercentError</span><span class="p">()</span>
</span><span id="AtomicPartialObservation.__init__-42"><a href="#AtomicPartialObservation.__init__-42"><span class="linenos">42</span></a>
</span><span id="AtomicPartialObservation.__init__-43"><a href="#AtomicPartialObservation.__init__-43"><span class="linenos">43</span></a>        <span class="k">if</span> <span class="n">percent_missing</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">hide</span><span class="p">:</span>
</span><span id="AtomicPartialObservation.__init__-44"><a href="#AtomicPartialObservation.__init__-44"><span class="linenos">44</span></a>            <span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Creating a PartialObseration with no missing information.&quot;</span><span class="p">)</span>
</span><span id="AtomicPartialObservation.__init__-45"><a href="#AtomicPartialObservation.__init__-45"><span class="linenos">45</span></a>
</span><span id="AtomicPartialObservation.__init__-46"><a href="#AtomicPartialObservation.__init__-46"><span class="linenos">46</span></a>        <span class="n">Observation</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</span><span id="AtomicPartialObservation.__init__-47"><a href="#AtomicPartialObservation.__init__-47"><span class="linenos">47</span></a>
</span><span id="AtomicPartialObservation.__init__-48"><a href="#AtomicPartialObservation.__init__-48"><span class="linenos">48</span></a>        <span class="k">if</span> <span class="n">percent_missing</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="AtomicPartialObservation.__init__-49"><a href="#AtomicPartialObservation.__init__-49"><span class="linenos">49</span></a>            <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hide_random_subset</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">percent_missing</span><span class="p">)</span>
</span><span id="AtomicPartialObservation.__init__-50"><a href="#AtomicPartialObservation.__init__-50"><span class="linenos">50</span></a>        <span class="k">if</span> <span class="n">hide</span><span class="p">:</span>
</span><span id="AtomicPartialObservation.__init__-51"><a href="#AtomicPartialObservation.__init__-51"><span class="linenos">51</span></a>            <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hide_subset</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">hide</span><span class="p">)</span>
</span><span id="AtomicPartialObservation.__init__-52"><a href="#AtomicPartialObservation.__init__-52"><span class="linenos">52</span></a>
</span><span id="AtomicPartialObservation.__init__-53"><a href="#AtomicPartialObservation.__init__-53"><span class="linenos">53</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">percent_missing</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">step</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">clone</span><span class="p">(</span><span class="n">atomic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="AtomicPartialObservation.__init__-54"><a href="#AtomicPartialObservation.__init__-54"><span class="linenos">54</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">action</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">step</span><span class="o">.</span><span class="n">action</span><span class="o">.</span><span class="n">clone</span><span class="p">(</span><span class="n">atomic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Creates an AtomicPartialObservation object, storing the step.</p>

<p>Args:
    step (Step):
        The step associated with this observation.
    percent_missing (float):
        The percentage of fluents to randomly hide in the observation.
    hide (Set[Fluent]):
        The set of fluents to explicitly hide in the observation.</p>
</div>


                            </div>
                            <div id="AtomicPartialObservation.state" class="classattr">
                                <div class="attr variable">
            <span class="name">state</span><span class="annotation">: Union[macq.trace.state.State, NoneType]</span>

        
    </div>
    <a class="headerlink" href="#AtomicPartialObservation.state"></a>
    
    

                            </div>
                            <div id="AtomicPartialObservation.action" class="classattr">
                                <div class="attr variable">
            <span class="name">action</span><span class="annotation">: Union[macq.trace.action.Action, NoneType]</span>

        
    </div>
    <a class="headerlink" href="#AtomicPartialObservation.action"></a>
    
    

                            </div>
                            <div id="AtomicPartialObservation.details" class="classattr">
                                        <input id="AtomicPartialObservation.details-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">details</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="AtomicPartialObservation.details-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AtomicPartialObservation.details"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AtomicPartialObservation.details-63"><a href="#AtomicPartialObservation.details-63"><span class="linenos">63</span></a>    <span class="k">def</span> <span class="nf">details</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="AtomicPartialObservation.details-64"><a href="#AtomicPartialObservation.details-64"><span class="linenos">64</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Obs </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">)</span><span class="si">}</span><span class="s2">.</span><span class="se">\n</span><span class="s2">  State: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s2">  Action: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">action</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</span></pre></div>


    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#PartialObservation">PartialObservation</a></dt>
                                <dd id="AtomicPartialObservation.hide_random_subset" class="function"><a href="#PartialObservation.hide_random_subset">hide_random_subset</a></dd>
                <dd id="AtomicPartialObservation.hide_subset" class="function"><a href="#PartialObservation.hide_subset">hide_subset</a></dd>

            </div>
            <div><dt><a href="#Observation">Observation</a></dt>
                                <dd id="AtomicPartialObservation.index" class="variable"><a href="#Observation.index">index</a></dd>
                <dd id="AtomicPartialObservation.get_details" class="function"><a href="#Observation.get_details">get_details</a></dd>
                <dd id="AtomicPartialObservation.extract_fluent_subset" class="function"><a href="#Observation.extract_fluent_subset">extract_fluent_subset</a></dd>
                <dd id="AtomicPartialObservation.matches" class="function"><a href="#Observation.matches">matches</a></dd>
                <dd id="AtomicPartialObservation.serialize" class="function"><a href="#Observation.serialize">serialize</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="NoisyObservation">
                            <input id="NoisyObservation-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">NoisyObservation</span><wbr>(<span class="base"><a href="#Observation">macq.observation.Observation</a></span>):

                <label class="view-source-button" for="NoisyObservation-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#NoisyObservation"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="NoisyObservation-8"><a href="#NoisyObservation-8"><span class="linenos"> 8</span></a><span class="k">class</span> <span class="nc">NoisyObservation</span><span class="p">(</span><span class="n">Observation</span><span class="p">):</span>
</span><span id="NoisyObservation-9"><a href="#NoisyObservation-9"><span class="linenos"> 9</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The Noisy Observability Token.</span>
</span><span id="NoisyObservation-10"><a href="#NoisyObservation-10"><span class="linenos">10</span></a>
</span><span id="NoisyObservation-11"><a href="#NoisyObservation-11"><span class="linenos">11</span></a><span class="sd">    The noisy observability token stores the step where some of the values of</span>
</span><span id="NoisyObservation-12"><a href="#NoisyObservation-12"><span class="linenos">12</span></a><span class="sd">    the fluents in the step&#39;s state are incorrect (noisy).</span>
</span><span id="NoisyObservation-13"><a href="#NoisyObservation-13"><span class="linenos">13</span></a>
</span><span id="NoisyObservation-14"><a href="#NoisyObservation-14"><span class="linenos">14</span></a><span class="sd">    This token can be used to create states that are noisy but fully observable.</span>
</span><span id="NoisyObservation-15"><a href="#NoisyObservation-15"><span class="linenos">15</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="NoisyObservation-16"><a href="#NoisyObservation-16"><span class="linenos">16</span></a>
</span><span id="NoisyObservation-17"><a href="#NoisyObservation-17"><span class="linenos">17</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="n">Step</span><span class="p">,</span> <span class="n">percent_noisy</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">replace</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="NoisyObservation-18"><a href="#NoisyObservation-18"><span class="linenos">18</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="NoisyObservation-19"><a href="#NoisyObservation-19"><span class="linenos">19</span></a><span class="sd">        Creates an NoisyObservation object, storing the state and action.</span>
</span><span id="NoisyObservation-20"><a href="#NoisyObservation-20"><span class="linenos">20</span></a>
</span><span id="NoisyObservation-21"><a href="#NoisyObservation-21"><span class="linenos">21</span></a><span class="sd">        Args:</span>
</span><span id="NoisyObservation-22"><a href="#NoisyObservation-22"><span class="linenos">22</span></a><span class="sd">            step (Step):</span>
</span><span id="NoisyObservation-23"><a href="#NoisyObservation-23"><span class="linenos">23</span></a><span class="sd">                The step associated with this observation.</span>
</span><span id="NoisyObservation-24"><a href="#NoisyObservation-24"><span class="linenos">24</span></a><span class="sd">            percent_noisy (float):</span>
</span><span id="NoisyObservation-25"><a href="#NoisyObservation-25"><span class="linenos">25</span></a><span class="sd">                The percentage of fluents to randomly make noisy in the observation.</span>
</span><span id="NoisyObservation-26"><a href="#NoisyObservation-26"><span class="linenos">26</span></a><span class="sd">            replace (bool):</span>
</span><span id="NoisyObservation-27"><a href="#NoisyObservation-27"><span class="linenos">27</span></a><span class="sd">                Option to replace noisy fluents with the values of other existing fluents instead</span>
</span><span id="NoisyObservation-28"><a href="#NoisyObservation-28"><span class="linenos">28</span></a><span class="sd">                of just flipping their values.</span>
</span><span id="NoisyObservation-29"><a href="#NoisyObservation-29"><span class="linenos">29</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="NoisyObservation-30"><a href="#NoisyObservation-30"><span class="linenos">30</span></a>
</span><span id="NoisyObservation-31"><a href="#NoisyObservation-31"><span class="linenos">31</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</span><span id="NoisyObservation-32"><a href="#NoisyObservation-32"><span class="linenos">32</span></a>
</span><span id="NoisyObservation-33"><a href="#NoisyObservation-33"><span class="linenos">33</span></a>        <span class="k">if</span> <span class="n">percent_noisy</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">percent_noisy</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="NoisyObservation-34"><a href="#NoisyObservation-34"><span class="linenos">34</span></a>            <span class="k">raise</span> <span class="n">PercentError</span><span class="p">()</span>
</span><span id="NoisyObservation-35"><a href="#NoisyObservation-35"><span class="linenos">35</span></a>
</span><span id="NoisyObservation-36"><a href="#NoisyObservation-36"><span class="linenos">36</span></a>        <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">random_noisy_subset</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">percent_noisy</span><span class="p">,</span> <span class="n">replace</span><span class="p">)</span>
</span><span id="NoisyObservation-37"><a href="#NoisyObservation-37"><span class="linenos">37</span></a>
</span><span id="NoisyObservation-38"><a href="#NoisyObservation-38"><span class="linenos">38</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</span><span id="NoisyObservation-39"><a href="#NoisyObservation-39"><span class="linenos">39</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">action</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">step</span><span class="o">.</span><span class="n">action</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</span><span id="NoisyObservation-40"><a href="#NoisyObservation-40"><span class="linenos">40</span></a>
</span><span id="NoisyObservation-41"><a href="#NoisyObservation-41"><span class="linenos">41</span></a>    <span class="k">def</span> <span class="nf">random_noisy_subset</span><span class="p">(</span>
</span><span id="NoisyObservation-42"><a href="#NoisyObservation-42"><span class="linenos">42</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="n">Step</span><span class="p">,</span> <span class="n">percent_noisy</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">replace</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="NoisyObservation-43"><a href="#NoisyObservation-43"><span class="linenos">43</span></a>    <span class="p">):</span>
</span><span id="NoisyObservation-44"><a href="#NoisyObservation-44"><span class="linenos">44</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generates a random subset of fluents corresponding to the percent provided</span>
</span><span id="NoisyObservation-45"><a href="#NoisyObservation-45"><span class="linenos">45</span></a><span class="sd">        and flips their value to create noise.</span>
</span><span id="NoisyObservation-46"><a href="#NoisyObservation-46"><span class="linenos">46</span></a>
</span><span id="NoisyObservation-47"><a href="#NoisyObservation-47"><span class="linenos">47</span></a><span class="sd">        Args:</span>
</span><span id="NoisyObservation-48"><a href="#NoisyObservation-48"><span class="linenos">48</span></a><span class="sd">            step (Step):</span>
</span><span id="NoisyObservation-49"><a href="#NoisyObservation-49"><span class="linenos">49</span></a><span class="sd">                The step associated with this observation.</span>
</span><span id="NoisyObservation-50"><a href="#NoisyObservation-50"><span class="linenos">50</span></a><span class="sd">            percent_noisy (float):</span>
</span><span id="NoisyObservation-51"><a href="#NoisyObservation-51"><span class="linenos">51</span></a><span class="sd">                The percentage of fluents to randomly make noisy in the observation.</span>
</span><span id="NoisyObservation-52"><a href="#NoisyObservation-52"><span class="linenos">52</span></a><span class="sd">            replace (bool):</span>
</span><span id="NoisyObservation-53"><a href="#NoisyObservation-53"><span class="linenos">53</span></a><span class="sd">                Option to replace noisy fluents with the values of other existing fluents instead</span>
</span><span id="NoisyObservation-54"><a href="#NoisyObservation-54"><span class="linenos">54</span></a><span class="sd">                of just flipping their values.</span>
</span><span id="NoisyObservation-55"><a href="#NoisyObservation-55"><span class="linenos">55</span></a>
</span><span id="NoisyObservation-56"><a href="#NoisyObservation-56"><span class="linenos">56</span></a><span class="sd">        Returns:</span>
</span><span id="NoisyObservation-57"><a href="#NoisyObservation-57"><span class="linenos">57</span></a><span class="sd">            A new `Step` with the noisy fluents in place.</span>
</span><span id="NoisyObservation-58"><a href="#NoisyObservation-58"><span class="linenos">58</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="NoisyObservation-59"><a href="#NoisyObservation-59"><span class="linenos">59</span></a>        <span class="c1"># hidden fluents cannot be made noisy; only use visible fluents</span>
</span><span id="NoisyObservation-60"><a href="#NoisyObservation-60"><span class="linenos">60</span></a>        <span class="n">state</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</span><span id="NoisyObservation-61"><a href="#NoisyObservation-61"><span class="linenos">61</span></a>        <span class="n">invisible_f</span> <span class="o">=</span> <span class="p">{</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">state</span> <span class="k">if</span> <span class="n">state</span><span class="p">[</span><span class="n">f</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">}</span>
</span><span id="NoisyObservation-62"><a href="#NoisyObservation-62"><span class="linenos">62</span></a>        <span class="n">visible_f</span> <span class="o">=</span> <span class="n">state</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</span><span id="NoisyObservation-63"><a href="#NoisyObservation-63"><span class="linenos">63</span></a>        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">invisible_f</span><span class="p">:</span>
</span><span id="NoisyObservation-64"><a href="#NoisyObservation-64"><span class="linenos">64</span></a>            <span class="k">del</span> <span class="n">visible_f</span><span class="p">[</span><span class="n">f</span><span class="p">]</span>
</span><span id="NoisyObservation-65"><a href="#NoisyObservation-65"><span class="linenos">65</span></a>        <span class="n">noisy_f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extract_fluent_subset</span><span class="p">(</span><span class="n">visible_f</span><span class="p">,</span> <span class="n">percent_noisy</span><span class="p">)</span>
</span><span id="NoisyObservation-66"><a href="#NoisyObservation-66"><span class="linenos">66</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">replace</span><span class="p">:</span>
</span><span id="NoisyObservation-67"><a href="#NoisyObservation-67"><span class="linenos">67</span></a>            <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">state</span><span class="p">:</span>
</span><span id="NoisyObservation-68"><a href="#NoisyObservation-68"><span class="linenos">68</span></a>                <span class="n">state</span><span class="p">[</span><span class="n">f</span><span class="p">]</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">state</span><span class="p">[</span><span class="n">f</span><span class="p">]</span> <span class="k">if</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">noisy_f</span> <span class="k">else</span> <span class="n">state</span><span class="p">[</span><span class="n">f</span><span class="p">]</span>
</span><span id="NoisyObservation-69"><a href="#NoisyObservation-69"><span class="linenos">69</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="NoisyObservation-70"><a href="#NoisyObservation-70"><span class="linenos">70</span></a>            <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">state</span><span class="p">:</span>
</span><span id="NoisyObservation-71"><a href="#NoisyObservation-71"><span class="linenos">71</span></a>                <span class="n">state</span><span class="p">[</span><span class="n">f</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="NoisyObservation-72"><a href="#NoisyObservation-72"><span class="linenos">72</span></a>                    <span class="n">state</span><span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">visible_f</span><span class="o">.</span><span class="n">keys</span><span class="p">()))]</span>
</span><span id="NoisyObservation-73"><a href="#NoisyObservation-73"><span class="linenos">73</span></a>                    <span class="k">if</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">noisy_f</span>
</span><span id="NoisyObservation-74"><a href="#NoisyObservation-74"><span class="linenos">74</span></a>                    <span class="k">else</span> <span class="n">state</span><span class="p">[</span><span class="n">f</span><span class="p">]</span>
</span><span id="NoisyObservation-75"><a href="#NoisyObservation-75"><span class="linenos">75</span></a>                <span class="p">)</span>
</span><span id="NoisyObservation-76"><a href="#NoisyObservation-76"><span class="linenos">76</span></a>        <span class="k">return</span> <span class="n">Step</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">step</span><span class="o">.</span><span class="n">action</span><span class="p">,</span> <span class="n">step</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>The Noisy Observability Token.</p>

<p>The noisy observability token stores the step where some of the values of
the fluents in the step's state are incorrect (noisy).</p>

<p>This token can be used to create states that are noisy but fully observable.</p>
</div>


                            <div id="NoisyObservation.__init__" class="classattr">
                                        <input id="NoisyObservation.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">NoisyObservation</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">step</span><span class="p">:</span> <span class="n">macq</span><span class="o">.</span><span class="n">trace</span><span class="o">.</span><span class="n">step</span><span class="o">.</span><span class="n">Step</span>,</span><span class="param">	<span class="n">percent_noisy</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span>,</span><span class="param">	<span class="n">replace</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span>)</span>

                <label class="view-source-button" for="NoisyObservation.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#NoisyObservation.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="NoisyObservation.__init__-17"><a href="#NoisyObservation.__init__-17"><span class="linenos">17</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="n">Step</span><span class="p">,</span> <span class="n">percent_noisy</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">replace</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="NoisyObservation.__init__-18"><a href="#NoisyObservation.__init__-18"><span class="linenos">18</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="NoisyObservation.__init__-19"><a href="#NoisyObservation.__init__-19"><span class="linenos">19</span></a><span class="sd">        Creates an NoisyObservation object, storing the state and action.</span>
</span><span id="NoisyObservation.__init__-20"><a href="#NoisyObservation.__init__-20"><span class="linenos">20</span></a>
</span><span id="NoisyObservation.__init__-21"><a href="#NoisyObservation.__init__-21"><span class="linenos">21</span></a><span class="sd">        Args:</span>
</span><span id="NoisyObservation.__init__-22"><a href="#NoisyObservation.__init__-22"><span class="linenos">22</span></a><span class="sd">            step (Step):</span>
</span><span id="NoisyObservation.__init__-23"><a href="#NoisyObservation.__init__-23"><span class="linenos">23</span></a><span class="sd">                The step associated with this observation.</span>
</span><span id="NoisyObservation.__init__-24"><a href="#NoisyObservation.__init__-24"><span class="linenos">24</span></a><span class="sd">            percent_noisy (float):</span>
</span><span id="NoisyObservation.__init__-25"><a href="#NoisyObservation.__init__-25"><span class="linenos">25</span></a><span class="sd">                The percentage of fluents to randomly make noisy in the observation.</span>
</span><span id="NoisyObservation.__init__-26"><a href="#NoisyObservation.__init__-26"><span class="linenos">26</span></a><span class="sd">            replace (bool):</span>
</span><span id="NoisyObservation.__init__-27"><a href="#NoisyObservation.__init__-27"><span class="linenos">27</span></a><span class="sd">                Option to replace noisy fluents with the values of other existing fluents instead</span>
</span><span id="NoisyObservation.__init__-28"><a href="#NoisyObservation.__init__-28"><span class="linenos">28</span></a><span class="sd">                of just flipping their values.</span>
</span><span id="NoisyObservation.__init__-29"><a href="#NoisyObservation.__init__-29"><span class="linenos">29</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="NoisyObservation.__init__-30"><a href="#NoisyObservation.__init__-30"><span class="linenos">30</span></a>
</span><span id="NoisyObservation.__init__-31"><a href="#NoisyObservation.__init__-31"><span class="linenos">31</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</span><span id="NoisyObservation.__init__-32"><a href="#NoisyObservation.__init__-32"><span class="linenos">32</span></a>
</span><span id="NoisyObservation.__init__-33"><a href="#NoisyObservation.__init__-33"><span class="linenos">33</span></a>        <span class="k">if</span> <span class="n">percent_noisy</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">percent_noisy</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="NoisyObservation.__init__-34"><a href="#NoisyObservation.__init__-34"><span class="linenos">34</span></a>            <span class="k">raise</span> <span class="n">PercentError</span><span class="p">()</span>
</span><span id="NoisyObservation.__init__-35"><a href="#NoisyObservation.__init__-35"><span class="linenos">35</span></a>
</span><span id="NoisyObservation.__init__-36"><a href="#NoisyObservation.__init__-36"><span class="linenos">36</span></a>        <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">random_noisy_subset</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">percent_noisy</span><span class="p">,</span> <span class="n">replace</span><span class="p">)</span>
</span><span id="NoisyObservation.__init__-37"><a href="#NoisyObservation.__init__-37"><span class="linenos">37</span></a>
</span><span id="NoisyObservation.__init__-38"><a href="#NoisyObservation.__init__-38"><span class="linenos">38</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</span><span id="NoisyObservation.__init__-39"><a href="#NoisyObservation.__init__-39"><span class="linenos">39</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">action</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">step</span><span class="o">.</span><span class="n">action</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Creates an NoisyObservation object, storing the state and action.</p>

<p>Args:
    step (Step):
        The step associated with this observation.
    percent_noisy (float):
        The percentage of fluents to randomly make noisy in the observation.
    replace (bool):
        Option to replace noisy fluents with the values of other existing fluents instead
        of just flipping their values.</p>
</div>


                            </div>
                            <div id="NoisyObservation.state" class="classattr">
                                <div class="attr variable">
            <span class="name">state</span><span class="annotation">: Union[macq.trace.state.State, NoneType]</span>

        
    </div>
    <a class="headerlink" href="#NoisyObservation.state"></a>
    
    

                            </div>
                            <div id="NoisyObservation.action" class="classattr">
                                <div class="attr variable">
            <span class="name">action</span><span class="annotation">: Union[macq.trace.action.Action, NoneType]</span>

        
    </div>
    <a class="headerlink" href="#NoisyObservation.action"></a>
    
    

                            </div>
                            <div id="NoisyObservation.random_noisy_subset" class="classattr">
                                        <input id="NoisyObservation.random_noisy_subset-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">random_noisy_subset</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">step</span><span class="p">:</span> <span class="n">macq</span><span class="o">.</span><span class="n">trace</span><span class="o">.</span><span class="n">step</span><span class="o">.</span><span class="n">Step</span>,</span><span class="param">	<span class="n">percent_noisy</span><span class="p">:</span> <span class="nb">float</span>,</span><span class="param">	<span class="n">replace</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="NoisyObservation.random_noisy_subset-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#NoisyObservation.random_noisy_subset"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="NoisyObservation.random_noisy_subset-41"><a href="#NoisyObservation.random_noisy_subset-41"><span class="linenos">41</span></a>    <span class="k">def</span> <span class="nf">random_noisy_subset</span><span class="p">(</span>
</span><span id="NoisyObservation.random_noisy_subset-42"><a href="#NoisyObservation.random_noisy_subset-42"><span class="linenos">42</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="n">Step</span><span class="p">,</span> <span class="n">percent_noisy</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">replace</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="NoisyObservation.random_noisy_subset-43"><a href="#NoisyObservation.random_noisy_subset-43"><span class="linenos">43</span></a>    <span class="p">):</span>
</span><span id="NoisyObservation.random_noisy_subset-44"><a href="#NoisyObservation.random_noisy_subset-44"><span class="linenos">44</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generates a random subset of fluents corresponding to the percent provided</span>
</span><span id="NoisyObservation.random_noisy_subset-45"><a href="#NoisyObservation.random_noisy_subset-45"><span class="linenos">45</span></a><span class="sd">        and flips their value to create noise.</span>
</span><span id="NoisyObservation.random_noisy_subset-46"><a href="#NoisyObservation.random_noisy_subset-46"><span class="linenos">46</span></a>
</span><span id="NoisyObservation.random_noisy_subset-47"><a href="#NoisyObservation.random_noisy_subset-47"><span class="linenos">47</span></a><span class="sd">        Args:</span>
</span><span id="NoisyObservation.random_noisy_subset-48"><a href="#NoisyObservation.random_noisy_subset-48"><span class="linenos">48</span></a><span class="sd">            step (Step):</span>
</span><span id="NoisyObservation.random_noisy_subset-49"><a href="#NoisyObservation.random_noisy_subset-49"><span class="linenos">49</span></a><span class="sd">                The step associated with this observation.</span>
</span><span id="NoisyObservation.random_noisy_subset-50"><a href="#NoisyObservation.random_noisy_subset-50"><span class="linenos">50</span></a><span class="sd">            percent_noisy (float):</span>
</span><span id="NoisyObservation.random_noisy_subset-51"><a href="#NoisyObservation.random_noisy_subset-51"><span class="linenos">51</span></a><span class="sd">                The percentage of fluents to randomly make noisy in the observation.</span>
</span><span id="NoisyObservation.random_noisy_subset-52"><a href="#NoisyObservation.random_noisy_subset-52"><span class="linenos">52</span></a><span class="sd">            replace (bool):</span>
</span><span id="NoisyObservation.random_noisy_subset-53"><a href="#NoisyObservation.random_noisy_subset-53"><span class="linenos">53</span></a><span class="sd">                Option to replace noisy fluents with the values of other existing fluents instead</span>
</span><span id="NoisyObservation.random_noisy_subset-54"><a href="#NoisyObservation.random_noisy_subset-54"><span class="linenos">54</span></a><span class="sd">                of just flipping their values.</span>
</span><span id="NoisyObservation.random_noisy_subset-55"><a href="#NoisyObservation.random_noisy_subset-55"><span class="linenos">55</span></a>
</span><span id="NoisyObservation.random_noisy_subset-56"><a href="#NoisyObservation.random_noisy_subset-56"><span class="linenos">56</span></a><span class="sd">        Returns:</span>
</span><span id="NoisyObservation.random_noisy_subset-57"><a href="#NoisyObservation.random_noisy_subset-57"><span class="linenos">57</span></a><span class="sd">            A new `Step` with the noisy fluents in place.</span>
</span><span id="NoisyObservation.random_noisy_subset-58"><a href="#NoisyObservation.random_noisy_subset-58"><span class="linenos">58</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="NoisyObservation.random_noisy_subset-59"><a href="#NoisyObservation.random_noisy_subset-59"><span class="linenos">59</span></a>        <span class="c1"># hidden fluents cannot be made noisy; only use visible fluents</span>
</span><span id="NoisyObservation.random_noisy_subset-60"><a href="#NoisyObservation.random_noisy_subset-60"><span class="linenos">60</span></a>        <span class="n">state</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</span><span id="NoisyObservation.random_noisy_subset-61"><a href="#NoisyObservation.random_noisy_subset-61"><span class="linenos">61</span></a>        <span class="n">invisible_f</span> <span class="o">=</span> <span class="p">{</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">state</span> <span class="k">if</span> <span class="n">state</span><span class="p">[</span><span class="n">f</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">}</span>
</span><span id="NoisyObservation.random_noisy_subset-62"><a href="#NoisyObservation.random_noisy_subset-62"><span class="linenos">62</span></a>        <span class="n">visible_f</span> <span class="o">=</span> <span class="n">state</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</span><span id="NoisyObservation.random_noisy_subset-63"><a href="#NoisyObservation.random_noisy_subset-63"><span class="linenos">63</span></a>        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">invisible_f</span><span class="p">:</span>
</span><span id="NoisyObservation.random_noisy_subset-64"><a href="#NoisyObservation.random_noisy_subset-64"><span class="linenos">64</span></a>            <span class="k">del</span> <span class="n">visible_f</span><span class="p">[</span><span class="n">f</span><span class="p">]</span>
</span><span id="NoisyObservation.random_noisy_subset-65"><a href="#NoisyObservation.random_noisy_subset-65"><span class="linenos">65</span></a>        <span class="n">noisy_f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extract_fluent_subset</span><span class="p">(</span><span class="n">visible_f</span><span class="p">,</span> <span class="n">percent_noisy</span><span class="p">)</span>
</span><span id="NoisyObservation.random_noisy_subset-66"><a href="#NoisyObservation.random_noisy_subset-66"><span class="linenos">66</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">replace</span><span class="p">:</span>
</span><span id="NoisyObservation.random_noisy_subset-67"><a href="#NoisyObservation.random_noisy_subset-67"><span class="linenos">67</span></a>            <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">state</span><span class="p">:</span>
</span><span id="NoisyObservation.random_noisy_subset-68"><a href="#NoisyObservation.random_noisy_subset-68"><span class="linenos">68</span></a>                <span class="n">state</span><span class="p">[</span><span class="n">f</span><span class="p">]</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">state</span><span class="p">[</span><span class="n">f</span><span class="p">]</span> <span class="k">if</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">noisy_f</span> <span class="k">else</span> <span class="n">state</span><span class="p">[</span><span class="n">f</span><span class="p">]</span>
</span><span id="NoisyObservation.random_noisy_subset-69"><a href="#NoisyObservation.random_noisy_subset-69"><span class="linenos">69</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="NoisyObservation.random_noisy_subset-70"><a href="#NoisyObservation.random_noisy_subset-70"><span class="linenos">70</span></a>            <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">state</span><span class="p">:</span>
</span><span id="NoisyObservation.random_noisy_subset-71"><a href="#NoisyObservation.random_noisy_subset-71"><span class="linenos">71</span></a>                <span class="n">state</span><span class="p">[</span><span class="n">f</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="NoisyObservation.random_noisy_subset-72"><a href="#NoisyObservation.random_noisy_subset-72"><span class="linenos">72</span></a>                    <span class="n">state</span><span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">visible_f</span><span class="o">.</span><span class="n">keys</span><span class="p">()))]</span>
</span><span id="NoisyObservation.random_noisy_subset-73"><a href="#NoisyObservation.random_noisy_subset-73"><span class="linenos">73</span></a>                    <span class="k">if</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">noisy_f</span>
</span><span id="NoisyObservation.random_noisy_subset-74"><a href="#NoisyObservation.random_noisy_subset-74"><span class="linenos">74</span></a>                    <span class="k">else</span> <span class="n">state</span><span class="p">[</span><span class="n">f</span><span class="p">]</span>
</span><span id="NoisyObservation.random_noisy_subset-75"><a href="#NoisyObservation.random_noisy_subset-75"><span class="linenos">75</span></a>                <span class="p">)</span>
</span><span id="NoisyObservation.random_noisy_subset-76"><a href="#NoisyObservation.random_noisy_subset-76"><span class="linenos">76</span></a>        <span class="k">return</span> <span class="n">Step</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">step</span><span class="o">.</span><span class="n">action</span><span class="p">,</span> <span class="n">step</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Generates a random subset of fluents corresponding to the percent provided
and flips their value to create noise.</p>

<p>Args:
    step (Step):
        The step associated with this observation.
    percent_noisy (float):
        The percentage of fluents to randomly make noisy in the observation.
    replace (bool):
        Option to replace noisy fluents with the values of other existing fluents instead
        of just flipping their values.</p>

<p>Returns:
    A new <code>Step</code> with the noisy fluents in place.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#Observation">Observation</a></dt>
                                <dd id="NoisyObservation.index" class="variable"><a href="#Observation.index">index</a></dd>
                <dd id="NoisyObservation.get_details" class="function"><a href="#Observation.get_details">get_details</a></dd>
                <dd id="NoisyObservation.extract_fluent_subset" class="function"><a href="#Observation.extract_fluent_subset">extract_fluent_subset</a></dd>
                <dd id="NoisyObservation.matches" class="function"><a href="#Observation.matches">matches</a></dd>
                <dd id="NoisyObservation.serialize" class="function"><a href="#Observation.serialize">serialize</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="NoisyPartialObservation">
                            <input id="NoisyPartialObservation-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">NoisyPartialObservation</span><wbr>(<span class="base"><a href="#PartialObservation">macq.observation.PartialObservation</a></span>, <span class="base"><a href="#NoisyObservation">macq.observation.NoisyObservation</a></span>):

                <label class="view-source-button" for="NoisyPartialObservation-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#NoisyPartialObservation"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="NoisyPartialObservation-8"><a href="#NoisyPartialObservation-8"><span class="linenos"> 8</span></a><span class="k">class</span> <span class="nc">NoisyPartialObservation</span><span class="p">(</span><span class="n">PartialObservation</span><span class="p">,</span> <span class="n">NoisyObservation</span><span class="p">):</span>
</span><span id="NoisyPartialObservation-9"><a href="#NoisyPartialObservation-9"><span class="linenos"> 9</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The Noisy Partial Observability Token.</span>
</span><span id="NoisyPartialObservation-10"><a href="#NoisyPartialObservation-10"><span class="linenos">10</span></a>
</span><span id="NoisyPartialObservation-11"><a href="#NoisyPartialObservation-11"><span class="linenos">11</span></a><span class="sd">    The noisy partial observability token stores the step where some of the values of</span>
</span><span id="NoisyPartialObservation-12"><a href="#NoisyPartialObservation-12"><span class="linenos">12</span></a><span class="sd">    the fluents in the step&#39;s state are incorrect (noisy) or unknown (partial). Inherits</span>
</span><span id="NoisyPartialObservation-13"><a href="#NoisyPartialObservation-13"><span class="linenos">13</span></a><span class="sd">    both the PartialObservation token class and the NoisyObservation token class.</span>
</span><span id="NoisyPartialObservation-14"><a href="#NoisyPartialObservation-14"><span class="linenos">14</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="NoisyPartialObservation-15"><a href="#NoisyPartialObservation-15"><span class="linenos">15</span></a>
</span><span id="NoisyPartialObservation-16"><a href="#NoisyPartialObservation-16"><span class="linenos">16</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="NoisyPartialObservation-17"><a href="#NoisyPartialObservation-17"><span class="linenos">17</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="NoisyPartialObservation-18"><a href="#NoisyPartialObservation-18"><span class="linenos">18</span></a>        <span class="n">step</span><span class="p">:</span> <span class="n">Step</span><span class="p">,</span>
</span><span id="NoisyPartialObservation-19"><a href="#NoisyPartialObservation-19"><span class="linenos">19</span></a>        <span class="n">percent_missing</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="NoisyPartialObservation-20"><a href="#NoisyPartialObservation-20"><span class="linenos">20</span></a>        <span class="n">hide</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">Fluent</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="NoisyPartialObservation-21"><a href="#NoisyPartialObservation-21"><span class="linenos">21</span></a>        <span class="n">percent_noisy</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="NoisyPartialObservation-22"><a href="#NoisyPartialObservation-22"><span class="linenos">22</span></a>        <span class="n">replace</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="NoisyPartialObservation-23"><a href="#NoisyPartialObservation-23"><span class="linenos">23</span></a>    <span class="p">):</span>
</span><span id="NoisyPartialObservation-24"><a href="#NoisyPartialObservation-24"><span class="linenos">24</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="NoisyPartialObservation-25"><a href="#NoisyPartialObservation-25"><span class="linenos">25</span></a><span class="sd">        Creates an NoisyPartialObservation object.</span>
</span><span id="NoisyPartialObservation-26"><a href="#NoisyPartialObservation-26"><span class="linenos">26</span></a>
</span><span id="NoisyPartialObservation-27"><a href="#NoisyPartialObservation-27"><span class="linenos">27</span></a><span class="sd">        Args:</span>
</span><span id="NoisyPartialObservation-28"><a href="#NoisyPartialObservation-28"><span class="linenos">28</span></a><span class="sd">            step (Step):</span>
</span><span id="NoisyPartialObservation-29"><a href="#NoisyPartialObservation-29"><span class="linenos">29</span></a><span class="sd">                The step associated with this observation.</span>
</span><span id="NoisyPartialObservation-30"><a href="#NoisyPartialObservation-30"><span class="linenos">30</span></a><span class="sd">            percent_missing (float):</span>
</span><span id="NoisyPartialObservation-31"><a href="#NoisyPartialObservation-31"><span class="linenos">31</span></a><span class="sd">                The percentage of fluents to randomly hide in the observation.</span>
</span><span id="NoisyPartialObservation-32"><a href="#NoisyPartialObservation-32"><span class="linenos">32</span></a><span class="sd">            hide (Set[Fluent]):</span>
</span><span id="NoisyPartialObservation-33"><a href="#NoisyPartialObservation-33"><span class="linenos">33</span></a><span class="sd">                The set of fluents to explicitly hide in the observation.</span>
</span><span id="NoisyPartialObservation-34"><a href="#NoisyPartialObservation-34"><span class="linenos">34</span></a><span class="sd">            percent_noisy (float):</span>
</span><span id="NoisyPartialObservation-35"><a href="#NoisyPartialObservation-35"><span class="linenos">35</span></a><span class="sd">                The percentage of fluents to randomly make noisy in the observation.</span>
</span><span id="NoisyPartialObservation-36"><a href="#NoisyPartialObservation-36"><span class="linenos">36</span></a><span class="sd">            replace (bool):</span>
</span><span id="NoisyPartialObservation-37"><a href="#NoisyPartialObservation-37"><span class="linenos">37</span></a><span class="sd">                Option to replace noisy fluents with the values of other existing fluents instead</span>
</span><span id="NoisyPartialObservation-38"><a href="#NoisyPartialObservation-38"><span class="linenos">38</span></a><span class="sd">                of just flipping their values.</span>
</span><span id="NoisyPartialObservation-39"><a href="#NoisyPartialObservation-39"><span class="linenos">39</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="NoisyPartialObservation-40"><a href="#NoisyPartialObservation-40"><span class="linenos">40</span></a>        <span class="c1"># get state and action with missing fluents (updates self.state and self.action)</span>
</span><span id="NoisyPartialObservation-41"><a href="#NoisyPartialObservation-41"><span class="linenos">41</span></a>        <span class="n">PartialObservation</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="NoisyPartialObservation-42"><a href="#NoisyPartialObservation-42"><span class="linenos">42</span></a>            <span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span> <span class="n">percent_missing</span><span class="o">=</span><span class="n">percent_missing</span><span class="p">,</span> <span class="n">hide</span><span class="o">=</span><span class="n">hide</span>
</span><span id="NoisyPartialObservation-43"><a href="#NoisyPartialObservation-43"><span class="linenos">43</span></a>        <span class="p">)</span>
</span><span id="NoisyPartialObservation-44"><a href="#NoisyPartialObservation-44"><span class="linenos">44</span></a>        <span class="c1"># get state and action with noisy fluents, using the updated state and action (then updates self.state and self.action)</span>
</span><span id="NoisyPartialObservation-45"><a href="#NoisyPartialObservation-45"><span class="linenos">45</span></a>        <span class="n">NoisyObservation</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="NoisyPartialObservation-46"><a href="#NoisyPartialObservation-46"><span class="linenos">46</span></a>            <span class="bp">self</span><span class="p">,</span>
</span><span id="NoisyPartialObservation-47"><a href="#NoisyPartialObservation-47"><span class="linenos">47</span></a>            <span class="n">step</span><span class="o">=</span><span class="n">Step</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span><span class="p">,</span> <span class="n">step</span><span class="o">.</span><span class="n">index</span><span class="p">),</span>
</span><span id="NoisyPartialObservation-48"><a href="#NoisyPartialObservation-48"><span class="linenos">48</span></a>            <span class="n">percent_noisy</span><span class="o">=</span><span class="n">percent_noisy</span><span class="p">,</span>
</span><span id="NoisyPartialObservation-49"><a href="#NoisyPartialObservation-49"><span class="linenos">49</span></a>            <span class="n">replace</span><span class="o">=</span><span class="n">replace</span><span class="p">,</span>
</span><span id="NoisyPartialObservation-50"><a href="#NoisyPartialObservation-50"><span class="linenos">50</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>The Noisy Partial Observability Token.</p>

<p>The noisy partial observability token stores the step where some of the values of
the fluents in the step's state are incorrect (noisy) or unknown (partial). Inherits
both the PartialObservation token class and the NoisyObservation token class.</p>
</div>


                            <div id="NoisyPartialObservation.__init__" class="classattr">
                                        <input id="NoisyPartialObservation.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">NoisyPartialObservation</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">step</span><span class="p">:</span> <span class="n">macq</span><span class="o">.</span><span class="n">trace</span><span class="o">.</span><span class="n">step</span><span class="o">.</span><span class="n">Step</span>,</span><span class="param">	<span class="n">percent_missing</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span>,</span><span class="param">	<span class="n">hide</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">macq</span><span class="o">.</span><span class="n">trace</span><span class="o">.</span><span class="n">fluent</span><span class="o">.</span><span class="n">Fluent</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">percent_noisy</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span>,</span><span class="param">	<span class="n">replace</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span>)</span>

                <label class="view-source-button" for="NoisyPartialObservation.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#NoisyPartialObservation.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="NoisyPartialObservation.__init__-16"><a href="#NoisyPartialObservation.__init__-16"><span class="linenos">16</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="NoisyPartialObservation.__init__-17"><a href="#NoisyPartialObservation.__init__-17"><span class="linenos">17</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="NoisyPartialObservation.__init__-18"><a href="#NoisyPartialObservation.__init__-18"><span class="linenos">18</span></a>        <span class="n">step</span><span class="p">:</span> <span class="n">Step</span><span class="p">,</span>
</span><span id="NoisyPartialObservation.__init__-19"><a href="#NoisyPartialObservation.__init__-19"><span class="linenos">19</span></a>        <span class="n">percent_missing</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="NoisyPartialObservation.__init__-20"><a href="#NoisyPartialObservation.__init__-20"><span class="linenos">20</span></a>        <span class="n">hide</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">Fluent</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="NoisyPartialObservation.__init__-21"><a href="#NoisyPartialObservation.__init__-21"><span class="linenos">21</span></a>        <span class="n">percent_noisy</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="NoisyPartialObservation.__init__-22"><a href="#NoisyPartialObservation.__init__-22"><span class="linenos">22</span></a>        <span class="n">replace</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="NoisyPartialObservation.__init__-23"><a href="#NoisyPartialObservation.__init__-23"><span class="linenos">23</span></a>    <span class="p">):</span>
</span><span id="NoisyPartialObservation.__init__-24"><a href="#NoisyPartialObservation.__init__-24"><span class="linenos">24</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="NoisyPartialObservation.__init__-25"><a href="#NoisyPartialObservation.__init__-25"><span class="linenos">25</span></a><span class="sd">        Creates an NoisyPartialObservation object.</span>
</span><span id="NoisyPartialObservation.__init__-26"><a href="#NoisyPartialObservation.__init__-26"><span class="linenos">26</span></a>
</span><span id="NoisyPartialObservation.__init__-27"><a href="#NoisyPartialObservation.__init__-27"><span class="linenos">27</span></a><span class="sd">        Args:</span>
</span><span id="NoisyPartialObservation.__init__-28"><a href="#NoisyPartialObservation.__init__-28"><span class="linenos">28</span></a><span class="sd">            step (Step):</span>
</span><span id="NoisyPartialObservation.__init__-29"><a href="#NoisyPartialObservation.__init__-29"><span class="linenos">29</span></a><span class="sd">                The step associated with this observation.</span>
</span><span id="NoisyPartialObservation.__init__-30"><a href="#NoisyPartialObservation.__init__-30"><span class="linenos">30</span></a><span class="sd">            percent_missing (float):</span>
</span><span id="NoisyPartialObservation.__init__-31"><a href="#NoisyPartialObservation.__init__-31"><span class="linenos">31</span></a><span class="sd">                The percentage of fluents to randomly hide in the observation.</span>
</span><span id="NoisyPartialObservation.__init__-32"><a href="#NoisyPartialObservation.__init__-32"><span class="linenos">32</span></a><span class="sd">            hide (Set[Fluent]):</span>
</span><span id="NoisyPartialObservation.__init__-33"><a href="#NoisyPartialObservation.__init__-33"><span class="linenos">33</span></a><span class="sd">                The set of fluents to explicitly hide in the observation.</span>
</span><span id="NoisyPartialObservation.__init__-34"><a href="#NoisyPartialObservation.__init__-34"><span class="linenos">34</span></a><span class="sd">            percent_noisy (float):</span>
</span><span id="NoisyPartialObservation.__init__-35"><a href="#NoisyPartialObservation.__init__-35"><span class="linenos">35</span></a><span class="sd">                The percentage of fluents to randomly make noisy in the observation.</span>
</span><span id="NoisyPartialObservation.__init__-36"><a href="#NoisyPartialObservation.__init__-36"><span class="linenos">36</span></a><span class="sd">            replace (bool):</span>
</span><span id="NoisyPartialObservation.__init__-37"><a href="#NoisyPartialObservation.__init__-37"><span class="linenos">37</span></a><span class="sd">                Option to replace noisy fluents with the values of other existing fluents instead</span>
</span><span id="NoisyPartialObservation.__init__-38"><a href="#NoisyPartialObservation.__init__-38"><span class="linenos">38</span></a><span class="sd">                of just flipping their values.</span>
</span><span id="NoisyPartialObservation.__init__-39"><a href="#NoisyPartialObservation.__init__-39"><span class="linenos">39</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="NoisyPartialObservation.__init__-40"><a href="#NoisyPartialObservation.__init__-40"><span class="linenos">40</span></a>        <span class="c1"># get state and action with missing fluents (updates self.state and self.action)</span>
</span><span id="NoisyPartialObservation.__init__-41"><a href="#NoisyPartialObservation.__init__-41"><span class="linenos">41</span></a>        <span class="n">PartialObservation</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="NoisyPartialObservation.__init__-42"><a href="#NoisyPartialObservation.__init__-42"><span class="linenos">42</span></a>            <span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span> <span class="n">percent_missing</span><span class="o">=</span><span class="n">percent_missing</span><span class="p">,</span> <span class="n">hide</span><span class="o">=</span><span class="n">hide</span>
</span><span id="NoisyPartialObservation.__init__-43"><a href="#NoisyPartialObservation.__init__-43"><span class="linenos">43</span></a>        <span class="p">)</span>
</span><span id="NoisyPartialObservation.__init__-44"><a href="#NoisyPartialObservation.__init__-44"><span class="linenos">44</span></a>        <span class="c1"># get state and action with noisy fluents, using the updated state and action (then updates self.state and self.action)</span>
</span><span id="NoisyPartialObservation.__init__-45"><a href="#NoisyPartialObservation.__init__-45"><span class="linenos">45</span></a>        <span class="n">NoisyObservation</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="NoisyPartialObservation.__init__-46"><a href="#NoisyPartialObservation.__init__-46"><span class="linenos">46</span></a>            <span class="bp">self</span><span class="p">,</span>
</span><span id="NoisyPartialObservation.__init__-47"><a href="#NoisyPartialObservation.__init__-47"><span class="linenos">47</span></a>            <span class="n">step</span><span class="o">=</span><span class="n">Step</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span><span class="p">,</span> <span class="n">step</span><span class="o">.</span><span class="n">index</span><span class="p">),</span>
</span><span id="NoisyPartialObservation.__init__-48"><a href="#NoisyPartialObservation.__init__-48"><span class="linenos">48</span></a>            <span class="n">percent_noisy</span><span class="o">=</span><span class="n">percent_noisy</span><span class="p">,</span>
</span><span id="NoisyPartialObservation.__init__-49"><a href="#NoisyPartialObservation.__init__-49"><span class="linenos">49</span></a>            <span class="n">replace</span><span class="o">=</span><span class="n">replace</span><span class="p">,</span>
</span><span id="NoisyPartialObservation.__init__-50"><a href="#NoisyPartialObservation.__init__-50"><span class="linenos">50</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Creates an NoisyPartialObservation object.</p>

<p>Args:
    step (Step):
        The step associated with this observation.
    percent_missing (float):
        The percentage of fluents to randomly hide in the observation.
    hide (Set[Fluent]):
        The set of fluents to explicitly hide in the observation.
    percent_noisy (float):
        The percentage of fluents to randomly make noisy in the observation.
    replace (bool):
        Option to replace noisy fluents with the values of other existing fluents instead
        of just flipping their values.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#PartialObservation">PartialObservation</a></dt>
                                <dd id="NoisyPartialObservation.state" class="variable"><a href="#PartialObservation.state">state</a></dd>
                <dd id="NoisyPartialObservation.action" class="variable"><a href="#PartialObservation.action">action</a></dd>
                <dd id="NoisyPartialObservation.hide_random_subset" class="function"><a href="#PartialObservation.hide_random_subset">hide_random_subset</a></dd>
                <dd id="NoisyPartialObservation.hide_subset" class="function"><a href="#PartialObservation.hide_subset">hide_subset</a></dd>

            </div>
            <div><dt><a href="#NoisyObservation">NoisyObservation</a></dt>
                                <dd id="NoisyPartialObservation.random_noisy_subset" class="function"><a href="#NoisyObservation.random_noisy_subset">random_noisy_subset</a></dd>

            </div>
            <div><dt><a href="#Observation">Observation</a></dt>
                                <dd id="NoisyPartialObservation.index" class="variable"><a href="#Observation.index">index</a></dd>
                <dd id="NoisyPartialObservation.get_details" class="function"><a href="#Observation.get_details">get_details</a></dd>
                <dd id="NoisyPartialObservation.extract_fluent_subset" class="function"><a href="#Observation.extract_fluent_subset">extract_fluent_subset</a></dd>
                <dd id="NoisyPartialObservation.matches" class="function"><a href="#Observation.matches">matches</a></dd>
                <dd id="NoisyPartialObservation.serialize" class="function"><a href="#Observation.serialize">serialize</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="NoisyPartialDisorderedParallelObservation">
                            <input id="NoisyPartialDisorderedParallelObservation-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">NoisyPartialDisorderedParallelObservation</span><wbr>(<span class="base"><a href="#NoisyPartialObservation">macq.observation.NoisyPartialObservation</a></span>):

                <label class="view-source-button" for="NoisyPartialDisorderedParallelObservation-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#NoisyPartialDisorderedParallelObservation"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="NoisyPartialDisorderedParallelObservation-7"><a href="#NoisyPartialDisorderedParallelObservation-7"><span class="linenos"> 7</span></a><span class="k">class</span> <span class="nc">NoisyPartialDisorderedParallelObservation</span><span class="p">(</span><span class="n">NoisyPartialObservation</span><span class="p">):</span>
</span><span id="NoisyPartialDisorderedParallelObservation-8"><a href="#NoisyPartialDisorderedParallelObservation-8"><span class="linenos"> 8</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The Noisy Partial Observability Token, with possibly Disordered and Parallel Actions.</span>
</span><span id="NoisyPartialDisorderedParallelObservation-9"><a href="#NoisyPartialDisorderedParallelObservation-9"><span class="linenos"> 9</span></a>
</span><span id="NoisyPartialDisorderedParallelObservation-10"><a href="#NoisyPartialDisorderedParallelObservation-10"><span class="linenos">10</span></a><span class="sd">    The noisy partial observability token with disordered and parallel actions stores the step where some of the values of</span>
</span><span id="NoisyPartialDisorderedParallelObservation-11"><a href="#NoisyPartialDisorderedParallelObservation-11"><span class="linenos">11</span></a><span class="sd">    the fluents in the step&#39;s state are incorrect (noisy) or unknown (partial). In addition, the action stored also may or may not be</span>
</span><span id="NoisyPartialDisorderedParallelObservation-12"><a href="#NoisyPartialDisorderedParallelObservation-12"><span class="linenos">12</span></a><span class="sd">    disordered with an action in another parallel action set. Finally, a &quot;parallel action set ID&quot; is stored which indicates</span>
</span><span id="NoisyPartialDisorderedParallelObservation-13"><a href="#NoisyPartialDisorderedParallelObservation-13"><span class="linenos">13</span></a><span class="sd">    which parallel action set the token is a part of. Inherits the NoisyPartialObservation token class.</span>
</span><span id="NoisyPartialDisorderedParallelObservation-14"><a href="#NoisyPartialDisorderedParallelObservation-14"><span class="linenos">14</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="NoisyPartialDisorderedParallelObservation-15"><a href="#NoisyPartialDisorderedParallelObservation-15"><span class="linenos">15</span></a>
</span><span id="NoisyPartialDisorderedParallelObservation-16"><a href="#NoisyPartialDisorderedParallelObservation-16"><span class="linenos">16</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="NoisyPartialDisorderedParallelObservation-17"><a href="#NoisyPartialDisorderedParallelObservation-17"><span class="linenos">17</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="NoisyPartialDisorderedParallelObservation-18"><a href="#NoisyPartialDisorderedParallelObservation-18"><span class="linenos">18</span></a>        <span class="n">step</span><span class="p">:</span> <span class="n">Step</span><span class="p">,</span>
</span><span id="NoisyPartialDisorderedParallelObservation-19"><a href="#NoisyPartialDisorderedParallelObservation-19"><span class="linenos">19</span></a>        <span class="n">par_act_set_ID</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
</span><span id="NoisyPartialDisorderedParallelObservation-20"><a href="#NoisyPartialDisorderedParallelObservation-20"><span class="linenos">20</span></a>        <span class="n">percent_missing</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="NoisyPartialDisorderedParallelObservation-21"><a href="#NoisyPartialDisorderedParallelObservation-21"><span class="linenos">21</span></a>        <span class="n">hide</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">Fluent</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="NoisyPartialDisorderedParallelObservation-22"><a href="#NoisyPartialDisorderedParallelObservation-22"><span class="linenos">22</span></a>        <span class="n">percent_noisy</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="NoisyPartialDisorderedParallelObservation-23"><a href="#NoisyPartialDisorderedParallelObservation-23"><span class="linenos">23</span></a>        <span class="n">replace</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="NoisyPartialDisorderedParallelObservation-24"><a href="#NoisyPartialDisorderedParallelObservation-24"><span class="linenos">24</span></a>    <span class="p">):</span>
</span><span id="NoisyPartialDisorderedParallelObservation-25"><a href="#NoisyPartialDisorderedParallelObservation-25"><span class="linenos">25</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="NoisyPartialDisorderedParallelObservation-26"><a href="#NoisyPartialDisorderedParallelObservation-26"><span class="linenos">26</span></a><span class="sd">        Creates an NoisyPartialDisorderedParallelObservation object.</span>
</span><span id="NoisyPartialDisorderedParallelObservation-27"><a href="#NoisyPartialDisorderedParallelObservation-27"><span class="linenos">27</span></a>
</span><span id="NoisyPartialDisorderedParallelObservation-28"><a href="#NoisyPartialDisorderedParallelObservation-28"><span class="linenos">28</span></a><span class="sd">        Args:</span>
</span><span id="NoisyPartialDisorderedParallelObservation-29"><a href="#NoisyPartialDisorderedParallelObservation-29"><span class="linenos">29</span></a><span class="sd">            step (Step):</span>
</span><span id="NoisyPartialDisorderedParallelObservation-30"><a href="#NoisyPartialDisorderedParallelObservation-30"><span class="linenos">30</span></a><span class="sd">                The step associated with this observation.</span>
</span><span id="NoisyPartialDisorderedParallelObservation-31"><a href="#NoisyPartialDisorderedParallelObservation-31"><span class="linenos">31</span></a><span class="sd">            par_act_set_ID (int):</span>
</span><span id="NoisyPartialDisorderedParallelObservation-32"><a href="#NoisyPartialDisorderedParallelObservation-32"><span class="linenos">32</span></a><span class="sd">                The ID that identifies which parallel action set the action in this step is a part of.</span>
</span><span id="NoisyPartialDisorderedParallelObservation-33"><a href="#NoisyPartialDisorderedParallelObservation-33"><span class="linenos">33</span></a><span class="sd">            percent_missing (float):</span>
</span><span id="NoisyPartialDisorderedParallelObservation-34"><a href="#NoisyPartialDisorderedParallelObservation-34"><span class="linenos">34</span></a><span class="sd">                The percentage of fluents to randomly hide in the observation.</span>
</span><span id="NoisyPartialDisorderedParallelObservation-35"><a href="#NoisyPartialDisorderedParallelObservation-35"><span class="linenos">35</span></a><span class="sd">            hide (Set[Fluent]):</span>
</span><span id="NoisyPartialDisorderedParallelObservation-36"><a href="#NoisyPartialDisorderedParallelObservation-36"><span class="linenos">36</span></a><span class="sd">                The set of fluents to explicitly hide in the observation.</span>
</span><span id="NoisyPartialDisorderedParallelObservation-37"><a href="#NoisyPartialDisorderedParallelObservation-37"><span class="linenos">37</span></a><span class="sd">            percent_noisy (float):</span>
</span><span id="NoisyPartialDisorderedParallelObservation-38"><a href="#NoisyPartialDisorderedParallelObservation-38"><span class="linenos">38</span></a><span class="sd">                The percentage of fluents to randomly make noisy in the observation.</span>
</span><span id="NoisyPartialDisorderedParallelObservation-39"><a href="#NoisyPartialDisorderedParallelObservation-39"><span class="linenos">39</span></a><span class="sd">            replace (bool):</span>
</span><span id="NoisyPartialDisorderedParallelObservation-40"><a href="#NoisyPartialDisorderedParallelObservation-40"><span class="linenos">40</span></a><span class="sd">                Option to replace noisy fluents with the values of other existing fluents instead</span>
</span><span id="NoisyPartialDisorderedParallelObservation-41"><a href="#NoisyPartialDisorderedParallelObservation-41"><span class="linenos">41</span></a><span class="sd">                of just flipping their values.</span>
</span><span id="NoisyPartialDisorderedParallelObservation-42"><a href="#NoisyPartialDisorderedParallelObservation-42"><span class="linenos">42</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="NoisyPartialDisorderedParallelObservation-43"><a href="#NoisyPartialDisorderedParallelObservation-43"><span class="linenos">43</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="NoisyPartialDisorderedParallelObservation-44"><a href="#NoisyPartialDisorderedParallelObservation-44"><span class="linenos">44</span></a>            <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span>
</span><span id="NoisyPartialDisorderedParallelObservation-45"><a href="#NoisyPartialDisorderedParallelObservation-45"><span class="linenos">45</span></a>            <span class="n">percent_missing</span><span class="o">=</span><span class="n">percent_missing</span><span class="p">,</span>
</span><span id="NoisyPartialDisorderedParallelObservation-46"><a href="#NoisyPartialDisorderedParallelObservation-46"><span class="linenos">46</span></a>            <span class="n">hide</span><span class="o">=</span><span class="n">hide</span><span class="p">,</span>
</span><span id="NoisyPartialDisorderedParallelObservation-47"><a href="#NoisyPartialDisorderedParallelObservation-47"><span class="linenos">47</span></a>            <span class="n">percent_noisy</span><span class="o">=</span><span class="n">percent_noisy</span><span class="p">,</span>
</span><span id="NoisyPartialDisorderedParallelObservation-48"><a href="#NoisyPartialDisorderedParallelObservation-48"><span class="linenos">48</span></a>            <span class="n">replace</span><span class="o">=</span><span class="n">replace</span><span class="p">,</span>
</span><span id="NoisyPartialDisorderedParallelObservation-49"><a href="#NoisyPartialDisorderedParallelObservation-49"><span class="linenos">49</span></a>        <span class="p">)</span>
</span><span id="NoisyPartialDisorderedParallelObservation-50"><a href="#NoisyPartialDisorderedParallelObservation-50"><span class="linenos">50</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">par_act_set_ID</span> <span class="o">=</span> <span class="n">par_act_set_ID</span>
</span></pre></div>


            <div class="docstring"><p>The Noisy Partial Observability Token, with possibly Disordered and Parallel Actions.</p>

<p>The noisy partial observability token with disordered and parallel actions stores the step where some of the values of
the fluents in the step's state are incorrect (noisy) or unknown (partial). In addition, the action stored also may or may not be
disordered with an action in another parallel action set. Finally, a "parallel action set ID" is stored which indicates
which parallel action set the token is a part of. Inherits the NoisyPartialObservation token class.</p>
</div>


                            <div id="NoisyPartialDisorderedParallelObservation.__init__" class="classattr">
                                        <input id="NoisyPartialDisorderedParallelObservation.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">NoisyPartialDisorderedParallelObservation</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">step</span><span class="p">:</span> <span class="n">macq</span><span class="o">.</span><span class="n">trace</span><span class="o">.</span><span class="n">step</span><span class="o">.</span><span class="n">Step</span>,</span><span class="param">	<span class="n">par_act_set_ID</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">percent_missing</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span>,</span><span class="param">	<span class="n">hide</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">macq</span><span class="o">.</span><span class="n">trace</span><span class="o">.</span><span class="n">fluent</span><span class="o">.</span><span class="n">Fluent</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">percent_noisy</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span>,</span><span class="param">	<span class="n">replace</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span>)</span>

                <label class="view-source-button" for="NoisyPartialDisorderedParallelObservation.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#NoisyPartialDisorderedParallelObservation.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="NoisyPartialDisorderedParallelObservation.__init__-16"><a href="#NoisyPartialDisorderedParallelObservation.__init__-16"><span class="linenos">16</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-17"><a href="#NoisyPartialDisorderedParallelObservation.__init__-17"><span class="linenos">17</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-18"><a href="#NoisyPartialDisorderedParallelObservation.__init__-18"><span class="linenos">18</span></a>        <span class="n">step</span><span class="p">:</span> <span class="n">Step</span><span class="p">,</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-19"><a href="#NoisyPartialDisorderedParallelObservation.__init__-19"><span class="linenos">19</span></a>        <span class="n">par_act_set_ID</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-20"><a href="#NoisyPartialDisorderedParallelObservation.__init__-20"><span class="linenos">20</span></a>        <span class="n">percent_missing</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-21"><a href="#NoisyPartialDisorderedParallelObservation.__init__-21"><span class="linenos">21</span></a>        <span class="n">hide</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">Fluent</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-22"><a href="#NoisyPartialDisorderedParallelObservation.__init__-22"><span class="linenos">22</span></a>        <span class="n">percent_noisy</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-23"><a href="#NoisyPartialDisorderedParallelObservation.__init__-23"><span class="linenos">23</span></a>        <span class="n">replace</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-24"><a href="#NoisyPartialDisorderedParallelObservation.__init__-24"><span class="linenos">24</span></a>    <span class="p">):</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-25"><a href="#NoisyPartialDisorderedParallelObservation.__init__-25"><span class="linenos">25</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-26"><a href="#NoisyPartialDisorderedParallelObservation.__init__-26"><span class="linenos">26</span></a><span class="sd">        Creates an NoisyPartialDisorderedParallelObservation object.</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-27"><a href="#NoisyPartialDisorderedParallelObservation.__init__-27"><span class="linenos">27</span></a>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-28"><a href="#NoisyPartialDisorderedParallelObservation.__init__-28"><span class="linenos">28</span></a><span class="sd">        Args:</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-29"><a href="#NoisyPartialDisorderedParallelObservation.__init__-29"><span class="linenos">29</span></a><span class="sd">            step (Step):</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-30"><a href="#NoisyPartialDisorderedParallelObservation.__init__-30"><span class="linenos">30</span></a><span class="sd">                The step associated with this observation.</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-31"><a href="#NoisyPartialDisorderedParallelObservation.__init__-31"><span class="linenos">31</span></a><span class="sd">            par_act_set_ID (int):</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-32"><a href="#NoisyPartialDisorderedParallelObservation.__init__-32"><span class="linenos">32</span></a><span class="sd">                The ID that identifies which parallel action set the action in this step is a part of.</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-33"><a href="#NoisyPartialDisorderedParallelObservation.__init__-33"><span class="linenos">33</span></a><span class="sd">            percent_missing (float):</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-34"><a href="#NoisyPartialDisorderedParallelObservation.__init__-34"><span class="linenos">34</span></a><span class="sd">                The percentage of fluents to randomly hide in the observation.</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-35"><a href="#NoisyPartialDisorderedParallelObservation.__init__-35"><span class="linenos">35</span></a><span class="sd">            hide (Set[Fluent]):</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-36"><a href="#NoisyPartialDisorderedParallelObservation.__init__-36"><span class="linenos">36</span></a><span class="sd">                The set of fluents to explicitly hide in the observation.</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-37"><a href="#NoisyPartialDisorderedParallelObservation.__init__-37"><span class="linenos">37</span></a><span class="sd">            percent_noisy (float):</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-38"><a href="#NoisyPartialDisorderedParallelObservation.__init__-38"><span class="linenos">38</span></a><span class="sd">                The percentage of fluents to randomly make noisy in the observation.</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-39"><a href="#NoisyPartialDisorderedParallelObservation.__init__-39"><span class="linenos">39</span></a><span class="sd">            replace (bool):</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-40"><a href="#NoisyPartialDisorderedParallelObservation.__init__-40"><span class="linenos">40</span></a><span class="sd">                Option to replace noisy fluents with the values of other existing fluents instead</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-41"><a href="#NoisyPartialDisorderedParallelObservation.__init__-41"><span class="linenos">41</span></a><span class="sd">                of just flipping their values.</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-42"><a href="#NoisyPartialDisorderedParallelObservation.__init__-42"><span class="linenos">42</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-43"><a href="#NoisyPartialDisorderedParallelObservation.__init__-43"><span class="linenos">43</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-44"><a href="#NoisyPartialDisorderedParallelObservation.__init__-44"><span class="linenos">44</span></a>            <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-45"><a href="#NoisyPartialDisorderedParallelObservation.__init__-45"><span class="linenos">45</span></a>            <span class="n">percent_missing</span><span class="o">=</span><span class="n">percent_missing</span><span class="p">,</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-46"><a href="#NoisyPartialDisorderedParallelObservation.__init__-46"><span class="linenos">46</span></a>            <span class="n">hide</span><span class="o">=</span><span class="n">hide</span><span class="p">,</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-47"><a href="#NoisyPartialDisorderedParallelObservation.__init__-47"><span class="linenos">47</span></a>            <span class="n">percent_noisy</span><span class="o">=</span><span class="n">percent_noisy</span><span class="p">,</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-48"><a href="#NoisyPartialDisorderedParallelObservation.__init__-48"><span class="linenos">48</span></a>            <span class="n">replace</span><span class="o">=</span><span class="n">replace</span><span class="p">,</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-49"><a href="#NoisyPartialDisorderedParallelObservation.__init__-49"><span class="linenos">49</span></a>        <span class="p">)</span>
</span><span id="NoisyPartialDisorderedParallelObservation.__init__-50"><a href="#NoisyPartialDisorderedParallelObservation.__init__-50"><span class="linenos">50</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">par_act_set_ID</span> <span class="o">=</span> <span class="n">par_act_set_ID</span>
</span></pre></div>


            <div class="docstring"><p>Creates an NoisyPartialDisorderedParallelObservation object.</p>

<p>Args:
    step (Step):
        The step associated with this observation.
    par_act_set_ID (int):
        The ID that identifies which parallel action set the action in this step is a part of.
    percent_missing (float):
        The percentage of fluents to randomly hide in the observation.
    hide (Set[Fluent]):
        The set of fluents to explicitly hide in the observation.
    percent_noisy (float):
        The percentage of fluents to randomly make noisy in the observation.
    replace (bool):
        Option to replace noisy fluents with the values of other existing fluents instead
        of just flipping their values.</p>
</div>


                            </div>
                            <div id="NoisyPartialDisorderedParallelObservation.par_act_set_ID" class="classattr">
                                <div class="attr variable">
            <span class="name">par_act_set_ID</span>

        
    </div>
    <a class="headerlink" href="#NoisyPartialDisorderedParallelObservation.par_act_set_ID"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#PartialObservation">PartialObservation</a></dt>
                                <dd id="NoisyPartialDisorderedParallelObservation.state" class="variable"><a href="#PartialObservation.state">state</a></dd>
                <dd id="NoisyPartialDisorderedParallelObservation.action" class="variable"><a href="#PartialObservation.action">action</a></dd>
                <dd id="NoisyPartialDisorderedParallelObservation.hide_random_subset" class="function"><a href="#PartialObservation.hide_random_subset">hide_random_subset</a></dd>
                <dd id="NoisyPartialDisorderedParallelObservation.hide_subset" class="function"><a href="#PartialObservation.hide_subset">hide_subset</a></dd>

            </div>
            <div><dt><a href="#NoisyObservation">NoisyObservation</a></dt>
                                <dd id="NoisyPartialDisorderedParallelObservation.random_noisy_subset" class="function"><a href="#NoisyObservation.random_noisy_subset">random_noisy_subset</a></dd>

            </div>
            <div><dt><a href="#Observation">Observation</a></dt>
                                <dd id="NoisyPartialDisorderedParallelObservation.index" class="variable"><a href="#Observation.index">index</a></dd>
                <dd id="NoisyPartialDisorderedParallelObservation.get_details" class="function"><a href="#Observation.get_details">get_details</a></dd>
                <dd id="NoisyPartialDisorderedParallelObservation.extract_fluent_subset" class="function"><a href="#Observation.extract_fluent_subset">extract_fluent_subset</a></dd>
                <dd id="NoisyPartialDisorderedParallelObservation.matches" class="function"><a href="#Observation.matches">matches</a></dd>
                <dd id="NoisyPartialDisorderedParallelObservation.serialize" class="function"><a href="#Observation.serialize">serialize</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>